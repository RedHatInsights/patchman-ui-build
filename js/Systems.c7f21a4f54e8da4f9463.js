(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman||[]).push([[743],{45233:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>M});var r=n(319),s=n.n(r),o=n(59713),c=n.n(o),i=n(63038),a=n.n(i),u=n(77865),l=n.n(u),f=n(89583),m=n(68738),p=n(87016),S=n(18623),y=n(75107),v=n(95466),b=n(99068),h=n(83605),d=n(50371),g=n(71724),O=n(58492),_=n(79143),j=n(52798),w=n(92026),P=n(45505),E=n(11550),k=n(10047),D=n(51439),F=n(53433),L=n(72573);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const M=function(){var e=E.N.formatMessage(S.Z.titlesSystems);(0,P.Iw)(e);var t=(0,p.useDispatch)(),n=l().useState((function(){return function(){return null}})),r=a()(n,2),o=r[0],c=r[1],i=(0,p.useSelector)((function(e){return e.SystemsListStore.rows})),u=l().useMemo((function(){return(0,j.Yk)(i)}),[i]),Z=(0,p.useSelector)((function(e){return e.SystemsListStore.status})),M=(0,p.useSelector)((function(e){return e.SystemsListStore.metadata})),W=(0,p.useSelector)((function(e){return e.SystemsListStore.queryParams})),I=(0,p.useSelector)((function(e){var t=e.entities;return t&&t.columns})),N=W.filter,T=W.search,q=(0,P.W5)(M,z);(0,P.KW)((function(){t((0,d.ZX)(W))}),[W]);var x=(0,P.T8)(M.limit,M.offset),A=a()(x,2),K=A[0],V=A[1];function z(e){t((0,d.PH)(e))}var B=(0,P.j5)(N,z),H={items:[(0,y.Z)(z,T,E.N.formatMessage(S.Z.labelsFiltersSystemsSearch))]},J={filters:(0,w.mt)(N,T),onDelete:B},R=function(){var e=I&&I.filter((function(e){return"updated"===e.key}))[0];return e=C(C({},e),{},{key:"last_upload"}),[].concat(s()(D.Fs),[e])},U=(0,P._f)(R(),z),X=l().useMemo((function(){return(0,w.hO)(R(),M.sort,0)}),[M.sort]);return l().createElement(l().Fragment,null,l().createElement(v.Z,{title:E.N.formatMessage(S.Z.titlesPatchSystems),headerOUIA:"systems"}),l().createElement(o,null),l().createElement(f.o,null,Z===_.g_?l().createElement(b.F,null):l().createElement(F.e_,{onLoad:function(e){var t=e.mergeWithEntities,n=(0,h.bh)();(0,h.z2)(C({},t((0,g.Kq)(D.Fs,n.getState().SystemsListStore))))},isFullView:!0,items:u,page:K,total:M.total_items,perPage:V,isLoaded:Z===_.Wd,onRefresh:q,exportConfig:{onSelect:function(e,t){var n=(new Date).toISOString().replace(/[T:]/g,"-").split(".")[0]+"-utc",r="systems-".concat(n);"csv"===t?(0,O.wI)(W).then((function(e){return(0,m.Sv)(e,r,"csv")})):(0,O.TW)(W).then((function(e){return(0,m.Sv)(JSON.stringify(e),r,"json")}))}},hasCheckbox:!1,actions:(0,D.Sb)((function(e){c((function(){return function(){return l().createElement(k.Z,{data:e})}}))})),filterConfig:H,activeFiltersConfig:J,tableProps:{areActionsDisabled:function(e){return e.applicable_advisories.every((function(e){return 0===e}))},onSort:U,sortBy:X,variant:L.TableVariant.compact}})))}}}]);
//# sourceMappingURL=Systems.c7f21a4f54e8da4f9463.js.map