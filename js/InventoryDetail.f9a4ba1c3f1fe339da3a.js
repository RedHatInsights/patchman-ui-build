!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="149ea679-eca0-475e-bb3f-0c821f6a0d1f",e._sentryDebugIdIdentifier="sentry-dbid-149ea679-eca0-475e-bb3f-0c821f6a0d1f")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"5cb67ae"},(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman||[]).push([[184],{39591:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(85893),a=n(43297);const r=function(e){var t=e.component,n=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]])}return n}(e,["component"]);return(0,a.useEffect)((function(){console.error("Unable to load inventory component. Failed to load ".concat(t,"."),n)}),[]),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{children:"Unable to load inventory component"}),(0,s.jsxs)("h2",{children:["Failed to load ",t]}),(0,s.jsx)("code",{children:"More info can be found in browser console output."})]})}},97804:(e,t,n)=>{n.d(t,{Z:()=>w});var s=n(43297),a=n.n(s),r=n(45697),o=n.n(r),l=n(45329),c=n(98333),i=n(4942),u=n(29439),p=n(80236),f=n(47173),m=n(49739),y=n(83826),d=n(83115),h=n(74806),g=n(93665),S=n(30893),b=n(11220),v=n(28216),O=n(83215),j=n(20677),E=n(5391);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=function(e){var t=e.patchSetState,n=void 0===t?{}:t,r=e.setPatchSetState,o=e.intl,l=(0,v.I0)(),c=n.systemsIDs,i=n.isAssignSystemsModalOpen,h=(0,s.useState)([]),P=(0,u.Z)(h,2),M=P[0],Z=P[1],D=(0,s.useState)({}),w=(0,u.Z)(D,2),k=w[0],x=w[1],_=function(){r({isAssignSystemsModalOpen:!i,systemsIDs:[]}),Z([]),x({})};return a().createElement(p.u,{variant:"small",isOpen:n.isAssignSystemsModalOpen,title:o.formatMessage(S.Z.templateApply),onClose:_,actions:[a().createElement(f.zx,{key:"confirm",isDisabled:!(null!=k&&k.id),onClick:function(){(0,b.CT)({inventory_ids:c},k.id).then((function(){l((0,O.wN)((0,j.og)(Object.keys(c).length).success)),r(I(I({},n),{},{shouldRefresh:!0,isAssignSystemsModalOpen:!1,systemsIDs:[]}))})),_()}},o.formatMessage(S.Z.templateApply)),a().createElement(f.zx,{key:"cancel",variant:"link",onClick:_},o.formatMessage(S.Z.labelsCancel))]},a().createElement(m.K,{hasGutter:!0},a().createElement(y.v,null,o.formatMessage(S.Z.templateSelect,{systemCount:Object.keys(c).length})),a().createElement(y.v,null,a().createElement(d.l,null,a().createElement(g.Z,{setSelectedPatchSet:Z,selectedSets:M,selectCallback:x}))),a().createElement(y.v,null,o.formatMessage(S.Z.templateOr)),a().createElement(y.v,null,a().createElement(f.zx,{variant:"secondary",onClick:function(){r(I(I({},n),{},{isPatchSetWizardOpen:!0,systemsIDs:(0,E.LI)(c),shouldRefresh:!1})),Z([]),x({})}},o.formatMessage(S.Z.templateCreate)))))};M.propTypes={intl:o().any,setPatchSetState:o().func,patchSetState:o().object};const Z=(0,h.ZP)(M);var D=function(e){var t=e.patchSetState,n=e.setPatchSetState;return a().createElement(a().Fragment,null,t.isUnassignSystemsModalOpen&&a().createElement(c.Z,{unassignSystemsModalState:t,setUnassignSystemsModalOpen:n,systemsIDs:t.systemsIDs}),a().createElement(Z,{patchSetState:t,setPatchSetState:n,systemsIDs:t.systemsIDs}),t.isPatchSetWizardOpen&&a().createElement(l.Z,{systemsIDs:t.systemsIDs,setBaselineState:n}))};D.propTypes={patchSetState:o().object,setPatchSetState:o().func};const w=D},98333:(e,t,n)=>{n.d(t,{Z:()=>P});var s=n(29439),a=n(43297),r=n.n(a),o=n(45697),l=n.n(o),c=n(80236),i=n(47173),u=n(50693),p=n(50383),f=n(74806),m=n(30893),y=n(15861),d=n(64687),h=n.n(d),g=n(28216),S=n(83215),b=n(11220),v=n(20677),O=n(16475),j=function(e,t,n){return r().createElement(O.P,null,n.formatMessage(m.Z[e],{systemsCount:t,b:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r().createElement("b",null,t)}}))},E=function(e){var t=e.unassignSystemsModalState,n=void 0===t?{}:t,o=e.setUnassignSystemsModalOpen,l=e.intl,f=n.systemsIDs,d=n.isUnassignSystemsModalOpen,O=(0,a.useState)([]),E=(0,s.Z)(O,2),P=E[0],I=E[1],M=(0,a.useState)(!0),Z=(0,s.Z)(M,2),D=Z[0],w=Z[1],k=function(e){o({isUnassignSystemsModalOpen:!d,systemsIDs:[],shouldRefresh:e})},x=function(){k(!1)},_=function(e,t){var n=(0,g.I0)(),s=function(){var s=(0,y.Z)(h().mark((function s(){return h().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,b.C9)({inventory_ids:t});case 2:200===s.sent.status&&(e(!0),n((0,S.wN)((0,v.$z)((null==t?void 0:t.length)||0).success)));case 4:case"end":return s.stop()}}),s)})));return function(){return s.apply(this,arguments)}}();return s}(k,P);(0,a.useEffect)((function(){w(!0),function(e){return(0,b.lc)({limit:-1,"filter[baseline_name]":"neq:",filter:{stale:[!0,!1]}}).then((function(t){return e.filter((function(e){return null==t?void 0:t.data.some((function(t){return t.id===e}))}))}))}(f).then((function(e){I(e),w(!1)}))}),[f]);var C=f.length-P.length;return r().createElement(c.u,{variant:"small",isOpen:n.isUnassignSystemsModalOpen,title:l.formatMessage(m.Z.textUnassignSystemsTitle),onClose:x,titleIconVariant:"warning",actions:[r().createElement(i.zx,{key:"confirm",variant:"danger",onClick:_,isDisabled:D||0===P.length},l.formatMessage(m.Z.labelsRemove)),r().createElement(i.zx,{key:"cancel",variant:"link",onClick:x},l.formatMessage(m.Z.labelsCancel))]},r().createElement(u.r,{hasGutter:!0},D?r().createElement(p.O,null):r().createElement(a.Fragment,null,P.length>0&&j("textUnassignSystemsStatement",P.length,l),C>0&&j("textUnassignSystemsWarning",C,l))))};E.propTypes={intl:l().any,setUnassignSystemsModalOpen:l().func,unassignSystemsModalState:l().object};const P=(0,f.ZP)(E)},13454:(e,t,n)=>{n.r(t),n.d(t,{default:()=>F});var s=n(4942),a=n(43297),r=n.n(a),o=n(14748),l=n(28216),c=n(97779),i=n(49642),u=n(7322),p=n(92544),f=n(32132),m=n(30893),y=n(91607),d=n(85893),h=n(45697),g=n.n(h),S=n(59823),b=n(96620),v=n(21602),O=n(39591),j=n(94184),E=n.n(j),P=function(){return P=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},P.apply(this,arguments)},I=function(e){var t=(0,b.useHistory)(),n=(0,l.oR)(),s=e.component;return(0,d.jsx)(s,P({className:E()(e.className,"inventory")},{children:(0,d.jsx)(a.Suspense,P({fallback:e.fallback},{children:(0,d.jsx)(S.ScalprumComponent,P({history:t,store:n,appName:"inventory",module:"./DetailWrapper",scope:"inventory",ErrorComponent:(0,d.jsx)(O.Z,P({component:"InventoryDetailHead",history:t,store:n},e)),ref:e.innerRef},e))}))}))};I.propTypes={fallback:g().node,innerRef:g().object,component:g().string,className:g().string};var M=r().forwardRef((function(e,t){return(0,d.jsx)(I,P({innerRef:t},e))}));M.propTypes={fallback:g().node,component:g().string,className:g().string},M.defaultProps={fallback:(0,d.jsx)(v.Bullseye,P({className:"pf-u-p-lg"},{children:(0,d.jsx)(v.Spinner,{size:"xl"})})),component:"section"};const Z=M;var D=function(){return D=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},D.apply(this,arguments)},w=function(e){var t=(0,b.useHistory)(),n=(0,l.oR)(),s=e.component;return(0,d.jsx)(s,D({className:E()(e.className,"inventory")},{children:(0,d.jsx)(a.Suspense,D({fallback:e.fallback},{children:(0,d.jsx)(S.ScalprumComponent,D({history:t,store:n,appName:"inventory",module:"./InventoryDetailHead",scope:"inventory",ErrorComponent:(0,d.jsx)(O.Z,D({component:"InventoryDetailHead",history:t,store:n},e)),ref:e.innerRef},e))}))}))};w.propTypes={fallback:g().node,innerRef:g().object,component:g().string,className:g().string};var k=r().forwardRef((function(e,t){return(0,d.jsx)(w,D({innerProps:t},e))}));k.propTypes={fallback:g().node,component:g().string,className:g().string},k.defaultProps={fallback:(0,d.jsx)(v.Bullseye,D({className:"pf-u-p-lg"},{children:(0,d.jsx)(v.Spinner,{size:"xl"})})),component:"section"};const x=k;var _=n(41448),C=n(50693),N=n(16475),R=n(68774),U=n(68340),A=n(9557),T=n(83215),z=n(97804),W=n(79875),L=n(79577);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const F=function(){var e=(0,b.useParams)().inventoryId,t=(0,l.oR)(),n=(0,l.I0)(),d=(0,l.v9)((function(e){return e.SystemDetailStore})),h=d.hasThirdPartyRepo,g=d.patchSetName,S=d.patchSetId,v=(0,l.v9)((function(e){var t,n=e.entityDetails;return null!==(t=null==n?void 0:n.entity)&&void 0!==t?t:{}})).display_name,O=(0,W.Z)(),j=O.patchSetState,E=O.setPatchSetState,P=O.openAssignSystemsModal,I=O.openUnassignSystemsModal;(0,a.useEffect)((function(){return function(){n((0,T.L1)())}}),[]),(0,a.useEffect)((function(){n((0,A.Eh)(e))}),[j.shouldRefresh]);var M=v&&"".concat(v," - ").concat(f.N.formatMessage(m.Z.titlesSystems));return(0,y.Iw)(M),r().createElement(Z,{onLoad:function(e){var n=e.mergeWithDetail;t.replaceReducer((0,c.UY)(H(H({},u.E),n(p.J))))},inventoryId:e},r().createElement(z.Z,{patchSetState:j,setPatchSetState:E}),r().createElement(i.Z,{title:"",headerOUIA:"inventory-details",breadcrumbs:[{title:f.N.formatMessage(m.Z.titlesPatchSystems),to:"/systems",isActive:!1},v&&{title:v,isActive:!0}]},r().createElement(x,{hideBack:!0,showTags:!0,inventoryId:e,actions:[{title:f.N.formatMessage(m.Z.titlesTemplateAssign),key:"assign-to-template",onClick:function(){return P((0,s.Z)({},e,!0))}},{title:f.N.formatMessage(m.Z.titlesTemplateRemoveMultipleButton),key:"remove-from-template",isDisabled:!g,onClick:function(){return I([e])}}],appList:[]},r().createElement(C.r,null,g&&r().createElement(N.P,null,r().createElement(R.D,null,r().createElement(U.x,null,f.N.formatMessage(m.Z.labelsColumnsTemplate),":",r().createElement(b.Link,{to:{pathname:"/templates/".concat(S)},className:"pf-u-ml-xs"},g)))),r().createElement(N.P,null,h&&r().createElement(_.b,{className:"pf-u-mt-md",isInline:!0,variant:"info",title:f.N.formatMessage(m.Z.textThirdPartyInfo)}))))),r().createElement(o.Z,null,r().createElement(L.Z,{inventoryId:e})))}},79875:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(29439),a=n(43297),r=n(5391);const o=function(e){var t=(0,a.useState)({isPatchSetWizardOpen:!1,isUnassignSystemsModalOpen:!1,isAssignSystemsModalOpen:!1,shouldRefresh:!1,systemsIDs:[]}),n=(0,s.Z)(t,2),o=n[0],l=n[1];return{patchSetState:o,setPatchSetState:l,openPatchSetAssignWizard:function(t){l({isPatchSetWizardOpen:!0,systemsIDs:"string"==typeof t&&""!==t?[t]:(0,r.LI)(e),shouldRefresh:!1})},openUnassignSystemsModal:function(e){l({isUnassignSystemsModalOpen:!0,systemsIDs:e,shouldRefresh:!1})},openAssignSystemsModal:function(e){l({isAssignSystemsModalOpen:!0,systemsIDs:e,shouldRefresh:!1})},openPatchSetEditModal:function(e){l({isPatchSetWizardOpen:!0,patchSetID:e})}}}}}]);