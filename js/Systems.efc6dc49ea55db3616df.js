(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1091:function(e,t,r){(e.exports=r(3)(!1)).push([e.i,".col-width-30{width:30%}.col-width-40{width:40%}\n",""])},1097:function(e,t,r){var n=r(1115),o=r(1116),a=r(660),i=r(1117);e.exports=function(e){return n(e)||o(e)||a(e)||i()}},1115:function(e,t,r){var n=r(661);e.exports=function(e){if(Array.isArray(e))return n(e)}},1116:function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},1117:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},1118:function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return d}));var n=r(1097),o=r.n(n),a=r(26),i=r.n(a),s=r(15);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l={columns:[],rows:[],entities:[]};function f(e,t,r){if(r.loaded){var n=r.columns.filter((function(e){return"updated"===e.key}));return n=[u(u({},n[0]),{},{transforms:[s.sortable]})],u(u({},r),{},{columns:[].concat(o()(e||[]),o()(n||[])),rows:(a=r.rows,i=t,a.map((function(e){var t=i&&i.find((function(t){return t.id===e.id}));return u(u({},e),{},{updated:t&&t.attributes.last_upload||e.updated})})))})}var a,i;return r}function p(e,t,r){return r.loaded?u(u({},r),{},{columns:e}):r}var b=function(e,t){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=arguments.length>1?arguments[1]:void 0,o=n.store&&n.store.getState(),a=o&&("SYSTEMS_PAGE"===t?o.SystemsListStore:o.AdvisorySystemsStore);switch(n.type){case"LOAD_ENTITIES_FULFILLED":return f(e,a.rows,r);default:return r}}},d=function(e){return function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=arguments.length>1?arguments[1]:void 0,o=n.store&&n.store.getState();switch(n.type){case"LOAD_ENTITIES_FULFILLED":return p(e,null===(t=o.PackageSystemsStore)||void 0===t||t.rows,r);default:return r}}}},1119:function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return s})),r.d(t,"c",(function(){return c}));var n=r(15),o=r(70),a=r(20),i=(r(1120),[{key:"display_name",title:"Name",composed:["facts.os_release","display_name"],transforms:[n.sortable],props:{width:50}},{key:"packages_installed",title:"Packages",transforms:[n.sortable],props:{width:10}},{key:"applicable_advisories",title:"Applicable advisories",transforms:[n.sortable],props:{width:20},renderFunc:function(e){return Object(a.f)(e)}}]),s=[{key:"display_name",title:"Name",composed:["facts.os_release","display_name"],props:{width:50}},{key:"installed_evra",title:"Installed version",transforms:[n.sortable],props:{width:10}},{key:"available_evra",title:"Latest version",transforms:[n.sortable],props:{width:10}},{key:"upgradable",title:"Status",props:{width:20},renderFunc:function(e){return Object(a.h)(e)}}],c=function(e){return[{title:"Apply all applicable advisories",onClick:function(t,r,n){Object(o.k)({id:n.id,limit:1e4}).then((function(t){return e(Object(a.s)(t.data.map((function(e){return e.id})),n.id))}))}}]}},1120:function(e,t,r){var n=r(1091);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0},a=r(4)(n,o);n.locals&&(e.exports=n.locals),e.hot.accept(1091,(function(){var t=r(1091);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var r,n=0;for(r in e){if(!t||e[r]!==t[r])return!1;n++}for(r in t)n--;return 0===n}(n.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");a(t)})),e.hot.dispose((function(){a()}))},1321:function(e,t,r){"use strict";r.r(t);var n=r(1097),o=r.n(n),a=r(293),i=r.n(a),s=r(26),c=r.n(s),u=r(477),l=r.n(u),f=r(46),p=r.n(f),b=r(15),d=r(475),y=r(294),m=r(1130),O=r(0),v=r.n(O),j=r(40),S=r(142),h=r(236),w=r(1094),g=r(235),E=r(480),P=r(90),k=r(1118),T=r(70),_=r(13),D=r(237),L=r(20),x=r(98),I=r(486),A=r(1119),F=r(215),M=r(216);function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(){var e=F.a.formatMessage(M.a.titlesSystems);Object(x.a)(e);var t=Object(j.useDispatch)(),r=v.a.useState(),n=p()(r,2),a=n[0],s=n[1],c=v.a.useState((function(){return function(){return null}})),u=p()(c,2),f=u[0],O=u[1],C=Object(j.useSelector)((function(e){return e.SystemsListStore.rows})),B=v.a.useMemo((function(){return Object(D.f)(C)}),[C]),N=Object(j.useSelector)((function(e){return e.SystemsListStore.error})),G=Object(j.useSelector)((function(e){return e.SystemsListStore.status})),H=Object(j.useSelector)((function(e){return e.SystemsListStore.metadata})),J=Object(j.useSelector)((function(e){return e.SystemsListStore.queryParams})),U=Object(j.useSelector)((function(e){var t=e.entities;return t&&t.columns})),V=J.filter,W=J.search,Y=Object(x.b)(H,Z);v.a.useEffect((function(){t(Object(P.x)(J))}),[J]);var q=function(){var e=l()(i.a.mark((function e(){var t,r,n,o,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,insights.loadInventory({ReactRedux:j,React:v.a,reactRouterDom:S,pfReactTable:{Table:b.Table,TableBody:b.TableBody,TableHeader:b.TableHeader,TableGridBreakpoint:b.TableGridBreakpoint,cellWidth:b.cellWidth,TableVariant:b.TableVariant,sortable:b.sortable,expandable:b.expandable,SortByDirection:b.SortByDirection},pfReact:m.reactCore});case 2:t=e.sent,r=t.inventoryConnector,n=t.mergeWithEntities,Object(E.c)(R({},n(Object(k.a)(A.b,"SYSTEMS_PAGE")))),o=r(Object(E.a)()),a=o.InventoryTable,s((function(){return a}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();v.a.useEffect((function(){q()}),[]);var z=Object(x.d)(H.limit,H.offset),K=p()(z,2),Q=K[0],X=K[1];function Z(e){t(Object(P.g)(e))}var $=Object(x.f)(V,Z),ee={items:[Object(h.a)(Z,W,F.a.formatMessage(M.a.labelsFiltersSystemsSearch))]},te={filters:Object(L.c)(V,W),onDelete:$},re=function(){var e=U&&U.filter((function(e){return"updated"===e.key}))[0];return e=R(R({},e),{},{key:"last_upload"}),[].concat(o()(A.b),[e])},ne=Object(x.h)(re(),Z),oe=v.a.useMemo((function(){return Object(L.g)(re(),H.sort,0)}),[H.sort]);return v.a.createElement(v.a.Fragment,null,v.a.createElement(w.a,{title:F.a.formatMessage(M.a.titlesPatchSystems),headerOUIA:"systems"}),v.a.createElement(f,null),v.a.createElement(d.Main,null,G===_.f?v.a.createElement(g.a,{message:N.detail}):a&&v.a.createElement(a,{isFullView:!0,items:B,page:Q,total:H.total_items,perPage:X,isLoaded:G===_.g,onRefresh:Y,exportConfig:{onSelect:function(e,t){var r=(new Date).toISOString().replace(/[T:]/g,"-").split(".")[0]+"-utc",n="systems-".concat(r);"csv"===t?Object(T.e)(J).then((function(e){return Object(y.downloadFile)(e,n,"csv")})):Object(T.f)(J).then((function(e){return Object(y.downloadFile)(JSON.stringify(e),n,"json")}))}},hasCheckbox:!1,actions:Object(A.c)((function(e){O((function(){return function(){return v.a.createElement(I.a,{data:e})}}))})),filterConfig:ee,activeFiltersConfig:te,tableProps:{areActionsDisabled:function(e){return e.applicable_advisories.every((function(e){return 0===e}))},onSort:ne,sortBy:oe}})))}}}]);
//# sourceMappingURL=Systems.efc6dc49ea55db3616df.js.map