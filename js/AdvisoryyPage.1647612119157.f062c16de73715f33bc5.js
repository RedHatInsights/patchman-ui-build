"use strict";(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman||[]).push([[60],{83905:(e,t,r)=>{r.d(t,{Z:()=>p});var n=r(87462),a=r(29439),s=r(41375),o=r.n(s),i=r(13784),c=r(44612),l=r(80887),u=r(77221),m=r(82553),d=r(32132),f=r(30893);const p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=o().useState(!1),s=(0,a.Z)(r,2),p=s[0],v=s[1],y=o().useState(10),g=(0,a.Z)(y,2),E=g[0],h=g[1],b=i.nW.slice().reverse(),O=e.os,Z="string"==typeof O&&O.split(",")||[],S=function(e,r){if(O&&!O.includes(r))t({filter:{os:"".concat(Z.join(","),",").concat(r)}});else if(O&&O.includes(r)){var n=Z.filter((function(e){return e!==r}));t({filter:{os:n.length>0&&"".concat(n.join(","))||void 0}})}else t({filter:{os:""!==r&&r||void 0}})},P=function(e){v(e)},w=function(){h(b.length)};return{type:c.Y.custom,label:d.N.formatMessage(f.Z.labelsFiltersOsVersion),value:"custom",filterValues:{children:o().createElement(l.Select,(0,n.Z)({variant:m.SelectVariant.checkbox,typeAheadAriaLabel:d.N.formatMessage(f.Z.labelsFiltersOsVersionPlaceholder),onToggle:P,onSelect:S,selections:Z,isOpen:p,"aria-labelledby":"patch-os-version-filter",placeholderText:d.N.formatMessage(f.Z.labelsFiltersOsVersionPlaceholder)},E<b.length&&{loadingVariant:{text:"View more",onClick:w}},{style:{maxHeight:"400px",overflow:"auto"}}),b.slice(0,E).map((function(e,t){return o().createElement(u.SelectOption,{key:t,value:e.value})})))}}}},49642:(e,t,r)=>{r.d(t,{Z:()=>b});var n=r(48716),a=r(39173),s=r(45697),o=r.n(s),i=r(41375),c=r.n(i),l=r(85991),u=r(49489),m=r(92818),d=function(e){var t=e.items,r=e.headerOUIA;return c().createElement(l.a,null,t.filter(Boolean).map((function(e){return c().createElement(u.g,{key:e.title,isActive:e.isActive},e.to&&c().createElement(m.Link,{to:e.to,"data-ouia-component-type":"".concat(r,"-breadcrumb"),"data-ouia-component-id":"breadcrumb-to-".concat(e.title)},e.title)||e.title)})))};d.propTypes={items:o().arrayOf(o().shape({isActive:o().bool,to:o().string,title:o().string})),headerOUIA:o().string};const f=d;var p=r(82819),v=r(98378),y=r(60076),g=function(e){var t=e.history,r=e.headerOUIA;return c().createElement(v.mQ,{onSelect:function(e,r){t.push(r)},activeKey:t.location.pathname,className:"patchman-tabs"},c().createElement(p.O,{eventKey:y.H.advisories.to,title:y.H.advisories.title,"data-ouia-component-type":"".concat(r,"-tab"),"data-ouia-component-id":"".concat(r,"-tab-").concat(y.H.advisories.title)}),c().createElement(p.O,{eventKey:y.H.systems.to,title:y.H.systems.title,"data-ouia-component-type":"".concat(r,"-tab"),"data-ouia-component-id":"".concat(r,"-tab-").concat(y.H.systems.title)}))};g.propTypes={history:o().object,headerOUIA:o().string};const E=(0,m.withRouter)(g);var h=function(e){var t=e.title,r=e.showTabs,s=e.breadcrumbs,o=e.children,i=e.headerOUIA;return c().createElement(c().Fragment,null,c().createElement(n.Z,{"data-ouia-component-type":"".concat(i,"-page-header")},s&&c().createElement(f,{items:s,headerOUIA:i}),c().createElement(a.Z,{title:t}),o),r&&c().createElement(E,{headerOUIA:i}))};h.propTypes={title:o().string,showTabs:o().bool,breadcrumbs:o().array,children:o().any,headerOUIA:o().string};const b=h},52709:(e,t,r)=>{r.d(t,{x:()=>g,ZP:()=>b});var n=r(45987),a=r(4942),s=r(56455),o=r(87462),i=r(41375),c=r.n(i),l=r(45697),u=r.n(l),m=r(94184),d=r.n(m),f=function(e){var t=e.centered,r=e.className,s=(0,n.Z)(e,["centered","className"]),i=d()("ins-c-spinner",(0,a.Z)({},"ins-m-center",t),r);return c().createElement("div",(0,o.Z)({role:"status",className:i},s),c().createElement("span",{className:"pf-u-screen-reader"},"Loading..."))};f.propTypes={centered:u().bool,className:u().string};const p=f;var v,y=["loading","variant","children"],g={spinner:"spinner",skeleton:"skeleton"},E=(v={},(0,a.Z)(v,g.skeleton,(function(e){var t=e.size,r=e.isDark;return c().createElement(s.Z,{size:t,isDark:r})})),(0,a.Z)(v,g.spinner,(function(e){var t=e.centered;return c().createElement(p,{centered:t})})),v),h=function(e){var t=e.loading,r=e.variant,a=e.children,s=(0,n.Z)(e,y);return!1!==t?E[r](s):a};h.propTypes={loading:u().bool,variant:u().string,children:u().any};const b=h},96688:(e,t,r)=>{r.r(t),r.d(t,{default:()=>ge});var n=r(4942),a=r(29439),s=r(81159),o=r(34023),i=r(63540),c=r(20018),l=r(86350),u=r(45697),m=r.n(u),d=r(41375),f=r.n(d),p=r(28216),v=r(92818),y=r(30893),g=r(6202),E=r(49287),h=r(18038),b=r(42057),O=r(36001),Z=r(36842),S=r(21508),P=r(34348),w=r(35240),N=r(52709),j=r(78826),T=r(32132),_=r(38776),A=r(90747),k=r(64270),D=r(9557),I=r(57668),L=r(57358),C=r(72573),M=function(e){var t=e.cveIds,r=(0,p.I0)(),n=(0,d.useState)([]),s=(0,a.Z)(n,2),o=s[0],i=s[1],c=(0,d.useState)([]),l=(0,a.Z)(c,2),u=l[0],m=l[1],v=(0,d.useState)(1),g=(0,a.Z)(v,2),E=g[0],h=g[1],b=(0,d.useState)(10),O=(0,a.Z)(b,2),Z=O[0],S=O[1],P=(0,d.useState)(void 0),w=(0,a.Z)(P,2),N=w[0],M=w[1],F=(0,d.useState)({direction:C.SortByDirection.asc,index:0}),x=(0,a.Z)(F,2),B=x[0],R=x[1],U=(0,p.v9)((function(e){return e.CvesListStore.rows})),H=(0,p.v9)((function(e){return e.CvesListStore.status}));f().useEffect((function(){r((0,D.Xt)({cveIds:t}))}),[]),f().useMemo((function(){m(o.slice((E-1)*Z,E*Z))}),[o,E,Z,B]),(0,d.useMemo)((function(){var e=void 0!==N&&""!==N&&U.filter((function(e){var t=e.attributes.synopsis;return t&&N&&t.toLowerCase().includes(N.toLowerCase())}))||U;i((0,I.KW)((0!==e.length||N)&&e||U))}),[N,U]);var V=function(e){var t=e.search;h(E),M(t)};return f().createElement(f().Fragment,null,f().createElement(j.Modal,{variant:"small",title:T.N.formatMessage(y.Z.labelsCves),isOpen:Boolean(u),onClose:function(){m(void 0)}},f().createElement(_.Z,{columns:k.g,onSetPage:function(e,t){h(t)},onPerPageSelect:function(e,t){h(1),S(t)},apply:V,tableOUIA:"cves-table",paginationOUIA:"cves-pagination",onSort:function(e,t,r){var n=(0,L.Qg)(o,t,r),a=n.sortBy,s=n.sortedCves;R(a),i(s)},sortBy:B,store:{rows:u,metadata:{limit:Z,offset:(E-1)*Z,total_items:o&&o.length},status:H,queryParams:{filter:{},search:N}},filterConfig:{items:[(0,A.Z)(V,N,"",T.N.formatMessage(y.Z.labelsFiltersCvesSearchPlaceHolder))]}})))};M.propTypes={cveIds:m().array};const F=M;var x=r(7665),B=r(19210),R=function(e){var t=e.severity;return f().createElement(Z.P,{className:"infobox",hasGutter:!0},f().createElement(S.J,{isFilled:!0},f().createElement(O.k,{flex:{default:"column"}},f().createElement(b.B,{spacer:{default:"spacerNone"}},f().createElement(P.Title,{headingLevel:"h5"},T.N.formatMessage(y.Z.labelsColumnsSeverity))),f().createElement(b.B,{spacer:{default:"spacerSm"}},f().createElement(O.k,{flex:{default:"row"}},f().createElement(b.B,null,f().createElement(B.ZP,{size:"sm",color:t.color})),f().createElement(b.B,null,t.label))))))};R.propTypes={severity:m().object};const U=R;var H=r(55970),V=r(18464),K=function(e){var t=e.attributes,r=e.isLoading,n=(0,d.useState)((function(){return function(){return null}})),l=(0,a.Z)(n,2),u=l[0],m=l[1],p=(0,d.useState)(1e3),v=(0,a.Z)(p,2),j=v[0],_=v[1],A=(0,L.r)(t.severity),k=t.cves;return f().createElement(E.r,{hasGutter:!0,style:{minHeight:150}},f().createElement(h.P,{md:8,sm:12},f().createElement(N.ZP,{loading:r,variant:N.x.spinner,centered:!0},f().createElement(s.K,{hasGutter:!0},f().createElement(o.v,null),f().createElement(o.v,{style:{whiteSpace:"pre-line"}},t.description&&(0,L.Nt)(t.description,j,_)),f().createElement(o.v,null,t.public_date&&f().createElement(f().Fragment,null,T.N.formatMessage(y.Z.labelsPublicDate,{date:(0,w.Un)(t.public_date)}),f().createElement("br",null)),t.modified_date&&f().createElement(f().Fragment,null,T.N.formatMessage(y.Z.labelsModifiedDate,{date:(0,w.Un)(t.modified_date)}))),(0,L.q5)(t.id)&&f().createElement(o.v,null,f().createElement(H.Z,{link:"https://access.redhat.com/errata/".concat(t.id),text:T.N.formatMessage(y.Z.linksViewPackagesAndErrata)}))))),f().createElement(h.P,{md:4,sm:12},f().createElement(O.k,{flex:{default:"column"}},t.advisory_type_name&&f().createElement(b.B,null,f().createElement(Z.P,{className:"infobox",hasGutter:!0},f().createElement(S.J,{isFilled:!0},f().createElement(O.k,{flex:{default:"column"}},f().createElement(b.B,{spacer:{default:"spacerNone"}},f().createElement(P.Title,{headingLevel:"h5"},T.N.formatMessage(y.Z.titlesAdvisoryType))),f().createElement(b.B,{spacer:{default:"spacerSm"}},f().createElement(V.Z,{type:t.advisory_type_name})))))),0!==A.value&&f().createElement(b.B,null,f().createElement(U,{severity:A})),t.reboot_required&&f().createElement(b.B,{spacer:{default:"spacerMd"}},f().createElement(x.Z,null)))),k&&0!==k.length&&f().createElement(h.P,{md:4,sm:12},f().createElement(c.D,null,f().createElement(i.xv,{component:i.qO.h3},T.N.formatMessage(y.Z.labelsCves)),f().createElement(g.Button,{variant:"link",style:{padding:0},onClick:function(){m((function(){return function(){return f().createElement(F,{cveIds:k})}}))}},T.N.formatMessage(y.Z.labelsCvesButton,{cvesCount:k.length})))),f().createElement(u,null))};K.propTypes={attributes:m().object,isLoading:m().bool};const q=K;var G=r(49642),z=r(20167),Q=r(60076),Y=r(91607),J=r(15861),W=r(87757),X=r.n(W),$=r(33739),ee=r(83905),te=r(73888),re=r(88031),ne=r(5747),ae=r(11220),se=r(13784),oe=r(58684),ie=r(55485),ce=r(53074);function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var me=function(e){var t=e.advisoryName,r=(0,p.I0)(),n=f().useState(!1),s=(0,a.Z)(n,2),o=s[0],i=s[1],c=f().useState((function(){return function(){return null}})),l=(0,a.Z)(c,2),u=l[0],m=l[1],d=(0,v.useHistory)(),g=(0,L.PZ)(d.location.search),E=(0,p.v9)((function(e){var t=e.entities;return(null==t?void 0:t.rows)||[]}),p.wU),h=(0,p.v9)((function(e){var t=e.entities;return(null==t?void 0:t.status)||{}})),b=(0,p.v9)((function(e){var t=e.entities;return(null==t?void 0:t.total)||0})),O=(0,p.v9)((function(e){var t=e.AdvisorySystemsStore;return(null==t?void 0:t.queryParams)||{}})),Z=(0,p.v9)((function(e){var t=e.entities;return(null==t?void 0:t.selectedRows)||[]})),S=O.systemProfile,P=O.selectedTags,w=O.filter,N=O.search,j=O.page,_=O.perPage,k=O.sort;function I(e){r((0,D.pH)(e))}f().useEffect((function(){return I(g),function(){r((0,D.RV)()),r((0,D.Yf)())}}),[]);var M=(0,Y.j5)(ue({search:N},w),I),F=(0,a.Z)(M,1)[0],x={items:[(0,A.Z)(I,N,T.N.formatMessage(y.Z.labelsFiltersSystemsSearchTitle),T.N.formatMessage(y.Z.labelsFiltersSystemsSearchPlaceholder)),(0,ee.Z)(w,I)]},B={filters:(0,L.mt)(w,N,T.N.formatMessage(y.Z.labelsFiltersSystemsSearchTitle)),onDelete:F};function R(){return(R=(0,J.Z)(X().mark((function e(t){var r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:r=e.sent,m((function(){return function(){return f().createElement(ie.Z,{data:r,isRemediationOpen:!0,setRemediationOpen:i})}})),i(!o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=(0,Y.ry)(E,Z,(function(){return(0,ae.cK)(ue(ue({},O),{},{id:t,limit:-1})).then(L.zw)}),(function(e){r({type:"SELECT_ENTITY",payload:e})})),H=Z&&(0,L.Qy)(Z).length,V=(0,Y.U)(ae.cK,I,{id:t},d),K=(0,Y.AR)(t,O,{csv:ae.nb,json:ae.Se},r);return f().createElement(f().Fragment,null,o&&f().createElement(u,null)||null,h.hasError&&f().createElement(te.Z,{code:h.code})||f().createElement($.Z,{isFullView:!0,autoRefresh:!0,initialLoading:!0,ignoreRefresh:!0,hideFilters:{all:!0,tags:!1},columns:L.gB,showTags:!0,customFilters:{patchParams:{search:N,filter:w,systemProfile:S,selectedTags:P}},paginationProps:{isDisabled:0===b},onLoad:function(e){var t=e.mergeWithEntities;(0,re.z)(ue({},t((0,ne.Kq)(oe.Fs,ne.G),(0,L.fm)({page:j,perPage:_,sort:k,search:N},g))))},getEntities:V,actions:(0,oe.Sb)((function(e){return R.apply(this,arguments)})),tableProps:{canSelectAll:!1,variant:C.TableVariant.compact,className:"patchCompactInventory",isStickyHeader:!0},filterConfig:x,activeFiltersConfig:B,exportConfig:{isDisabled:0===b,onSelect:K},bulkSelect:U&&(0,Y.Pz)(H,U,{total_items:b},E),dedicatedAction:f().createElement(ce.Z,{remediationProvider:function(){return(0,L.MS)(t,(0,L.Q6)(Z),se.oN.advisory)},isDisabled:0===(0,L.Qy)(Z).length})}))};me.propTypes={advisoryName:m().string};const de=me;var fe=r(83215);function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ye=function(e){var t=e.match,r=(0,p.I0)(),n=f().useState(t.params.advisoryId),u=(0,a.Z)(n,1)[0],m="".concat(u," - ").concat(T.N.formatMessage(y.Z.titlesAdvisories));(0,Y.Iw)(m);var d=(0,p.v9)((function(e){return e.AdvisoryDetailStore})),v=(0,p.v9)((function(e){return e.AdvisoryDetailStore.status}));f().useEffect((function(){r((0,D.N2)({advisoryName:u}))}),[]),f().useEffect((function(){return function(){r((0,D.jl)()),r((0,D.JP)()),r((0,fe.L1)())}}),[]);var g=d.data.attributes;return f().createElement(f().Fragment,null,f().createElement(G.Z,{title:u,headerOUIA:"advisory-details",breadcrumbs:[{title:T.N.formatMessage(y.Z.titlesPatchAdvisories),to:Q.H.advisories.to,isActive:!1},{title:u,isActive:!0}]},v.hasError?f().createElement(z.Z,null):f().createElement(q,{attributes:ve(ve({},g),{},{id:u}),isLoading:v.isLoading})),f().createElement(l.Z,null,f().createElement(s.K,{hasGutter:!0},f().createElement(o.v,null,f().createElement(c.D,null,f().createElement(i.xv,{component:i.qO.h2},T.N.formatMessage(y.Z.titlesAffectedSystems)))),f().createElement(o.v,null,v.hasError&&f().createElement(te.Z,null)||!v.isLoading&&f().createElement(de,{advisoryName:u})))))};ye.propTypes={match:m().any};const ge=(0,v.withRouter)(ye)},55485:(e,t,r)=>{r.d(t,{Z:()=>l});var n=r(41375),a=r.n(n),s=r(45697),o=r.n(s),i=r(22663),c=function(e){var t=e.data,r=e.setRemediationOpen;return a().createElement(i.Z,{appName:"remediations",module:"./RemediationWizard",setOpen:r,fallback:a().createElement("span",null),data:t})};c.propTypes={data:o().object,setRemediationOpen:o().func};const l=c},5747:(e,t,r)=>{r.d(t,{G:()=>u,Kq:()=>d,OC:()=>m});var n=r(4942),a=r(57668),s=r(48881),o=r(22789);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l={rows:[],entities:[],selectedRows:{},status:{},page:1,perPage:20,metadata:{limit:20,offset:0,total_items:0}},u=function(e,t){return t.loaded?c(c({},t),{},{status:{isLoading:!1,hasError:!1},rows:(0,a.Yk)(t.rows,t.selectedRows)}):t},m=function(e,t){return t.loaded?c(c({},t),{},{columns:e,rows:(0,a.GF)(t.rows,t.selectedRows)}):t},d=function(e,t){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=arguments.length>1?arguments[1]:void 0,a=c({},r);switch(n.type){case"LOAD_ENTITIES_FULFILLED":return t(e,a);case"LOAD_ENTITIES_PENDING":return a.status={isLoading:!0,hasError:!1},a;case"LOAD_ENTITIES_REJECTED":return a.status={isLoading:!0,hasError:!0},a;case"SELECT_ENTITY":var i=(0,s.hd)(a,n);return t(e,i);case o.sq:return l;default:return r}}}}}]);
//# sourceMappingURL=../sourcemaps/AdvisoryyPage.9e185fe22b7ca1e8a41570c474fe1070.js.map