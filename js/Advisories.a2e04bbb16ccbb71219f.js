(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman||[]).push([[20],{87906:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>M});var n=r(63038),o=r.n(n),s=r(89583),i=r(99068),a=r(75741),u=r(45697),c=r.n(u),l=r(77865),d=r.n(l),f=r(87016),m=r(47194),v=r(18623),p=r(77744),S=r(75107),h=r(94052),y=r(95466),_=r(76445),g=r(55930),A=r(50371),w=r(58492),b=r(79143),Z=r(52798),P=r(92026),E=r(45505),I=r(11550),L=function(e){var t=e.history,r=I.N.formatMessage(v.Z.titlesAdvisories);(0,E.Iw)(r);var n=(0,f.useDispatch)(),u=d().useState(!0),c=o()(u,2),l=c[0],m=c[1],L=(0,f.useSelector)((function(e){return e.AdvisoryListStore.rows})),M=(0,f.useSelector)((function(e){return e.AdvisoryListStore.expandedRows})),O=(0,f.useSelector)((function(e){return e.AdvisoryListStore.queryParams})),k=(0,f.useSelector)((function(e){return e.AdvisoryListStore.selectedRows})),F=(0,f.useSelector)((function(e){return e.AdvisoryListStore.metadata})),R=(0,f.useSelector)((function(e){return e.AdvisoryListStore.status})),C=d().useMemo((function(){return(0,Z.nf)(L,M,k)}),[L,M,k]);d().useEffect((function(){l?(x((0,P.PZ)(t.location.search)),m(!1)):(t.push((0,P.R_)(O)),n((0,A.hV)(O)))}),[O]);var N=d().useCallback((function(e,t,r){return n((0,A.rt)({rowId:(0,P.vs)(L,t),value:r}))})),U=(0,E.ry)(C,k,(function(){return(0,w.ob)({limit:-1})}),(function(e){n((0,A.EI)(e))}),(function(e){return e.id})),z=(0,E._f)(g.z7,x,2),T=d().useMemo((function(){return(0,P.hO)(g.z7,F.sort,2)}),[F.sort]),q=(0,E.SL)(F.limit,x),j=(0,E._T)(x);function x(e){n((0,A.Us)(e))}var B=R===b.g_&&d().createElement(i.F,null),D=function(e){return(0,w.lc)({limit:-1}).then((function(t){var r=t.data;return(0,w.fq)({advisories:e,systems:r.map((function(e){return e.id}))})}))};return d().createElement(d().Fragment,null,d().createElement(y.Z,{title:I.N.formatMessage(v.Z.titlesPatchAdvisories),headerOUIA:"advisories"}),d().createElement(s.o,null,d().createElement(_.Z,{columns:g.z7,compact:!0,onCollapse:N,onSetPage:q,onPerPageSelect:j,onSort:z,onExport:function(e,t){var r=(new Date).toISOString().replace(/[T:]/g,"-").split(".")[0]+"-utc",n="applicable-advisories-".concat(r);"csv"===t?(0,w.rf)(O).then((function(e){return(0,a.downloadFile)(e,n,"csv")})):(0,w.kM)(O).then((function(e){return(0,a.downloadFile)(JSON.stringify(e),n,"json")}))},selectedRows:k,onSelect:U,sortBy:T,remediationProvider:function(){return(0,P.Sz)((0,P.Qy)(k),D,P.R9)},apply:x,remediationButtonOUIA:"toolbar-remediation-button",tableOUIA:"advisories-table",paginationOUIA:"advisories-pagination",store:{rows:C,metadata:F,status:R,queryParams:O},filterConfig:{items:[(0,S.Z)(x,O.search,I.N.formatMessage(v.Z.labelsFiltersSearchAdvisoriesTitle),I.N.formatMessage(v.Z.labelsFiltersSearchAdvisoriesPlaceholder)),(0,h.Z)(x,O.filter),(0,p.Z)(x,O.filter)]},errorState:B})))};L.propTypes={history:c().object};const M=(0,m.withRouter)(L)}}]);
//# sourceMappingURL=Advisories.a2e04bbb16ccbb71219f.js.map