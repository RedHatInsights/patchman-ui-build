(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman||[]).push([[743],{83905:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var a=n(87462),r=n(29439),s=n(43297),l=n.n(s),o=n(13784),i=n(44612),c=n(80887),u=n(77221),m=n(82553),p=n(32132),d=n(30893);const f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=l().useState(!1),s=(0,r.Z)(n,2),f=s[0],v=s[1],h=l().useState(10),y=(0,r.Z)(h,2),g=y[0],b=y[1],E=o.nW.slice().reverse(),S=e.os,O="string"==typeof S&&S.split(",")||[],Z=function(e,n){if(S&&!S.includes(n))t({filter:{os:"".concat(O.join(","),",").concat(n)}});else if(S&&S.includes(n)){var a=O.filter((function(e){return e!==n}));t({filter:{os:a.length>0&&"".concat(a.join(","))||void 0}})}else t({filter:{os:""!==n&&n||void 0}})},w=function(e){v(e)},P=function(){b(E.length)};return{type:i.Y.custom,label:p.N.formatMessage(d.Z.labelsFiltersOsVersion),value:"custom",filterValues:{children:l().createElement(c.Select,(0,a.Z)({variant:m.SelectVariant.checkbox,typeAheadAriaLabel:p.N.formatMessage(d.Z.labelsFiltersOsVersionPlaceholder),onToggle:w,onSelect:Z,selections:O,isOpen:f,"aria-labelledby":"patch-os-version-filter",placeholderText:p.N.formatMessage(d.Z.labelsFiltersOsVersionPlaceholder)},g<E.length&&{loadingVariant:{text:"View more",onClick:P}},{style:{maxHeight:"400px",overflow:"auto"}}),E.slice(0,g).map((function(e,t){return l().createElement(u.SelectOption,{key:t,value:e.value})})))}}}},49642:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var a=n(48716),r=n(39173),s=n(45697),l=n.n(s),o=n(43297),i=n.n(o),c=n(85991),u=n(49489),m=n(334),p=function(e){var t=e.items,n=e.headerOUIA;return i().createElement(c.a,null,t.filter(Boolean).map((function(e){return i().createElement(u.g,{key:e.title,isActive:e.isActive},e.to&&i().createElement(m.Link,{to:e.to,"data-ouia-component-type":"".concat(n,"-breadcrumb"),"data-ouia-component-id":"breadcrumb-to-".concat(e.title)},e.title)||e.title)})))};p.propTypes={items:l().arrayOf(l().shape({isActive:l().bool,to:l().string,title:l().string})),headerOUIA:l().string};const d=p;var f=n(82819),v=n(98378),h=n(60076),y=function(e){var t=e.history,n=e.headerOUIA;return i().createElement(v.mQ,{onSelect:function(e,n){t.push(n)},activeKey:t.location.pathname,className:"patchman-tabs"},i().createElement(f.O,{eventKey:h.H.advisories.to,title:h.H.advisories.title,"data-ouia-component-type":"".concat(n,"-tab"),"data-ouia-component-id":"".concat(n,"-tab-").concat(h.H.advisories.title)}),i().createElement(f.O,{eventKey:h.H.systems.to,title:h.H.systems.title,"data-ouia-component-type":"".concat(n,"-tab"),"data-ouia-component-id":"".concat(n,"-tab-").concat(h.H.systems.title)}))};y.propTypes={history:l().object,headerOUIA:l().string};const g=(0,m.withRouter)(y);var b=function(e){var t=e.title,n=e.showTabs,s=e.breadcrumbs,l=e.children,o=e.headerOUIA;return i().createElement(i().Fragment,null,i().createElement(a.Z,{"data-ouia-component-type":"".concat(o,"-page-header")},s&&i().createElement(d,{items:s,headerOUIA:o}),i().createElement(r.Z,{title:t}),l),n&&i().createElement(g,{headerOUIA:o}))};b.propTypes={title:l().string,showTabs:l().bool,breadcrumbs:l().array,children:l().any,headerOUIA:l().string};const E=b},23594:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>dt});var a=n(4942),r=n(15861),s=n(29439),l=n(87757),o=n.n(l),i=n(43297),c=n.n(i),u=n(72573),m=n(33739),p=n(86350),d=n(28216),f=n(334),v=n(30893),h=n(90747),y=n(44612),g=n(13784),b=n(32132);const E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.stale,a=c().useMemo((function(){return g.fb.map((function(e){var t=e.value;return{label:e.label,value:t.toString()}}))}),[]),r=n&&(Array.isArray(n)&&n.map((function(e){return e.toString()}))||[n.toString()]),s=function(t){e({filter:{stale:t}})};return{label:b.N.formatMessage(v.Z.labelsFiltersStale),type:y.Y.checkbox,filterValues:{onChange:function(e,t){s(t)},items:a,value:r,placeholder:b.N.formatMessage(v.Z.labelsFiltersStalePlaceholder)}}};var S=n(83905);const O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.packages_updatable,a=function(t){e({filter:{packages_updatable:t}})};return{label:b.N.formatMessage(v.Z.labelsFiltersUpdatable),type:y.Y.radio,filterValues:{onChange:function(e,t){a(t)},items:g.Tl,value:n,placeholder:b.N.formatMessage(v.Z.labelsFiltersUpdatablePlaceholder)}}};var Z=n(49642),w=n(73888),P=n(88031),T=n(9557),D=n(5747),I=n(11220),j=n(57358),N=n(91607),F=n(94859),_=n(20259),C=n(58684),k=n(93433),x=n(35451),M=n(77927),A=n(19694),R=n(45697),L=n.n(R),U=n(36104),q=n(6202),B=n(26577),V=n(2095),G=n(49287),Y=n(18038),z=n(85962),H=n(36001),K=n(42057),W=function(e){var t=e.title,n=e.color,a=e.Icon,r=e.value,s=e.filter,l=e.apply;return c().createElement(V.Zb,{isCompact:!0,isFullHeight:!0},c().createElement(U.l,{style:{marginTop:"0px"}},t),c().createElement(z.e,{className:"fonst-size-sm"},c().createElement(H.k,{flex:{default:"inlineFlex"},style:{flexWrap:"nowrap"}},c().createElement(K.B,{spacer:{default:"spacerMd"},alignSelf:{default:"alignSelfCenter"}},c().createElement(a,{color:n,size:"md"})),c().createElement(K.B,{isFilled:!0,spacer:{default:"spacerNone"}},void 0===r&&c().createElement(B.O,{width:"24px"})||c().createElement(q.Button,{variant:"link",onClick:function(){return l(s)},className:"patch-status-report-text"},r)))))},$=function(e){var t,n,a,l=e.apply,u=e.queryParams,m=c().useState({}),f=(0,s.Z)(m,2),h=f[0],y=f[1],g=(0,d.v9)((function(e){return e.GlobalFilterStore})),E=g.selectedTags,S=g.selectedGlobalTags,O=g.systemProfile;return(0,i.useMemo)((0,r.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y({}),e.next=3,(0,I.lc)({filter:{os:null==u||null===(t=u.filter)||void 0===t?void 0:t.os},selectedTags:[].concat((0,k.Z)(E),(0,k.Z)(S)),systemProfile:O,limit:1}).catch((function(){}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),[null==u||null===(t=u.filter)||void 0===t||null===(n=t.os)||void 0===n?void 0:n.length,void 0!==(null==u||null===(a=u.filter)||void 0===a?void 0:a.os),null==E?void 0:E.length,void 0!==E,null==S?void 0:S.length,void 0!==S,O,void 0!==(null==u?void 0:u.subtotals)]).then((function(e){var t;y(null===(t=e.meta)||void 0===t?void 0:t.subtotals)})),c().createElement(p.Z,{style:{paddingBottom:0}},c().createElement(G.r,{hasGutter:!0,span:12},c().createElement(Y.P,{span:12,md:3},c().createElement(W,{title:b.N.formatMessage(v.Z.labelsStatusSystemsUpToDate),Icon:x.default,color:"var(--pf-global--success-color--100)",value:null==h?void 0:h.patched,apply:l,filter:{filter:{packages_updatable:"eq:0"}}})),c().createElement(Y.P,{span:12,md:3},c().createElement(W,{title:b.N.formatMessage(v.Z.labelsStatusSystemsWithPatchesAvailable),Icon:M.ZP,color:"var(--pf-global--primary-color--100)",value:null==h?void 0:h.unpatched,apply:l,filter:{filter:{packages_updatable:"gt:0"}}})),c().createElement(Y.P,{span:12,md:3},c().createElement(W,{title:b.N.formatMessage(v.Z.labelsStatusStaleSystems),Icon:A.default,color:"var(--pf-global--warning-color--100)",value:null==h?void 0:h.stale,apply:l,filter:{filter:{stale:!0}}}))))};W.propTypes={title:L().string,Icon:L().elementType,value:L().string,color:L().string,apply:L().func,filter:L().object},$.propTypes={apply:L().func,queryParams:L().object};const Q=$;var J=n(87462),X=n(86758),ee=n(67850),te=n(96354),ne=n(26854),ae=n(11947),re=n(74777),se=n(78826),le=n(45787),oe=n(45987),ie=n(48880),ce=n(41693),ue=n(63540),me=n(20018),pe=n(81159),de=n(34023),fe=n(9568),ve=n(80887),he=n(77221),ye=n(82553),ge=n(23811),be=function(e){var t=e.patchSets,n=e.setSelectedPatchSet,a=e.selectedSets,r=e.systems,l=(0,ie.default)(),o=(0,i.useState)(!0),u=(0,s.Z)(o,2),m=u[0],p=u[1],d=(0,i.useMemo)((function(){return t.map((function(e){return c().createElement(he.SelectOption,{key:e.id,value:e.name})}))}),[t]);return c().createElement(ge.c,{fieldId:"existing_patch_set",label:"Choose a Patch set",isRequired:!0},c().createElement(ve.Select,{variant:ye.SelectVariant.single,"aria-label":"Select Input",onSelect:function(e,a){p(!1),n(a);var s=t.filter((function(e){return e.name===a}));l.change("existing_patch_set",{name:s[0].name,systems:r})},placeholderText:"Select an option",selections:a,onToggle:function(){p(!m)},isOpen:m,isDisabled:!1},d))};be.propTypes={patchSets:L().array,setSelectedPatchSet:L().func,selectedSets:L().array,systems:L().array};const Ee=be;var Se=n(64124),Oe=[{key:"display_name",title:"Name",props:{width:40}},{title:"OS",key:"os",props:{width:60}}],Ze=[{name:"configuration-step",component:"configuration-step"},{name:"existing_patch_set",component:te.Z.TEXT_FIELD,hidden:!0}],we=[{name:"name",component:"nameField",validate:[{type:Se.Z.REQUIRED}]}],Pe=[{name:"description",component:"descriptionField"}],Te=[{name:"toDate",component:"toDateField",validate:[{type:Se.Z.REQUIRED}]}],De={fields:[{component:te.Z.WIZARD,name:"patch-set-wizard",isDynamic:!0,inModal:!0,showTitles:!0,title:b.N.formatMessage(v.Z.patchSetTitle),description:b.N.formatMessage(v.Z.patchSetDescription),fields:[{name:"patch-set-config",title:b.N.formatMessage(v.Z.patchSetNewSet),fields:Ze,nextStep:"systems"},{name:"systems",title:b.N.formatMessage(v.Z.patchSetSelectSystems),fields:[{name:"systems",component:"review-systems",validate:[{type:"validate-systems"}]}],nextStep:"review"},{name:"review",title:b.N.formatMessage(v.Z.patchSetReviewSet),fields:[{name:"review",component:"review-patch-set"}]}]}]},Ie={"validate-systems":function(){return function(e){return void 0===e||e.length>0?void 0:b.N.formatMessage(v.Z.patchSetNoSystemSelected)}}};const je=function(){var e=(0,ie.default)().renderForm;return c().createElement(G.r,{hasGutter:!0},c().createElement(Y.P,{lg:12,md:12},e(we)),c().createElement(Y.P,{lg:12,md:12},e(Pe)),c().createElement(Y.P,{lg:6,md:6},e(Te)))};var Ne=["systemsIDs"],Fe=function(e){var t=e.systemsIDs,n=(0,oe.Z)(e,Ne),a=(0,d.I0)(),r=(0,ie.default)(),l=(0,ce.Z)(n).input,o=(0,i.useState)(!1),u=(0,s.Z)(o,2),m=u[0],p=u[1],f=(0,i.useState)(!0),v=(0,s.Z)(f,2),h=v[0],y=v[1],g=(0,i.useState)([]),b=(0,s.Z)(g,2),E=b[0],S=b[1],O=(0,d.v9)((function(e){return e.PatchSetsStore}),d.wU),Z=O.rows,w=O.loading;(0,i.useEffect)((function(){!w&&(null==Z||!Z.length)&&a((0,T.BY)())}),[]);var P=function(){y(!h),p(!m)};return c().createElement(pe.K,{hasGutter:!0},c().createElement(me.D,{style:{marginTop:"-15px"}},c().createElement(ue.xv,{component:ue.qO.p},"You selected ",c().createElement("b",null,t.length," systems"))),c().createElement(de.v,null,c().createElement(pe.K,{hasGutter:!0},c().createElement(de.v,null,c().createElement(fe.Y,{isChecked:m,name:"radio",onChange:P,label:"Add to existing patch set",id:"existing-set",value:""})),c().createElement(de.v,null,m?c().createElement(Ee,{patchSets:Z,setSelectedPatchSet:S,selectedSets:E,systems:t}):null),c().createElement(de.v,null,c().createElement(fe.Y,{isChecked:h,name:"radio",onChange:P,label:"Create new patch set",id:"new-set",value:""})),c().createElement(de.v,null,h?c().createElement(je,{input:l,formOptions:r}):null))))};Fe.propTypes={systemsIDs:L().array};const _e=Fe;var Ce=n(12282);const ke=function(e){var t,n=(0,ce.Z)(e).input,a=null===(t=(0,ie.default)().getState())||void 0===t?void 0:t.values,r=(0,i.useState)(null==a?void 0:a.name),l=(0,s.Z)(r,2),o=l[0],u=l[1];return c().createElement(ge.c,{fieldId:"name",label:"Name",isRequired:!0},c().createElement(Ce.TextInput,{type:"text",isRequired:!0,value:o,onChange:function(e){n.onChange(e),u(e)},"aria-label":"name",autoFocus:!0}))};var xe=n(2679);const Me=function(e){var t,n=(0,ce.Z)(e).input,a=null===(t=(0,ie.default)().getState())||void 0===t?void 0:t.values,r=(0,i.useState)(null==a?void 0:a.toDate),l=(0,s.Z)(r,2),o=l[0],u=l[1];return c().createElement(ge.c,{fieldId:"toDate",label:"Patch set date",isRequired:!0},c().createElement(H.k,null,c().createElement(K.B,{lg:2,md:2},"Upto"),c().createElement(K.B,{lg:10,md:10},c().createElement(xe.Mt,{isRequired:!0,value:o,onChange:function(e){n.onChange(e),u(e)},"aria-label":"toDate"}))))},Ae=function(e){var t,n=(0,ce.Z)(e).input,a=null===(t=(0,ie.default)().getState())||void 0===t?void 0:t.values,r=(0,i.useState)(null==a?void 0:a.description),l=(0,s.Z)(r,2),o=l[0],u=l[1];return c().createElement(ge.c,{fieldId:"description",label:"Description"},c().createElement(Ce.TextInput,{type:"text",isRequired:!0,value:o,onChange:function(e){n.onChange(e),u(e)},"aria-label":"description"}))};var Re=n(57668),Le=n(38776),Ue=["systemsIDs"];function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ve=function(e){var t=e.systemsIDs,n=(0,oe.Z)(e,Ue),r=(0,ce.Z)(n).input,l=(0,i.useState)(!0),o=(0,s.Z)(l,2),u=o[0],m=o[1],p=(0,i.useState)([]),d=(0,s.Z)(p,2),f=d[0],y=d[1],g=(0,i.useState)([]),E=(0,s.Z)(g,2),O=E[0],Z=E[1],w=(0,i.useState)((function(){return t.reduce((function(e,t){return e[t]=!0,e}),{})})),P=(0,s.Z)(w,2),T=P[0],D=P[1],F=(0,i.useState)({limit:20,offset:0,total_items:0}),_=(0,s.Z)(F,2),C=_[0],k=_[1],x=(0,i.useState)({page:1,perPage:20,filter:{}}),M=(0,s.Z)(x,2),A=M[0],R=M[1];(0,i.useEffect)((function(){(0,I.lc)(Be(Be({},A),{},{filter:Be(Be({},A.filter),{},{id:"in:".concat(t.join(","))})})).then((function(e){Z((0,Re.ub)(e.data,T)),k(e.meta),y(e.data),m(!1)}))}),[A.filter,A]),(0,i.useEffect)((function(){var e=Object.keys(T).filter((function(e){return T[e]}));r.onChange(e),Z((0,Re.ub)(f,T))}),[T]);var L=function(e){m(!0),R(Be(Be({},A),e))},U=(0,N._f)(Oe,L,1),q=c().useMemo((function(){return(0,j.hO)(Oe,C.sort,1)}),[C.sort]),B=(0,N.SL)(C.limit,L),V=(0,N._T)(L),G=(0,N.ry)(O,T,(function(){return(0,I.lc)(Be(Be({},A),{},{filter:Be(Be({},A.filter),{},{id:"in:".concat(t.join(","))}),limit:-1}))}),(function(e){D(Be(Be({},T),{},(0,a.Z)({},e[0].id,e[0].selected||void 0)))}),(function(e){return e.id}));return c().createElement(pe.K,{hasGutter:!0},c().createElement(de.v,null,c().createElement(me.D,{style:{marginTop:"-15px"}},c().createElement(ue.xv,{component:ue.qO.p},"You will be able to adjust your selection anytime. A system can have only one patch set, therefore if you assign a new Patch set to the system, it will be overwritten."))),c().createElement(de.v,null,c().createElement(Le.Z,{columns:Oe,compact:!0,onSetPage:B,onPerPageSelect:V,onSort:U,selectedRows:T,onSelect:G,sortBy:q,apply:L,tableOUIA:"patch-set-table",paginationOUIA:"patch-set-pagination",store:{rows:O,metadata:C,status:{isLoading:u},queryParams:A},filterConfig:{items:[(0,h.Z)(L,A.search,b.N.formatMessage(v.Z.labelsFiltersSystemsSearchTitle),b.N.formatMessage(v.Z.labelsFiltersSearch)),(0,S.Z)(A.filter,L)]},searchChipLabel:b.N.formatMessage(v.Z.labelsFiltersSystemsSearchTitle)})))};Ve.propTypes={systemsIDs:L().array};const Ge=Ve;var Ye=n(19017),ze=n(53325);const He=function(){var e=(0,ie.default)().getState().values,t=e.existing_patch_set||e,n=t.name,a=t.description,r=t.toDate,s=t.systems;return c().createElement(pe.K,{hasGutter:!0},c().createElement(de.v,null,c().createElement(me.D,{style:{marginTop:"-15px"}},c().createElement(ue.xv,{component:ue.qO.p},"Review the information below and click ",c().createElement("b",null,"Finish")," to complete patch set creation"))),c().createElement(de.v,null,c().createElement(me.D,null,c().createElement(Ye.Gn,{component:Ye.F_.dl},c().createElement(ze.Ts,{component:ze.v$.dt},"Name:"),c().createElement(ze.Ts,{component:ze.v$.dd},n),c().createElement(ze.Ts,{component:ze.v$.dt},"Description:"),c().createElement(ze.Ts,{component:ze.v$.dd},a),c().createElement(ze.Ts,{component:ze.v$.dt},"Date:"),c().createElement(ze.Ts,{component:ze.v$.dd},r),c().createElement(ze.Ts,{component:ze.v$.dt},"Selected systems:"),c().createElement(ze.Ts,{component:ze.v$.dd},null==s?void 0:s.length)))))};var Ke=n(34348),We=n(219),$e=n(86728),Qe=n(74183),Je=n(94228),Xe=n(80858),et=n(84564),tt=n(18802),nt=n(47945),at=function(e){var t,n,a=e.percent,r=e.failed;return 100===a?(n="Completed",t="success"):r?(n="Error",t="danger"):(n="In progress",t="info"),c().createElement(nt.Ex,{id:"finished-create-remediation",value:a,title:n,variant:t})};at.propTypes={percent:L().number,failed:L().bool};const rt=at;var st=function(e){var t=e.onClose,n=e.state,a=n.percent,r=n.failed;return c().createElement(We.ub,{variant:We.IQ.large,"data-component-ouia-id":"patch-set-progress"},c().createElement($e.k,{color:r?"var(--pf-global--danger-color--100)":100===a?"var(--pf-global--success-color--100)":void 0,icon:r?et.default:100===a?x.default:tt.ZP}),c().createElement(Ke.Title,{headingLevel:"h1",size:"lg"},r?"Error: Unable to create a patch set":100===a?"Patch Set creation successfull":"Patch Set creation in progress"),c().createElement(Qe.B,null,c().createElement(G.r,{hasGutter:!0},c().createElement(Y.P,null,c().createElement(rt,{percent:a,failed:r})),100!==a&&!r&&c().createElement(c().Fragment,null,c().createElement(Y.P,null,c().createElement(Je.p,null,c().createElement(Xe.u,{variant:"indeterminate"},"It may take a few minutes to set up a patch set. You will receive a notification when finished"))),c().createElement(Y.P,null,c().createElement(q.Button,{variant:"link",isInline:!0,onClick:t},"Cancel")," ")),100===a&&!r&&c().createElement(c().Fragment,null,c().createElement(Y.P,null,c().createElement(Je.p,null,c().createElement(Xe.u,{variant:"indeterminate"},"It may take a few minutes to set up a patch set. You will receive a notification when finished"))),c().createElement(Y.P,null,c().createElement(q.Button,{variant:"primary",onClick:t},"Return to application"))))))};st.propTypes={onClose:L().func,state:L().object};const lt=st;function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ct=function(e){var t,n=e.systemsIDs,r=e.setBaselineState,l=(0,i.useState)({submitted:!1,formValues:{},percent:0,failed:!1}),o=(0,s.Z)(l,2),u=o[0],m=o[1],p=(0,N.np)(u,m),d=function(){r({isOpen:!1,systemsIDs:[]}),m({formValues:{},submitted:!1})},f={nameField:{component:ke},descriptionField:{component:Ae},toDateField:{component:Me},"configuration-step":{component:_e,systemsIDs:n||[]},"review-systems":{component:Ge,systemsIDs:n||[]},"review-patch-set":{component:He,systemsIDs:n||[]}};return c().createElement(i.Fragment,null,!u.submitted&&c().createElement(X.Z,{schema:De,subscription:{values:!0},FormTemplate:function(e){return c().createElement(ee.ZP,(0,J.Z)({},e,{showFormControls:!1}))},componentMapper:it((t={},(0,a.Z)(t,te.Z.WIZARD,{component:ne.Z,className:"patch-set","data-ouia-component-id":"patch-set-wizard"}),(0,a.Z)(t,te.Z.TEXT_FIELD,ae.Z),(0,a.Z)(t,te.Z.DATE_PICKER,re.Z),t),f),validatorMapper:Ie,onSubmit:p,onCancel:d})||c().createElement(se.Modal,{isOpen:!0,variant:"large",showClose:!1,className:"patch-set",hasNoBodyWrapper:!0,"aria-describedby":"patch-set-description","aria-labelledby":"patch-set-modal-title"},c().createElement(le.e,{className:"patch-set",title:b.N.formatMessage(v.Z.patchSetTitle),description:b.N.formatMessage(v.Z.patchSetDescription),steps:[{name:"progress",component:c().createElement(lt,{onClose:d,setWizardOpen:function(e){r({isOpen:!0,systemsIDs:n}),m({formValues:e,submitted:!1})},state:u}),isFinishedStep:!0}],onClose:d})))};ct.propTypes={setBaselineState:L().func,systemsIDs:L().array};const ut=(0,i.memo)(ct,(function(e,t){return JSON.stringify(e)===JSON.stringify(t)}));function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const dt=function(){var e=b.N.formatMessage(v.Z.titlesSystems);(0,N.Iw)(e);var t=(0,f.useHistory)(),n=(0,d.I0)(),a=c().useState(!1),l=(0,s.Z)(a,2),i=l[0],y=l[1],k=c().useState((function(){return function(){return null}})),x=(0,s.Z)(k,2),M=x[0],A=x[1],R=c().useState({isOpen:!1,systemsIDs:[]}),L=(0,s.Z)(R,2),U=L[0],q=L[1],B=(0,j.PZ)(t.location.search),V=(0,d.v9)((function(e){var t=e.entities;return(null==t?void 0:t.rows)||[]}),d.wU),G=(0,d.v9)((function(e){var t=e.entities;return(null==t?void 0:t.total)||0})),Y=(0,d.v9)((function(e){var t=e.entities;return(null==t?void 0:t.selectedRows)||[]})),z=(0,d.v9)((function(e){var t=e.entities;return(null==t?void 0:t.status)||{}})),H=(0,d.v9)((function(e){var t=e.SystemsStore;return(null==t?void 0:t.queryParams)||{}})),K=H.systemProfile,W=H.selectedTags,$=H.filter,J=H.search,X=H.page,ee=H.perPage,te=H.sort;function ne(e){return ae.apply(this,arguments)}function ae(){return(ae=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,t;case 3:n=e.sent,A((function(){return function(){return c().createElement(_.Z,{data:n})}})),y(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return(re=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q({isOpen:!0,systemsIDs:[t.id]});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e){n((0,T.SF)(e))}c().useEffect((function(){return se(B),function(){return n((0,T.RV)())}}),[]);var le=(0,N.j5)(pt({search:J},$),se,g.hb),oe=(0,s.Z)(le,1)[0],ie={items:[(0,h.Z)(se,J,b.N.formatMessage(v.Z.labelsFiltersSystemsSearchTitle),b.N.formatMessage(v.Z.labelsFiltersSystemsSearchPlaceholder)),E(se,$),O(se,$),(0,S.Z)($,se)]},ce={filters:(0,j.mt)($,J,b.N.formatMessage(v.Z.labelsFiltersSystemsSearchTitle)),onDelete:oe,deleteTitle:b.N.formatMessage(v.Z.labelsFiltersReset)},ue=(0,N.ry)(V,Y,(function(e){return(0,I.lc)(pt(pt({},e),{},{limit:-1})).then(j.zw)}),(function(e){n({type:"SELECT_ENTITY",payload:e})})),me=Y&&(0,j.Qy)(Y).length,pe=(0,N.AR)("systems",H,{csv:I.wI,json:I.TW},n),de=function(e){return(0,I.ob)({limit:-1}).then((function(t){var n=t.data;return(0,I.fq)({advisories:n.map((function(e){return e.id})),systems:e})}))},fe=(0,N.U)(I.lc,se,{},t,(function(e){n((0,T._e)(e))}),(function(e){n((0,T.vl)(e))}));return c().createElement(c().Fragment,null,c().createElement(Z.Z,{title:b.N.formatMessage(v.Z.titlesPatchSystems),headerOUIA:"systems"}),c().createElement(M,null),c().createElement(Q,{apply:se,queryParams:H}),U.isOpen&&c().createElement(ut,{systemsIDs:U.systemsIDs,setBaselineState:q}),c().createElement(p.Z,null,z.hasError&&c().createElement(w.Z,{code:z.code})||c().createElement(m.Z,{isFullView:!0,autoRefresh:!0,initialLoading:!0,hideFilters:{all:!0,tags:!1},columns:j.gB,showTags:!0,customFilters:{patchParams:{search:J,filter:$,systemProfile:K,selectedTags:W}},paginationProps:{isDisabled:0===G},onLoad:function(e){var t=e.mergeWithEntities;(0,P.z)(pt({},t((0,D.Kq)(C.Fs,D.G),(0,j.fm)({page:X,perPage:ee,sort:te,search:J},B))))},getEntities:fe,actions:(0,C.Sb)(ne,(function(e){return re.apply(this,arguments)})),tableProps:{areActionsDisabled:function(e){var t=e.applicable_advisories;return t&&t.every((function(e){return 0===e}))},canSelectAll:!1,variant:u.TableVariant.compact,className:"patchCompactInventory",isStickyHeader:!0},bulkSelect:(0,N.Pz)(me,ue,{total_items:G},V),exportConfig:{isDisabled:0===G,onSelect:pe},filterConfig:ie,activeFiltersConfig:ce,dedicatedAction:c().createElement(F.Z,{onClick:function(){return ne((0,j.Sz)((0,j.Q6)(Y),de,j.R9,g.oN.advisory))},isDisabled:0===(0,j.Qy)(Y).length||i,isLoading:i,ouia:"toolbar-remediation-button"})})))}},5747:(e,t,n)=>{"use strict";n.d(t,{G:()=>u,OC:()=>m,Kq:()=>p});var a=n(4942),r=n(57668),s=n(48881),l=n(22789);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={rows:[],entities:[],selectedRows:{},status:{},page:1,perPage:20,metadata:{limit:20,offset:0,total_items:0}},u=function(e,t){return t.loaded?i(i({},t),{},{status:{isLoading:!1,hasError:!1},rows:(0,r.Yk)(t.rows,t.selectedRows)}):t},m=function(e,t){return t.loaded?i(i({},t),{},{columns:e,rows:(0,r.GF)(t.rows,t.selectedRows)}):t},p=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,a=arguments.length>1?arguments[1]:void 0,r=i({},n);switch(a.type){case"LOAD_ENTITIES_FULFILLED":return t(e,r);case"LOAD_ENTITIES_PENDING":return r.status={isLoading:!0,hasError:!1},r;case"LOAD_ENTITIES_REJECTED":return r.status={isLoading:!0,hasError:!0},r;case"SELECT_ENTITY":var o=(0,s.hd)(r,a);return t(e,o);case l.sq:return c;default:return n}}}},70347:()=>{},58392:()=>{},10497:()=>{},54476:()=>{},71338:()=>{},74282:()=>{},25238:()=>{},91993:()=>{},37739:()=>{},40209:()=>{},72816:()=>{},53519:()=>{}}]);
//# sourceMappingURL=../sourcemaps/Systems.c599ed6450392fcae8f4d3462a55685b.js.map