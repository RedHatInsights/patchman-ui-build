(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman||[]).push([[20],{92808:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>L});var n=r(28481),o=r(86350),s=r(20167),i=r(35240),a=r(45697),u=r.n(a),c=r(77865),l=r.n(c),f=r(61084),d=r(334),v=r(60578),m=r(63522),S=r(28725),h=r(6614),p=r(87145),y=r(85709),_=r(22293),g=r(55949),A=r(76923),Z=r(48527),b=r(2558),w=r(49736),P=r(22347),E=r(96928),I=function(e){var t=e.history,r=E.N.formatMessage(v.Z.titlesAdvisories);(0,P.Iw)(r);var a=(0,f.useDispatch)(),u=l().useState(!0),c=(0,n.Z)(u,2),d=c[0],I=c[1],L=(0,f.useSelector)((function(e){return e.AdvisoryListStore.rows})),M=(0,f.useSelector)((function(e){return e.AdvisoryListStore.expandedRows})),O=(0,f.useSelector)((function(e){return e.AdvisoryListStore.queryParams})),k=(0,f.useSelector)((function(e){return e.AdvisoryListStore.selectedRows})),R=(0,f.useSelector)((function(e){return e.AdvisoryListStore.metadata})),C=(0,f.useSelector)((function(e){return e.AdvisoryListStore.status})),N=l().useMemo((function(){return(0,b.nf)(L,M,k)}),[L,M,k]);l().useEffect((function(){d?(x((0,w.PZ)(t.location.search)),I(!1)):(t.push((0,w.R_)(O)),a((0,g.hV)(O)))}),[O]);var U=l().useCallback((function(e,t,r){return a((0,g.rt)({rowId:(0,w.vs)(L,t),value:r}))})),z=(0,P.ry)(N,k,(function(){return(0,A.ob)({limit:-1})}),(function(e){a((0,g.EI)(e))}),(function(e){return e.id})),T=(0,P._f)(_.z7,x,2),q=l().useMemo((function(){return(0,w.hO)(_.z7,R.sort,2)}),[R.sort]),F=(0,P.SL)(R.limit,x),j=(0,P._T)(x);function x(e){a((0,g.Us)(e))}var B=C===Z.g_&&l().createElement(s.Z,null),D=function(e){return(0,A.lc)({limit:-1}).then((function(t){var r=t.data;return(0,A.fq)({advisories:e,systems:r.map((function(e){return e.id}))})}))};return l().createElement(l().Fragment,null,l().createElement(p.Z,{title:E.N.formatMessage(v.Z.titlesPatchAdvisories),headerOUIA:"advisories"}),l().createElement(o.Z,null,l().createElement(y.Z,{columns:_.z7,compact:!0,onCollapse:U,onSetPage:F,onPerPageSelect:j,onSort:T,onExport:function(e,t){var r=(new Date).toISOString().replace(/[T:]/g,"-").split(".")[0]+"-utc",n="applicable-advisories-".concat(r);"csv"===t?(0,A.rf)(O).then((function(e){return(0,i.Sv)(e,n,"csv")})):(0,A.kM)(O).then((function(e){return(0,i.Sv)(JSON.stringify(e),n,"json")}))},selectedRows:k,onSelect:L.length&&z||void 0,sortBy:q,remediationProvider:function(){return(0,w.Sz)((0,w.Qy)(k),D,w.R9)},apply:x,remediationButtonOUIA:"toolbar-remediation-button",tableOUIA:"advisories-table",paginationOUIA:"advisories-pagination",store:{rows:N,metadata:R,status:C,queryParams:O},filterConfig:{items:[(0,S.Z)(x,O.search,E.N.formatMessage(v.Z.labelsFiltersSearchAdvisoriesTitle),E.N.formatMessage(v.Z.labelsFiltersSearchAdvisoriesPlaceholder)),(0,h.Z)(x,O.filter),(0,m.Z)(x,O.filter)]},errorState:B})))};I.propTypes={history:u().object};const L=(0,d.withRouter)(I)}}]);