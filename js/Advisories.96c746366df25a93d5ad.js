(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman||[]).push([[20],{87906:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>M});var n=r(63038),o=r.n(n),s=r(86350),i=r(20167),a=r(35240),u=r(45697),c=r.n(u),l=r(77865),f=r.n(l),d=r(61084),v=r(334),m=r(18623),S=r(77744),p=r(75107),h=r(94052),y=r(95466),_=r(76445),g=r(55930),A=r(50371),b=r(58492),Z=r(79143),w=r(52798),P=r(92026),E=r(45505),I=r(11550),L=function(e){var t=e.history,r=I.N.formatMessage(m.Z.titlesAdvisories);(0,E.Iw)(r);var n=(0,d.useDispatch)(),u=f().useState(!0),c=o()(u,2),l=c[0],v=c[1],L=(0,d.useSelector)((function(e){return e.AdvisoryListStore.rows})),M=(0,d.useSelector)((function(e){return e.AdvisoryListStore.expandedRows})),O=(0,d.useSelector)((function(e){return e.AdvisoryListStore.queryParams})),k=(0,d.useSelector)((function(e){return e.AdvisoryListStore.selectedRows})),R=(0,d.useSelector)((function(e){return e.AdvisoryListStore.metadata})),C=(0,d.useSelector)((function(e){return e.AdvisoryListStore.status})),N=f().useMemo((function(){return(0,w.nf)(L,M,k)}),[L,M,k]);f().useEffect((function(){l?(x((0,P.PZ)(t.location.search)),v(!1)):(t.push((0,P.R_)(O)),n((0,A.hV)(O)))}),[O]);var U=f().useCallback((function(e,t,r){return n((0,A.rt)({rowId:(0,P.vs)(L,t),value:r}))})),z=(0,E.ry)(N,k,(function(){return(0,b.ob)({limit:-1})}),(function(e){n((0,A.EI)(e))}),(function(e){return e.id})),T=(0,E._f)(g.z7,x,2),q=f().useMemo((function(){return(0,P.hO)(g.z7,R.sort,2)}),[R.sort]),F=(0,E.SL)(R.limit,x),j=(0,E._T)(x);function x(e){n((0,A.Us)(e))}var B=C===Z.g_&&f().createElement(i.Z,null),D=function(e){return(0,b.lc)({limit:-1}).then((function(t){var r=t.data;return(0,b.fq)({advisories:e,systems:r.map((function(e){return e.id}))})}))};return f().createElement(f().Fragment,null,f().createElement(y.Z,{title:I.N.formatMessage(m.Z.titlesPatchAdvisories),headerOUIA:"advisories"}),f().createElement(s.Z,null,f().createElement(_.Z,{columns:g.z7,compact:!0,onCollapse:U,onSetPage:F,onPerPageSelect:j,onSort:T,onExport:function(e,t){var r=(new Date).toISOString().replace(/[T:]/g,"-").split(".")[0]+"-utc",n="applicable-advisories-".concat(r);"csv"===t?(0,b.rf)(O).then((function(e){return(0,a.Sv)(e,n,"csv")})):(0,b.kM)(O).then((function(e){return(0,a.Sv)(JSON.stringify(e),n,"json")}))},selectedRows:k,onSelect:z,sortBy:q,remediationProvider:function(){return(0,P.Sz)((0,P.Qy)(k),D,P.R9)},apply:x,remediationButtonOUIA:"toolbar-remediation-button",tableOUIA:"advisories-table",paginationOUIA:"advisories-pagination",store:{rows:N,metadata:R,status:C,queryParams:O},filterConfig:{items:[(0,p.Z)(x,O.search,I.N.formatMessage(m.Z.labelsFiltersSearchAdvisoriesTitle),I.N.formatMessage(m.Z.labelsFiltersSearchAdvisoriesPlaceholder)),(0,h.Z)(x,O.filter),(0,S.Z)(x,O.filter)]},errorState:B})))};L.propTypes={history:c().object};const M=(0,v.withRouter)(L)}}]);
//# sourceMappingURL=Advisories.96c746366df25a93d5ad.js.map