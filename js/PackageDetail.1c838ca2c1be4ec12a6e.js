"use strict";(self.webpackChunkpatch=self.webpackChunkpatch||[]).push([[9155],{56186:(e,t,n)=>{n.d(t,{N:()=>a,i:()=>c});var a,r=n(70655),s=n(43297),o=n(38296),i=n(67958),l=n(80164);!function(e){e.hr="hr",e.li="li",e.div="div"}(a||(a={}));const c=e=>{var{className:t,component:n=a.hr,isVertical:c=!1,inset:u,orientation:d}=e,p=(0,r.__rest)(e,["className","component","isVertical","inset","orientation"]);const m=n;return s.createElement(m,Object.assign({className:(0,o.css)(i.default.divider,c&&i.default.modifiers.vertical,(0,l.wt)(u,i.default),(0,l.wt)(d,i.default),t)},"hr"!==n&&{role:"separator"},p))};c.displayName="Divider"},74829:(e,t,n)=>{n.d(t,{u:()=>c});var a=n(70655),r=n(43297),s=n(99355),o=n(33676),i=n(56186),l=n(62472);const c=e=>{var{className:t="",ref:n,ouiaId:u,ouiaSafe:d}=e,p=(0,a.__rest)(e,["className","ref","ouiaId","ouiaSafe"]);const m=(0,l.S$)(c.displayName,u,d);return r.createElement(s.e4.Consumer,null,(e=>r.createElement(o.n,Object.assign({},p,{context:e,component:r.createElement(i.i,{component:i.N.div}),className:t,role:"separator"},m))))};c.displayName="DropdownSeparator"},33676:(e,t,n)=>{n.d(t,{n:()=>d});var a=n(70655),r=n(43297),s=n(38296),o=n(99355),i=n(1774),l=n(80164),c=n(35224),u=n(73699);class d extends r.Component{constructor(){super(...arguments),this.ref=r.createRef(),this.additionalRef=r.createRef(),this.getInnerNode=e=>e&&e.childNodes&&e.childNodes.length?e.childNodes[0]:e,this.onKeyDown=e=>{var t,n,a,r,s,o,l,c,u,d;const p=e.target===this.ref.current?0:1;this.props.customChild||e.preventDefault(),"ArrowUp"===e.key?(null===(n=null===(t=this.props.context)||void 0===t?void 0:t.keyHandler)||void 0===n||n.call(t,this.props.index,p,i.Ow.UP),e.stopPropagation()):"ArrowDown"===e.key?(null===(r=null===(a=this.props.context)||void 0===a?void 0:a.keyHandler)||void 0===r||r.call(a,this.props.index,p,i.Ow.DOWN),e.stopPropagation()):"ArrowRight"===e.key?(null===(o=null===(s=this.props.context)||void 0===s?void 0:s.keyHandler)||void 0===o||o.call(s,this.props.index,p,i.Ow.RIGHT),e.stopPropagation()):"ArrowLeft"===e.key?(null===(c=null===(l=this.props.context)||void 0===l?void 0:l.keyHandler)||void 0===c||c.call(l,this.props.index,p,i.Ow.LEFT),e.stopPropagation()):"Enter"!==e.key&&" "!==e.key||(e.target.click(),this.props.enterTriggersArrowDown&&(null===(d=null===(u=this.props.context)||void 0===u?void 0:u.keyHandler)||void 0===d||d.call(u,this.props.index,p,i.Ow.DOWN)))},this.componentRef=e=>{this.ref.current=e;const{component:t}=this.props,n=t.ref;n&&("function"==typeof n?n(e):n.current=e)}}componentDidMount(){var e;const{context:t,index:n,isDisabled:a,role:r,customChild:s,autoFocus:o}=this.props,i=s?this.getInnerNode(this.ref.current):this.ref.current;null===(e=null==t?void 0:t.sendRef)||void 0===e||e.call(t,n,[i,s?i:this.additionalRef.current],a,"separator"===r),o&&setTimeout((()=>i.focus()))}componentDidUpdate(){var e;const{context:t,index:n,isDisabled:a,role:r,customChild:s}=this.props,o=s?this.getInnerNode(this.ref.current):this.ref.current;null===(e=null==t?void 0:t.sendRef)||void 0===e||e.call(t,n,[o,s?o:this.additionalRef.current],a,"separator"===r)}extendAdditionalChildRef(){const{additionalChild:e}=this.props;return r.cloneElement(e,{ref:this.additionalRef})}render(){const e=this.props,{className:t,children:n,context:i,onClick:d,component:p,role:m,isDisabled:f,isAriaDisabled:h,isPlainText:g,index:v,href:b,tooltip:y,tooltipProps:E,id:P,componentID:w,listItemClassName:C,additionalChild:N,customChild:k,enterTriggersArrowDown:O,icon:D,autoFocus:x,styleChildren:S,description:Z,inoperableEvents:j}=e,T=(0,a.__rest)(e,["className","children","context","onClick","component","role","isDisabled","isAriaDisabled","isPlainText","index","href","tooltip","tooltipProps","id","componentID","listItemClassName","additionalChild","customChild","enterTriggersArrowDown","icon","autoFocus","styleChildren","description","inoperableEvents"]);let I=(0,s.css)(D&&u.default.modifiers.icon,h&&u.default.modifiers.ariaDisabled,t);"a"===p?T["aria-disabled"]=f||h:"button"===p&&(T["aria-disabled"]=f||h,T.type=T.type||"button");const M=e=>r.cloneElement(e,Object.assign(Object.assign({},S&&{className:(0,s.css)(e.props.className,I)}),"separator"!==this.props.role&&{role:m,ref:this.componentRef})),A=e=>{const t=e,a=Z?r.createElement(r.Fragment,null,r.createElement("div",{className:u.default.dropdownMenuItemMain},D&&r.createElement("span",{className:(0,s.css)(u.default.dropdownMenuItemIcon)},D),n),r.createElement("div",{className:u.default.dropdownMenuItemDescription},Z)):r.createElement(r.Fragment,null,D&&r.createElement("span",{className:(0,s.css)(u.default.dropdownMenuItemIcon)},D),n);return r.createElement(t,Object.assign({},T,f||h?(0,l.KG)(j):null,{href:b,ref:this.ref,className:I,id:w,role:m}),a)};return r.createElement(o.Dl.Consumer,null,(({onSelect:e,itemClass:t,disabledClass:n,plainTextClass:a})=>{return"separator"!==this.props.role&&(I=(0,s.css)(I,f&&n,g&&a,t,Z&&u.default.modifiers.description)),k?r.cloneElement(k,{ref:this.ref,onKeyDown:this.onKeyDown}):r.createElement("li",Object.assign({},C&&{className:C},{role:"none",onKeyDown:this.onKeyDown,onClick:t=>{f||h||(null==d||d(t),null==e||e(t))},id:P}),(o=r.isValidElement(p)?M(p):A(p),y?r.createElement(c.u,Object.assign({content:y},E),o):o),N&&this.extendAdditionalChildRef());var o}))}}d.displayName="InternalDropdownItem",d.defaultProps={className:"",component:"a",role:"none",isDisabled:!1,isPlainText:!1,tooltipProps:{},onClick:e=>{},index:-1,context:{keyHandler:()=>{},sendRef:()=>{}},enterTriggersArrowDown:!1,icon:null,styleChildren:!0,description:null,inoperableEvents:["onClick","onKeyPress"]}},99355:(e,t,n)=>{n.d(t,{Dl:()=>o,dw:()=>r,e4:()=>i,ir:()=>a});var a,r,s=n(43297);!function(e){e.right="right",e.left="left"}(a||(a={})),function(e){e.up="up",e.down="down"}(r||(r={}));const o=s.createContext({onSelect:e=>{},id:"",toggleIndicatorClass:"",toggleIconClass:"",toggleTextClass:"",menuClass:"",itemClass:"",toggleClass:"",baseClass:"",baseComponent:"div",sectionClass:"",sectionTitleClass:"",sectionComponent:"section",disabledClass:"",plainTextClass:"",menuComponent:"ul"}),i=s.createContext({keyHandler:null,sendRef:null})},5964:(e,t,n)=>{n.d(t,{VA:()=>s,ZP:()=>o,kc:()=>r});var a=n(40400);const r={name:"CaretDownIcon",height:512,width:320,svgPath:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z",yOffset:0,xOffset:0},s=(0,a.IU)(r),o=s},16590:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(83237),r=n(43297),s=n.n(r),o=n(13784),i=n(32132),l=n(30893);const c=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).update_status,n=s().useMemo((function(){return o.tG.map((function(e){var t=e.value;return{label:e.label,value:t.toString()}}))}),[]);return{label:i.N.formatMessage(l.Z.labelsFiltersStatus),type:a.Y.checkbox,filterValues:{onChange:function(t,n){!function(t){e({filter:{update_status:t}})}(n)},items:n,value:t,placeholder:i.N.formatMessage(l.Z.labelsColumnsStatusPlaceholder)}}}},8453:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ae});var a=n(4942),r=n(49739),s=n(83826),o=n(68340),i=n(68774),l=n(14748),c=n(43297),u=n.n(c),d=n(93942),p=n(62012),m=n(30893),f=n(49642),h=n(29439),g=n(50693),v=n(16475),b=n(45697),y=n.n(b),E=n(5391),P=n(81469),w=function(e){var t=e.attributes.description,n=e.isLoading,a=u().useState(1e3),o=(0,h.Z)(a,2),i=o[0],l=o[1];return t&&u().createElement(g.r,{hasGutter:!0,style:{minHeight:50}},u().createElement(v.P,{md:8,sm:12},u().createElement(P.ZP,{loading:n,variant:P.x.spinner,centered:!0},u().createElement(r.K,{hasGutter:!0},u().createElement(s.v,null),u().createElement(s.v,{style:{whiteSpace:"pre-line"}},t&&(0,E.Nt)(t,i,l))))))||u().createElement(c.Fragment,null)};w.propTypes={attributes:y().object,isLoading:y().bool};const C=w;var N=n(15984),k=n(93433),O=n(75863),D=n(33739),x=n(90747),S=n(16590),Z=n(87462),j=n(54680),T=n(92694),I=n(64403),M=n(83237),A=n(32132);const R=function(e,t,n){var a=u().useState(!1),r=(0,h.Z)(a,2),s=r[0],o=r[1],i=u().useState(10),l=(0,h.Z)(i,2),c=l[0],d=l[1],p=t&&t.installed_evra,f=p&&("string"==typeof t.installed_evra&&t.installed_evra.split(",")||t.installed_evra),g=n.data&&n.data.sort().map((function(e){return{value:e.evra}}))||[{value:A.N.formatMessage(m.Z.textNoVersionAvailable),disabled:!0}];return{type:M.Y.custom,label:A.N.formatMessage(m.Z.labelsFiltersPackageVersionTitle),value:"custom",filterValues:{children:u().createElement(j.P,(0,Z.Z)({variant:g.length>0&&I.TM.checkbox||I.TM.typeaheadMulti,typeAheadAriaLabel:A.N.formatMessage(m.Z.labelsFiltersPackageVersionPlaceholder),onToggle:function(e){o(e)},onSelect:function(n,a){var r={filter:{}};if(!f||f&&!f.includes(a)){var s=p&&""!==t.installed_evra&&t.installed_evra.concat(",")||"";r.filter={installed_evra:"".concat(s).concat(a)}}else{var o=1!==f.length&&f.filter((function(e){return!e.includes(a)})).join(",")||void 0;r.filter={installed_evra:o}}e(r)},selections:f,isOpen:s,"aria-labelledby":"patch-version-filter",placeholderText:A.N.formatMessage(m.Z.labelsFiltersPackageVersionPlaceholder)},c<g.lengt&&{loadingVariant:{text:"View more",onClick:function(){d(g.length)}}},{style:{maxHeight:"400px",overflow:"auto"}}),g.slice(0,c).map((function(e,t){return u().createElement(T.$,(0,Z.Z)({isDisabled:e.disabled,key:t,value:e.value},e.description&&{description:e.description}))})))}}};var F=n(52579),_=n(7322),V=n(9557),H=n(5747),L=n(11220),K=n(13784),U=n(91607),G=n(53074),q=n(58684),z=n(93080),Q=n(97779),W=n(83905);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=function(e){var t=e.packageName,n=(0,d.I0)(),a=(0,d.oR)(),r=u().useState([]),s=(0,h.Z)(r,2),o=s[0],i=s[1],l=(0,p.useSearchParams)(),f=(0,h.Z)(l,2),g=f[0],v=f[1],b=(0,E.PZ)("?"+g.toString()),y=(0,d.v9)((function(e){var t=e.entities;return(null==t?void 0:t.rows)||[]}),d.wU),P=(0,d.v9)((function(e){var t=e.entities;return(null==t?void 0:t.status)||{}})),w=(0,d.v9)((function(e){var t=e.entities;return(null==t?void 0:t.total)||0})),C=(0,d.v9)((function(e){var t=e.entities;return(null==t?void 0:t.selectedRows)||[]})),N=(0,d.v9)((function(e){var t=e.PackageSystemsStore;return(null==t?void 0:t.queryParams)||{}})),Z=N.systemProfile,j=N.selectedTags,T=N.filter,I=N.search,M=N.sort,Y=N.page,B=N.perPage,J=(0,c.useCallback)((function(e){n((0,V.g5)(e))}),[]);(0,c.useEffect)((function(){J(b),(0,L.dh)({package_name:t}).then(i)}),[]),(0,c.useEffect)((function(){return function(){n((0,V.RV)()),n((0,V.d)())}}),[]);var X=(0,U.j5)($($({},T),{},{search:I}),J),ee=(0,h.Z)(X,1)[0],te=(0,W.Z)(null==T?void 0:T.os,J),ne={items:[(0,x.Z)(J,I,A.N.formatMessage(m.Z.labelsFiltersSystemsSearchTitle),A.N.formatMessage(m.Z.labelsFiltersSystemsSearchPlaceholder)),(0,S.Z)(J,T),R(J,T,o)].concat((0,k.Z)(te))},ae=(0,c.useMemo)((function(){return{filters:(0,E.mt)(T,I,A.N.formatMessage(m.Z.labelsFiltersSystemsSearchTitle)),onDelete:ee}}),[T,I]),re=(0,z.r)(y,C,{endpoint:z.c.packageSystems(t),queryParams:N,selectionDispatcher:V.i2,constructFilename:function(e){return"".concat(e.available_evra)},apiResponseTransformer:E.lq}),se=C&&(0,E.Qy)(C).length,oe=(0,U.AR)(t,N,{csv:L.nx,json:L.bb},n),ie=(0,c.useCallback)((function(e){var n=[];return e.forEach((function(e){var a=t+"-"+C[e],r="patch-package:".concat(a),s=n.findIndex((function(e){return e.id===r}));-1!==s?n[s].systems.push(e):a&&n.push({id:r,description:a,systems:[e]})})),!!n.length&&{issues:n}}),[C]),le=(0,U.U)(L.vo,J,{packageName:t},v),ce=(0,U.Pz)(se,re,{total_items:w},y);return u().createElement(u().Fragment,null,P.hasError&&u().createElement(F.Z,{code:P.code})||u().createElement(D.Z,{disableDefaultColumns:["system_profile","updated","groups"],isFullView:!0,autoRefresh:!0,initialLoading:!0,hideFilters:{all:!0,tags:!1},columns:q.Hd,showTags:!0,getEntities:le,customFilters:{patchParams:{search:I,filter:T,systemProfile:Z,selectedTags:j}},paginationProps:{isDisabled:0===w},onLoad:function(e){var t=e.mergeWithEntities;a.replaceReducer((0,Q.UY)($($({},_.E),t((0,H.Kq)(q.Hd,H.OC),(0,E.fm)({page:Y,perPage:B,sort:M,search:I},b)))))},tableProps:{canSelectAll:!1,variant:O.B.compact,className:"patchCompactInventory",isStickyHeader:!0},filterConfig:ne,activeFiltersConfig:ae,bulkSelect:re&&ce,exportConfig:{isDisabled:0===w,onSelect:oe},dedicatedAction:u().createElement(G.Z,{remediationProvider:function(){return(0,E.Sz)((0,E.Q6)(C),ie,K.oN.package)},isDisabled:0===(0,E.Qy)(C).length})}))};B.propTypes={packageName:y().string};const J=B;var X=n(83215),ee=n(55140);function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ae=function(){var e=(0,d.I0)(),t=(0,p.useParams)().packageName,n=(0,ee.Z)();(0,c.useEffect)((function(){t&&n.updateDocumentTitle("".concat(t," - ").concat(A.N.formatMessage(m.Z.titlesPackages),"\n        ").concat(K.JD))}),[n,t]);var a=(0,d.v9)((function(e){return e.PackageDetailStore})),h=(0,d.v9)((function(e){return e.PackageDetailStore.status}));u().useEffect((function(){e((0,V.Sb)({packageName:t}))}),[]),u().useEffect((function(){return function(){e((0,X.L1)()),e((0,V.vh)())}}),[]);var g=a.data.attributes;return u().createElement(u().Fragment,null,u().createElement(f.Z,{title:t,headerOUIA:"package-details",breadcrumbs:[{title:A.N.formatMessage(m.Z.titlesPatchPackages),to:"/packages",isActive:!1},{title:t,isActive:!0}]},h.hasError?u().createElement(N.Z,null):u().createElement(C,{attributes:ne(ne({},g),{},{id:t}),isLoading:h.isLoading})),u().createElement(l.ZP,null,u().createElement(r.K,{hasGutter:!0},u().createElement(s.v,null,u().createElement(i.D,null,u().createElement(o.x,{component:o.q.h2},A.N.formatMessage(m.Z.titlesAffectedSystems)))),u().createElement(s.v,null,h.hasError&&u().createElement(F.Z,null)||!h.isLoading&&u().createElement(J,{packageName:t})))))}}}]);
//# sourceMappingURL=../sourcemaps/PackageDetail.86b4fb99bb91f82ee1a1e006c7dc3a71.js.map