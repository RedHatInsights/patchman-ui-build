(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman||[]).push([[9155],{84564:(e,t,c)=>{"use strict";t.__esModule=!0,t.ExclamationCircleIconConfig={name:"ExclamationCircleIcon",height:512,width:512,svgPath:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z",yOffset:0,xOffset:0},t.ExclamationCircleIcon=c(35183).createIcon(t.ExclamationCircleIconConfig),t.default=t.ExclamationCircleIcon},19694:(e,t,c)=>{"use strict";t.__esModule=!0,t.ExclamationTriangleIconConfig={name:"ExclamationTriangleIcon",height:512,width:576,svgPath:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z",yOffset:0,xOffset:0},t.ExclamationTriangleIcon=c(35183).createIcon(t.ExclamationTriangleIconConfig),t.default=t.ExclamationTriangleIcon},41661:(e,t,c)=>{"use strict";c.r(t),c.d(t,{default:()=>a}),c(94498);const a={badge:"pf-c-badge",button:"pf-c-button",chip:"pf-c-chip",chipIcon:"pf-c-chip__icon",chipText:"pf-c-chip__text",modifiers:{overflow:"pf-m-overflow",draggable:"pf-m-draggable"},themeDark:"pf-theme-dark"}},9862:(e,t,c)=>{"use strict";c.r(t),c.d(t,{default:()=>a}),c(93818);const a={chipGroup:"pf-c-chip-group",chipGroupClose:"pf-c-chip-group__close",chipGroupLabel:"pf-c-chip-group__label",chipGroupList:"pf-c-chip-group__list",chipGroupListItem:"pf-c-chip-group__list-item",chipGroupMain:"pf-c-chip-group__main",modifiers:{category:"pf-m-category"}}},16896:(e,t,c)=>{"use strict";c.r(t),c.d(t,{default:()=>a}),c(36974);const a={check:"pf-c-check",checkLabel:"pf-c-check__label",chipGroup:"pf-c-chip-group",divider:"pf-c-divider",formControl:"pf-c-form-control",modifiers:{invalid:"pf-m-invalid",success:"pf-m-success",warning:"pf-m-warning",disabled:"pf-m-disabled",active:"pf-m-active",expanded:"pf-m-expanded",plain:"pf-m-plain",typeahead:"pf-m-typeahead",placeholder:"pf-m-placeholder",top:"pf-m-top",alignRight:"pf-m-align-right",static:"pf-m-static",favorite:"pf-m-favorite",favoriteAction:"pf-m-favorite-action",focus:"pf-m-focus",link:"pf-m-link",action:"pf-m-action",selected:"pf-m-selected",description:"pf-m-description",load:"pf-m-load",loading:"pf-m-loading"},select:"pf-c-select",selectListItem:"pf-c-select__list-item",selectMenu:"pf-c-select__menu",selectMenuFieldset:"pf-c-select__menu-fieldset",selectMenuFooter:"pf-c-select__menu-footer",selectMenuGroup:"pf-c-select__menu-group",selectMenuGroupTitle:"pf-c-select__menu-group-title",selectMenuItem:"pf-c-select__menu-item",selectMenuItemActionIcon:"pf-c-select__menu-item-action-icon",selectMenuItemCount:"pf-c-select__menu-item-count",selectMenuItemDescription:"pf-c-select__menu-item-description",selectMenuItemIcon:"pf-c-select__menu-item-icon",selectMenuItemMain:"pf-c-select__menu-item-main",selectMenuItemMatch:"pf-c-select__menu-item--match",selectMenuItemRow:"pf-c-select__menu-item-row",selectMenuItemText:"pf-c-select__menu-item-text",selectMenuSearch:"pf-c-select__menu-search",selectMenuWrapper:"pf-c-select__menu-wrapper",selectToggle:"pf-c-select__toggle",selectToggleArrow:"pf-c-select__toggle-arrow",selectToggleBadge:"pf-c-select__toggle-badge",selectToggleButton:"pf-c-select__toggle-button",selectToggleClear:"pf-c-select__toggle-clear",selectToggleIcon:"pf-c-select__toggle-icon",selectToggleStatusIcon:"pf-c-select__toggle-status-icon",selectToggleText:"pf-c-select__toggle-text",selectToggleTypeahead:"pf-c-select__toggle-typeahead",selectToggleWrapper:"pf-c-select__toggle-wrapper",themeDark:"pf-theme-dark"}},16590:(e,t,c)=>{"use strict";c.d(t,{Z:()=>o});var a=c(83237),n=c(43297),r=c.n(n),l=c(13784),i=c(32132),s=c(30893);const o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=t.updatable,n=r().useMemo((function(){return l.tG.map((function(e){var t=e.value;return{label:e.label,value:t.toString()}}))}),[]),o=function(t){e({filter:{updatable:t}})};return{label:i.N.formatMessage(s.Z.labelsFiltersStatus),type:a.Y.checkbox,filterValues:{onChange:function(e,t){o(t)},items:n,value:c,placeholder:i.N.formatMessage(s.Z.labelsColumnsStatusPlaceholder)}}}},8453:(e,t,c)=>{"use strict";c.r(t),c.d(t,{default:()=>ne});var a=c(4942),n=c(29439),r=c(81159),l=c(34023),i=c(63540),s=c(20018),o=c(14748),u=c(45697),p=c.n(u),f=c(43297),m=c.n(f),g=c(28216),d=c(334),h=c(30893),v=c(49642),_=c(49287),b=c(18038),y=c(5391),E=c(81469),k=function(e){var t=e.attributes.description,c=e.isLoading,a=m().useState(1e3),i=(0,n.Z)(a,2),s=i[0],o=i[1];return t&&m().createElement(_.r,{hasGutter:!0,style:{minHeight:50}},m().createElement(b.P,{md:8,sm:12},m().createElement(E.ZP,{loading:c,variant:E.x.spinner,centered:!0},m().createElement(r.K,{hasGutter:!0},m().createElement(l.v,null),m().createElement(l.v,{style:{whiteSpace:"pre-line"}},t&&(0,y.Nt)(t,s,o))))))||m().createElement(f.Fragment,null)};k.propTypes={attributes:p().object,isLoading:p().bool};const P=k;var O=c(15984),M=c(15861),S=c(64687),w=c.n(S),Z=c(72573),x=c(33739),I=c(90747),T=c(16590),C=c(87462),j=c(80887),N=c(77221),D=c(82553),F=c(83237),L=c(32132);const A=function(e,t,c){var a=m().useState(!1),r=(0,n.Z)(a,2),l=r[0],i=r[1],s=m().useState(10),o=(0,n.Z)(s,2),u=o[0],p=o[1],f=t&&t.installed_evra,g=f&&("string"==typeof t.installed_evra&&t.installed_evra.split(",")||t.installed_evra),d=c.data&&c.data.sort().map((function(e){return{value:e.evra}}))||[{value:L.N.formatMessage(h.Z.textNoVersionAvailable),disabled:!0}];return{type:F.Y.custom,label:L.N.formatMessage(h.Z.labelsFiltersPackageVersionTitle),value:"custom",filterValues:{children:m().createElement(j.Select,(0,C.Z)({variant:d.length>0&&D.SelectVariant.checkbox||D.SelectVariant.typeaheadMulti,typeAheadAriaLabel:L.N.formatMessage(h.Z.labelsFiltersPackageVersionPlaceholder),onToggle:function(e){i(e)},onSelect:function(c,a){var n={filter:{}};if(!g||g&&!g.includes(a)){var r=f&&""!==t.installed_evra&&t.installed_evra.concat(",")||"";n.filter={installed_evra:"".concat(r).concat(a)}}else{var l=1!==g.length&&g.filter((function(e){return!e.includes(a)})).join(",")||void 0;n.filter={installed_evra:l}}e(n)},selections:g,isOpen:l,"aria-labelledby":"patch-version-filter",placeholderText:L.N.formatMessage(h.Z.labelsFiltersPackageVersionPlaceholder)},u<d.lengt&&{loadingVariant:{text:"View more",onClick:function(){p(d.length)}}},{style:{maxHeight:"400px",overflow:"auto"}}),d.slice(0,u).map((function(e,t){return m().createElement(N.SelectOption,(0,C.Z)({isDisabled:e.disabled,key:t,value:e.value},e.description&&{description:e.description}))})))}}};var G=c(52579),V=c(48731),R=c(9557),z=c(5747),H=c(11220),q=c(13784),U=c(91607),K=c(53074),Q=c(58684),W=c(93080),Y=c(97779);function B(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,a)}return c}function J(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?B(Object(c),!0).forEach((function(t){(0,a.Z)(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):B(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}var X=function(e){var t=e.packageName,c=(0,g.I0)(),a=(0,g.oR)(),r=(0,d.useHistory)(),l=m().useState([]),i=(0,n.Z)(l,2),s=i[0],o=i[1],u=(0,y.PZ)(r.location.search),p=(0,g.v9)((function(e){var t=e.entities;return(null==t?void 0:t.rows)||[]}),g.wU),v=(0,g.v9)((function(e){var t=e.entities;return(null==t?void 0:t.status)||{}})),_=(0,g.v9)((function(e){var t=e.entities;return(null==t?void 0:t.total)||0})),b=(0,g.v9)((function(e){var t=e.entities;return(null==t?void 0:t.selectedRows)||[]})),E=(0,g.v9)((function(e){var t=e.PackageSystemsStore;return(null==t?void 0:t.queryParams)||{}})),k=E.systemProfile,P=E.selectedTags,O=E.filter,S=E.search,C=E.sort,j=E.page,N=E.perPage,D=(0,f.useCallback)((function(e){c((0,R.g5)(e))}),[]);(0,f.useEffect)((0,M.Z)(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(u),e.t0=o,e.next=4,(0,H.dh)({package_name:t});case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)}))),[]),(0,f.useEffect)((function(){return function(){c((0,R.RV)()),c((0,R.d)())}}),[]);var F=(0,U.j5)(J(J({},O),{},{search:S}),D),B=(0,n.Z)(F,1)[0],X={items:[(0,I.Z)(D,S,L.N.formatMessage(h.Z.labelsFiltersSystemsSearchTitle),L.N.formatMessage(h.Z.labelsFiltersSystemsSearchPlaceholder)),(0,T.Z)(D,O),A(D,O,s)]},$=(0,f.useMemo)((function(){return{filters:(0,y.mt)(O,S,L.N.formatMessage(h.Z.labelsFiltersSystemsSearchTitle)),onDelete:B}}),[O,S]),ee=(0,W.r)(p,b,{endpoint:W.c.packageSystems(t),queryParams:E,selectionDispatcher:R.i2,constructFilename:function(e){return"".concat(t,"-").concat(e.available_evra)},apiResponseTransformer:y.lq}),te=b&&(0,y.Qy)(b).length,ce=(0,U.AR)(t,E,{csv:H.nx,json:H.bb},c),ae=(0,f.useCallback)((function(e){var t=[];return e.forEach((function(e){var c=b[e],a="patch-package:".concat(c),n=t.findIndex((function(e){return e.id===a}));-1!==n?t[n].systems.push(e):c&&t.push({id:a,description:c,systems:[e]})})),!!t.length&&{issues:t}}),[b]),ne=(0,U.U)(H.vo,D,{packageName:t},r),re=(0,U.Pz)(te,ee,{total_items:_},p);return m().createElement(m().Fragment,null,v.hasError&&m().createElement(G.Z,{code:v.code})||m().createElement(x.Z,{disableDefaultColumns:["system_profile","updated"],isFullView:!0,autoRefresh:!0,initialLoading:!0,hideFilters:{all:!0,tags:!1},columns:Q.Hd,showTags:!0,getEntities:ne,customFilters:{patchParams:{search:S,filter:O,systemProfile:k,selectedTags:P}},paginationProps:{isDisabled:0===_},onLoad:function(e){var t=e.mergeWithEntities;a.replaceReducer((0,Y.UY)(J(J({},V.E),t((0,z.Kq)(Q.Hd,z.OC),(0,y.fm)({page:j,perPage:N,sort:C,search:S},u)))))},tableProps:{canSelectAll:!1,variant:Z.TableVariant.compact,className:"patchCompactInventory",isStickyHeader:!0},filterConfig:X,activeFiltersConfig:$,bulkSelect:ee&&re,exportConfig:{isDisabled:0===_,onSelect:ce},dedicatedAction:m().createElement(K.Z,{remediationProvider:function(){return(0,y.Sz)((0,y.Q6)(b),ae,q.oN.package)},isDisabled:0===(0,y.Qy)(b).length})}))};X.propTypes={packageName:p().string};const $=X;var ee=c(83215);function te(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,a)}return c}function ce(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?te(Object(c),!0).forEach((function(t){(0,a.Z)(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):te(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}var ae=function(e){var t=e.match,c=(0,g.I0)(),a=m().useState(t.params.packageName),u=(0,n.Z)(a,1)[0],p="".concat(u," - ").concat(L.N.formatMessage(h.Z.titlesPackages));(0,U.Iw)(p);var f=(0,g.v9)((function(e){return e.PackageDetailStore})),d=(0,g.v9)((function(e){return e.PackageDetailStore.status}));m().useEffect((function(){c((0,R.Sb)({packageName:u}))}),[]),m().useEffect((function(){return function(){c((0,ee.L1)()),c((0,R.vh)())}}),[]);var _=f.data.attributes;return m().createElement(m().Fragment,null,m().createElement(v.Z,{title:u,headerOUIA:"package-details",breadcrumbs:[{title:L.N.formatMessage(h.Z.titlesPatchPackages),to:"/packages",isActive:!1},{title:u,isActive:!0}]},d.hasError?m().createElement(O.Z,null):m().createElement(P,{attributes:ce(ce({},_),{},{id:u}),isLoading:d.isLoading})),m().createElement(o.Z,null,m().createElement(r.K,{hasGutter:!0},m().createElement(l.v,null,m().createElement(s.D,null,m().createElement(i.xv,{component:i.qO.h2},L.N.formatMessage(h.Z.titlesAffectedSystems)))),m().createElement(l.v,null,d.hasError&&m().createElement(G.Z,null)||!d.isLoading&&m().createElement($,{packageName:u})))))};ae.propTypes={match:p().any};const ne=(0,d.withRouter)(ae)},93818:()=>{},94498:()=>{},36974:()=>{}}]);
//# sourceMappingURL=../sourcemaps/PackageDetail.f3a6e4a235220b15c115f3f21df64d31.js.map