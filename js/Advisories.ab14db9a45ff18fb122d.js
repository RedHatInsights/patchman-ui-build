(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman||[]).push([[20],{79202:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>X});var n=r(96156),s=r(28481),a=r(86350),o=r(45697),l=r.n(o),i=r(77865),c=r.n(i),u=r(61084),m=r(334),f=r(30893),d=r(80943),p=r(90747),v=r(29287),y=r(49642),b=r(38776),E=r(64270),h=r(9557),P=r(11220),g=r(13784),S=r(57668),_=r(57358),Z=r(91607),O=r(32132),w=r(83215),A=r(92137),j=r(87757),M=r.n(j),k=r(52491),x=r(19210),N=r(36104),L=r(2095),I=r(49287),R=r(18038),C=r(85962),F=r(36001),B=r(42057),T=r(34348),z=r(18464),U=r(35240),q=function(e){var t=e.advisory,r=t.attributes,n=t.id;return c().createElement(L.Zb,null,c().createElement(N.l,null,(0,_.cX)(g.w8.advisories,n)),c().createElement(C.e,{className:"fonst-size-sm"},c().createElement(I.r,null,c().createElement(R.P,{span:6},c().createElement(I.r,null,c().createElement(R.P,null,c().createElement(z.Z,{type:r.advisory_type})),c().createElement(R.P,null,(0,U.Un)(r.public_date)),r.os_name&&c().createElement(R.P,null,r.os_name))),c().createElement(R.P,{span:6},c().createElement(I.r,null,r.severity&&c().createElement(R.P,null,c().createElement(F.k,{flex:{default:"inlineFlex"},style:{flexWrap:"nowrap"}},c().createElement(B.B,null,c().createElement(x.ZP,{size:"sm",color:g.QG[r.severity].color})),c().createElement(B.B,{isFilled:!0},g.QG[r.severity].label))),r.reboot_required&&c().createElement(R.P,null,c().createElement(F.k,{flex:{default:"inlineFlex"},style:{flexWrap:"nowrap"}},c().createElement(B.B,null,c().createElement(k.ZP,{color:"var(--pf-global--palette--red-100)"})),c().createElement(B.B,{isFilled:!0},O.N.formatMessage(f.Z.textRebootIsRequired)))))),c().createElement(R.P,null,(0,_.cX)(g.w8.advisories,n,O.N.formatMessage(f.Z.labelsApplicableSystemsCount,{systemsCount:r.applicable_systems}))),c().createElement(R.P,null,(0,_.Or)(r.synopsis)))))};q.propTypes={advisory:l().object};const D=function(){var e=c().useState([]),t=(0,s.Z)(e,2),r=t[0],n=t[1];return c().useEffect((0,A.Z)(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,(0,P.ob)({limit:4,sort:"-advisory_type,-applicable_systems"});case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[]),r.data&&r.data.length&&c().createElement(a.Z,{style:{paddingBottom:0,paddingTop:0}},c().createElement(T.Title,{headingLevel:"h3",className:"pf-u-my-md"},O.N.formatMessage(f.Z.titlesMostImpactfulAdvisories)),c().createElement(I.r,{hasGutter:!0,span:3},r.data.map((function(e){return c().createElement(R.P,{key:e.id},c().createElement(q,{advisory:e}))}))))||null};function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var W=function(e){var t=e.history,r=O.N.formatMessage(f.Z.titlesAdvisories);(0,Z.Iw)(r);var n=(0,u.useDispatch)(),o=c().useState(!0),l=(0,s.Z)(o,2),i=l[0],m=l[1],A=(0,u.useSelector)((function(e){return e.AdvisoryListStore.rows})),j=(0,u.useSelector)((function(e){return e.AdvisoryListStore.expandedRows})),M=(0,u.useSelector)((function(e){return e.AdvisoryListStore.queryParams})),k=(0,u.useSelector)((function(e){return e.AdvisoryListStore.selectedRows})),x=(0,u.useSelector)((function(e){return e.AdvisoryListStore.metadata})),N=(0,u.useSelector)((function(e){return e.AdvisoryListStore.status})),L=c().useMemo((function(){return(0,S.nf)(A,j,k)}),[A,j,k]);c().useEffect((function(){return function(){n((0,w.L1)())}}),[]),(0,Z.KW)((function(){i?(U((0,_.PZ)(t.location.search)),m(!1)):(t.push((0,_.R_)(M)),n((0,h.hV)(M)))}),[M,i]);var I=c().useCallback((function(e,t,r){return n((0,h.rt)({rowId:(0,_.vs)(A,t),value:r}))})),R=(0,Z.ry)(L,k,(function(){return(0,P.ob)(Q(Q({},M),{},{limit:-1}))}),(function(e){n((0,h.EI)(e))}),(function(e){return e.id})),C=(0,Z._f)(E.z7,U,2),F=c().useMemo((function(){return(0,_.hO)(E.z7,x.sort,2)}),[x.sort]),B=(0,Z.AR)("advisories",M,{csv:P.rf,json:P.kM},n),T=(0,Z.SL)(x.limit,U),z=(0,Z._T)(U);function U(e){n((0,h.Us)(e))}var q=function(e){return(0,P.lc)({limit:-1}).then((function(t){var r=t.data;return(0,P.fq)({advisories:e,systems:r.map((function(e){return e.id}))})}))};return c().createElement(c().Fragment,null,c().createElement(y.Z,{title:O.N.formatMessage(f.Z.titlesPatchAdvisories),headerOUIA:"advisories"}),c().createElement(D,null),c().createElement(a.Z,null,c().createElement(b.Z,{columns:E.z7,compact:!0,onCollapse:I,onSetPage:T,onPerPageSelect:z,onSort:C,onExport:B,selectedRows:k,onSelect:R,sortBy:F,remediationProvider:function(){return(0,_.Sz)((0,_.Qy)(k),q,_.R9,g.oN.advisory)},apply:U,remediationButtonOUIA:"toolbar-remediation-button",tableOUIA:"advisories-table",paginationOUIA:"advisories-pagination",store:{rows:L,metadata:x,status:N,queryParams:M},filterConfig:{items:[(0,p.Z)(U,M.search,O.N.formatMessage(f.Z.labelsFiltersSearchAdvisoriesTitle),O.N.formatMessage(f.Z.labelsFiltersSearchAdvisoriesPlaceholder)),(0,v.Z)(U,M.filter),(0,d.Z)(U,M.filter)]},searchChipLabel:O.N.formatMessage(f.Z.labelsFiltersSearchAdvisoriesTitle)})))};W.propTypes={history:l().object};const X=(0,m.withRouter)(W)}}]);
//# sourceMappingURL=../sourcemaps/Advisories.3165097a13f9c5794d33.js.map