(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{685:function(t,e,n){(t.exports=n(5)(!1)).push([t.i,".col-width-30{width:30%}.col-width-40{width:40%}\n",""])},687:function(t,e,n){var r=n(690),o=n(691),c=n(434),i=n(692);t.exports=function(t){return r(t)||o(t)||c(t)||i()}},690:function(t,e,n){var r=n(435);t.exports=function(t){if(Array.isArray(t))return r(t)}},691:function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},692:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},693:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var r=n(687),o=n.n(r),c=n(32),i=n.n(c),a=n(75);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f={columns:[],rows:[],entities:[]};function l(t,e){if(e.loaded){var n=e.columns.filter((function(t){return"updated"===t.key}));return n=[u(u({},n[0]),{},{transforms:[a.a]})],u(u({},e),{},{columns:[].concat(o()(t||[]),o()(n||[]))})}return e}var b=function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"LOAD_ENTITIES_FULFILLED":return l(t,e);default:return e}}}},694:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return s}));var r=n(228),o=n(75),c=n(78),i=n(11),a=(n(695),[{key:"display_name",title:"Name",composed:["facts.os_release","display_name"],transforms:[Object(r.b)("col-width-40"),o.a]},{key:"applicable_advisories",title:"Applicable advisories",transforms:[Object(r.b)("col-width-30")],renderFunc:function(t){return Object(i.f)(t)}}]),s=function(t){return[{title:"Apply all applicable advisories",onClick:function(e,n,r){Object(c.h)({id:r.id,limit:1e4}).then((function(e){return t(Object(i.q)(e.data.map((function(t){return t.id})),r.id))}))}}]}},695:function(t,e,n){var r=n(685);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0},c=n(6)(r,o);r.locals&&(t.exports=r.locals),t.hot.accept(685,(function(){var e=n(685);if("string"==typeof e&&(e=[[t.i,e,""]]),!function(t,e){var n,r=0;for(n in t){if(!e||t[n]!==e[n])return!1;r++}for(n in e)r--;return 0===r}(r.locals,e.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");c(e)})),t.hot.dispose((function(){c()}))},722:function(t,e,n){"use strict";n.r(e);var r=n(687),o=n.n(r),c=n(204),i=n.n(c),a=n(32),s=n.n(a),u=n(327),f=n.n(u),l=n(47),b=n.n(l),p=n(67),O=n(136),d=n(97),y=n(203),m=n(686),j=n(2),v=n.n(j),h=n(42),w=n(98),S=n(335),g=n(688),P=n(326),E=n(328),D=n(87),k=n(693),x=n(78),I=n(14),L=n(329),_=n(11),A=n(126),C=n(331),F=n(694);function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function M(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.default=function(){var t=Object(h.useDispatch)(),e=v.a.useState(),n=b()(e,2),r=n[0],c=n[1],a=v.a.useState((function(){return function(){return null}})),s=b()(a,2),u=s[0],l=s[1],j=Object(h.useSelector)((function(t){return t.SystemsListStore.rows})),T=v.a.useMemo((function(){return Object(L.c)(j)}),[j]),R=Object(h.useSelector)((function(t){return t.SystemsListStore.error})),J=Object(h.useSelector)((function(t){return t.SystemsListStore.status})),N=Object(h.useSelector)((function(t){return t.SystemsListStore.metadata})),q=Object(h.useSelector)((function(t){return t.SystemsListStore.queryParams})),B=Object(h.useSelector)((function(t){var e=t.entities;return e&&e.columns})),H=q.filter,U=q.search,W=Object(A.a)(N,X);v.a.useEffect((function(){t(Object(D.n)(q))}),[q]);var z=function(){var t=f()(i.a.mark((function t(){var e,n,r,o,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,insights.loadInventory({react:v.a,reactRouterDom:w,reactCore:p,reactIcons:O,pfReactTable:d});case 2:e=t.sent,n=e.inventoryConnector,r=e.mergeWithEntities,Object(E.c)(M({},r(Object(k.a)(F.a)))),o=n(Object(E.a)()),a=o.InventoryTable,c((function(){return a}));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();v.a.useEffect((function(){z()}),[]);var G=Object(A.b)(N.limit,N.offset),K=b()(G,2),Q=K[0],V=K[1];function X(e){t(Object(D.d)(e))}var Y=Object(A.d)(H,X),Z={items:[Object(S.a)(X,U,"Search systems")]},$={filters:Object(_.c)(H,U),onDelete:Y},tt=function(){var t=B&&B.filter((function(t){return"updated"===t.key}))[0];return t=M(M({},t),{},{key:"last_upload"}),[].concat(o()(F.a),[t])},et=Object(A.f)(tt(),X),nt=v.a.useMemo((function(){return Object(_.g)(tt(),N.sort,0)}),[N.sort]);return v.a.createElement(v.a.Fragment,null,v.a.createElement(g.a,{title:"Patch",showTabs:!0}),v.a.createElement(u,null),v.a.createElement(m.Main,null,J===I.b?v.a.createElement(P.a,{message:R.detail}):r&&v.a.createElement(r,{items:T,page:Q,total:N.total_items,perPage:V,isLoaded:J===I.c,onRefresh:W,exportConfig:{onSelect:function(t,e){var n=(new Date).toISOString().replace(/[T:]/g,"-").split(".")[0]+"-utc",r="systems-".concat(n);"csv"===e?Object(x.c)(q).then((function(t){return Object(y.downloadFile)(t,r,"csv")})):Object(x.d)(q).then((function(t){return Object(y.downloadFile)(JSON.stringify(t),r,"json")}))}},hasCheckbox:!1,actions:Object(F.b)((function(t){l((function(){return function(){return v.a.createElement(C.a,{data:t})}}))})),filterConfig:Z,activeFiltersConfig:$,tableProps:{areActionsDisabled:function(t){return t.applicable_advisories.every((function(t){return 0===t}))},onSort:et,sortBy:nt}})))}}}]);
//# sourceMappingURL=Systems.js.map