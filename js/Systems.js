(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{777:function(e,t,n){"use strict";n.r(t);var r=n(794),a=n.n(r),c=n(786),o=n.n(c),i=n(36),s=n.n(i),u=n(787),l=n.n(u),b=n(48),f=n.n(b),O=n(19),p=n(198),j=n(783),d=n(0),y=n.n(d),m=n(47),S=n(100),v=n(347),g=n(785),h=n(340),w=n(342),T=n(85),E=n(806),D=n(76),P=n(12),k=n(343),x=n(13),B=n(117),L=n(344),R=n(807);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(){var e=Object(m.useDispatch)(),t=y.a.useState(),n=f()(t,2),r=n[0],c=n[1],i=y.a.useState((function(){return function(){return null}})),s=f()(i,2),u=s[0],b=s[1],d=Object(m.useSelector)((function(e){return e.SystemsListStore.rows})),C=y.a.useMemo((function(){return Object(k.c)(d)}),[d]),I=Object(m.useSelector)((function(e){return e.SystemsListStore.error})),J=Object(m.useSelector)((function(e){return e.SystemsListStore.status})),M=Object(m.useSelector)((function(e){return e.SystemsListStore.metadata})),W=Object(m.useSelector)((function(e){return e.SystemsListStore.queryParams})),_=Object(m.useSelector)((function(e){var t=e.entities;return t&&t.columns})),G=W.filter,H=W.search,V=Object(B.a)(M,Q);y.a.useEffect((function(){e(Object(T.n)(W))}),[W]);var q=function(){var e=l()(o.a.mark((function e(){var t,n,r,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,insights.loadInventory({ReactRedux:m,React:y.a,reactRouterDom:S,pfReactTable:{Table:O.Table,TableBody:O.TableBody,TableHeader:O.TableHeader,TableGridBreakpoint:O.TableGridBreakpoint,cellWidth:O.cellWidth,TableVariant:O.TableVariant,sortable:O.sortable,expandable:O.expandable,SortByDirection:O.SortByDirection}});case 2:t=e.sent,n=t.inventoryConnector,r=t.mergeWithEntities,Object(w.c)(F({},r(Object(E.a)(R.a)))),a=n(Object(w.a)()),i=a.InventoryTable,c((function(){return i}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();y.a.useEffect((function(){q()}),[]);var A=Object(B.b)(M.limit,M.offset),N=f()(A,2),z=N[0],K=N[1];function Q(t){e(Object(T.d)(t))}var U=Object(B.d)(G,Q),X={items:[Object(v.a)(Q,H,"Search systems")]},Y={filters:Object(x.c)(G,H),onDelete:U},Z=function(){var e=_&&_.filter((function(e){return"updated"===e.key}))[0];return e=F(F({},e),{},{key:"last_upload"}),[].concat(a()(R.a),[e])},$=Object(B.f)(Z(),Q),ee=y.a.useMemo((function(){return Object(x.g)(Z(),M.sort,0)}),[M.sort]);return y.a.createElement(y.a.Fragment,null,y.a.createElement(g.a,{title:"Systems"}),y.a.createElement(u,null),y.a.createElement(j.Main,null,J===P.d?y.a.createElement(h.a,{message:I.detail}):r&&y.a.createElement(r,{items:C,page:z,total:M.total_items,perPage:K,isLoaded:J===P.e,onRefresh:V,exportConfig:{onSelect:function(e,t){var n=(new Date).toISOString().replace(/[T:]/g,"-").split(".")[0]+"-utc",r="systems-".concat(n);"csv"===t?Object(D.c)(W).then((function(e){return Object(p.downloadFile)(e,r,"csv")})):Object(D.d)(W).then((function(e){return Object(p.downloadFile)(JSON.stringify(e),r,"json")}))}},hasCheckbox:!1,actions:Object(R.b)((function(e){b((function(){return function(){return y.a.createElement(L.a,{data:e})}}))})),filterConfig:X,activeFiltersConfig:Y,tableProps:{areActionsDisabled:function(e){return e.applicable_advisories.every((function(e){return 0===e}))},onSort:$,sortBy:ee}})))}}}]);
//# sourceMappingURL=Systems.js.map