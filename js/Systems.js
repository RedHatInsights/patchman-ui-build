(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{483:function(e,t,r){"use strict";r.r(t);var n=r(495),c=r.n(n),a=r(489),o=r.n(a),i=r(15),s=r.n(i),u=r(490),l=r.n(u),b=r(21),f=r.n(b),O=r(11),p=r(104),j=r(181),d=r(487),y=r(0),m=r.n(y),S=r(20),v=r(51),h=r(188),g=r(488),w=r(180),T=r(183),E=r(40),P=r(501),D=r(36),k=r(7),B=r(184),C=r(5),x=r(63),L=r(185),I=r(502);function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(){var e=Object(S.useDispatch)(),t=m.a.useState(),r=f()(t,2),n=r[0],a=r[1],i=m.a.useState((function(){return function(){return null}})),s=f()(i,2),u=s[0],b=s[1],y=Object(S.useSelector)((function(e){return e.SystemsListStore.rows})),F=m.a.useMemo((function(){return Object(B.c)(y)}),[y]),M=Object(S.useSelector)((function(e){return e.SystemsListStore.error})),R=Object(S.useSelector)((function(e){return e.SystemsListStore.status})),W=Object(S.useSelector)((function(e){return e.SystemsListStore.metadata})),_=Object(S.useSelector)((function(e){return e.SystemsListStore.queryParams})),G=Object(S.useSelector)((function(e){var t=e.entities;return t&&t.columns})),H=_.filter,V=_.search,q=Object(x.a)(W,U);m.a.useEffect((function(){e(Object(E.n)(_))}),[_]);var A=function(){var e=l()(o.a.mark((function e(){var t,r,n,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,insights.loadInventory({react:m.a,reactRouterDom:v,reactCore:j.reactCore,reactIcons:j.reactIcons,pfReactTable:{Table:O.Table,TableBody:O.TableBody,TableHeader:O.TableHeader,TableGridBreakpoint:O.TableGridBreakpoint,cellWidth:O.cellWidth,TableVariant:O.TableVariant,sortable:O.sortable,expandable:O.expandable,SortByDirection:O.SortByDirection}});case 2:t=e.sent,r=t.inventoryConnector,n=t.mergeWithEntities,Object(T.c)(J({},n(Object(P.a)(I.a)))),c=r(Object(T.a)()),i=c.InventoryTable,a((function(){return i}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();m.a.useEffect((function(){A()}),[]);var N=Object(x.b)(W.limit,W.offset),z=f()(N,2),K=z[0],Q=z[1];function U(t){e(Object(E.d)(t))}var X=Object(x.d)(H,U),Y={items:[Object(h.a)(U,V,"Search systems")]},Z={filters:Object(C.c)(H,V),onDelete:X},$=function(){var e=G&&G.filter((function(e){return"updated"===e.key}))[0];return e=J(J({},e),{},{key:"last_upload"}),[].concat(c()(I.a),[e])},ee=Object(x.f)($(),U),te=m.a.useMemo((function(){return Object(C.g)($(),W.sort,0)}),[W.sort]);return m.a.createElement(m.a.Fragment,null,m.a.createElement(g.a,{title:"Patch",showTabs:!0}),m.a.createElement(u,null),m.a.createElement(d.Main,null,R===k.b?m.a.createElement(w.a,{message:M.detail}):n&&m.a.createElement(n,{items:F,page:K,total:W.total_items,perPage:Q,isLoaded:R===k.c,onRefresh:q,exportConfig:{onSelect:function(e,t){var r=(new Date).toISOString().replace(/[T:]/g,"-").split(".")[0]+"-utc",n="systems-".concat(r);"csv"===t?Object(D.c)(_).then((function(e){return Object(p.downloadFile)(e,n,"csv")})):Object(D.d)(_).then((function(e){return Object(p.downloadFile)(JSON.stringify(e),n,"json")}))}},hasCheckbox:!1,actions:Object(I.b)((function(e){b((function(){return function(){return m.a.createElement(L.a,{data:e})}}))})),filterConfig:Y,activeFiltersConfig:Z,tableProps:{areActionsDisabled:function(e){return e.applicable_advisories.every((function(e){return 0===e}))},onSort:ee,sortBy:te}})))}}}]);
//# sourceMappingURL=Systems.js.map