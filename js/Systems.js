(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{699:function(e,t,r){"use strict";r.r(t);var n=r(722),c=r.n(n),a=r(211),o=r.n(a),i=r(20),s=r.n(i),u=r(339),l=r.n(u),b=r(38),f=r.n(b),O=r(15),p=r(213),j=r(708),S=r(0),d=r.n(S),y=r(30),m=r(117),v=r(718),g=r(166),h=r(709),w=r(165),E=r(340),T=r(59),P=r(724),D=r(51),k=r(11),x=r(167),B=r(16),R=r(73),C=r(341),L=r(725);function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(){var e=Object(y.useDispatch)(),t=d.a.useState(),r=f()(t,2),n=r[0],a=r[1],i=d.a.useState((function(){return function(){return null}})),s=f()(i,2),u=s[0],b=s[1],S=Object(y.useSelector)((function(e){return e.SystemsListStore.rows})),A=d.a.useMemo((function(){return Object(x.f)(S)}),[S]),I=Object(y.useSelector)((function(e){return e.SystemsListStore.error})),M=Object(y.useSelector)((function(e){return e.SystemsListStore.status})),_=Object(y.useSelector)((function(e){return e.SystemsListStore.metadata})),G=Object(y.useSelector)((function(e){return e.SystemsListStore.queryParams})),J=Object(y.useSelector)((function(e){var t=e.entities;return t&&t.columns})),V=Object(y.useSelector)((function(e){return e.SharedAppStateStore.hasAccess})),W=G.filter,H=G.search,q=Object(R.a)(_,Q);d.a.useEffect((function(){V&&e(Object(T.x)(G))}),[G]);var N=function(){var e=l()(o.a.mark((function e(){var t,r,n,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,insights.loadInventory({ReactRedux:y,React:d.a,reactRouterDom:m,pfReactTable:{Table:O.Table,TableBody:O.TableBody,TableHeader:O.TableHeader,TableGridBreakpoint:O.TableGridBreakpoint,cellWidth:O.cellWidth,TableVariant:O.TableVariant,sortable:O.sortable,expandable:O.expandable,SortByDirection:O.SortByDirection},pfReact:v.reactCore});case 2:t=e.sent,r=t.inventoryConnector,n=t.mergeWithEntities,Object(E.c)(F({},n(Object(P.a)(L.b,"SYSTEMS_PAGE")))),c=r(Object(E.a)()),i=c.InventoryTable,a((function(){return i}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();d.a.useEffect((function(){N()}),[]);var U=Object(R.c)(_.limit,_.offset),Y=f()(U,2),z=Y[0],K=Y[1];function Q(t){e(Object(T.g)(t))}var X=Object(R.e)(W,Q),Z={items:[Object(g.a)(Q,H,"Search systems")]},$={filters:Object(B.c)(W,H),onDelete:X},ee=function(){var e=J&&J.filter((function(e){return"updated"===e.key}))[0];return e=F(F({},e),{},{key:"last_upload"}),[].concat(c()(L.b),[e])},te=Object(R.g)(ee(),Q),re=d.a.useMemo((function(){return Object(B.g)(ee(),_.sort,0)}),[_.sort]);return d.a.createElement(d.a.Fragment,null,d.a.createElement(h.a,{title:"Systems",headerOUIA:"systems"}),d.a.createElement(u,null),d.a.createElement(j.Main,null,M===k.e?d.a.createElement(w.a,{message:I.detail}):n&&d.a.createElement(n,{isFullView:!0,items:A,page:z,total:_.total_items,perPage:K,isLoaded:M===k.f,onRefresh:q,exportConfig:{onSelect:function(e,t){var r=(new Date).toISOString().replace(/[T:]/g,"-").split(".")[0]+"-utc",n="systems-".concat(r);"csv"===t?Object(D.c)(G).then((function(e){return Object(p.downloadFile)(e,n,"csv")})):Object(D.d)(G).then((function(e){return Object(p.downloadFile)(JSON.stringify(e),n,"json")}))}},hasCheckbox:!1,actions:Object(L.c)((function(e){b((function(){return function(){return d.a.createElement(C.a,{data:e})}}))})),filterConfig:Z,activeFiltersConfig:$,tableProps:{areActionsDisabled:function(e){return e.applicable_advisories.every((function(e){return 0===e}))},onSort:te,sortBy:re}})))}}}]);
//# sourceMappingURL=Systems.js.map