"use strict";(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman||[]).push([[743],{2095:(e,t,a)=>{t.Zb=t.H0=void 0;const r=a(70655),s=r.__importStar(a(41375)),n=r.__importDefault(a(62802)),l=a(38296),i=a(23053);t.H0=s.createContext({cardId:"",isExpanded:!1}),t.Zb=e=>{var{children:a=null,id:o="",className:c="",component:u="article",isHoverable:d=!1,isCompact:f=!1,isSelectable:p=!1,isSelectableRaised:m=!1,isSelected:v=!1,isDisabledRaised:b=!1,isFlat:g=!1,isExpanded:h=!1,isRounded:y=!1,isLarge:E=!1,isFullHeight:S=!1,isPlain:O=!1,ouiaId:Z,ouiaSafe:_=!0}=e,P=r.__rest(e,["children","id","className","component","isHoverable","isCompact","isSelectable","isSelectableRaised","isSelected","isDisabledRaised","isFlat","isExpanded","isRounded","isLarge","isFullHeight","isPlain","ouiaId","ouiaSafe"]);const N=u,w=i.useOUIAProps(t.Zb.displayName,Z,_);return f&&E&&(console.warn("Card: Cannot use isCompact with isLarge. Defaulting to isCompact"),E=!1),s.createElement(t.H0.Provider,{value:{cardId:o,isExpanded:h}},s.createElement(N,Object.assign({id:o,className:l.css(n.default.card,f&&n.default.modifiers.compact,h&&n.default.modifiers.expanded,g&&n.default.modifiers.flat,y&&n.default.modifiers.rounded,E&&n.default.modifiers.displayLg,S&&n.default.modifiers.fullHeight,O&&n.default.modifiers.plain,b?l.css(n.default.modifiers.nonSelectableRaised):m?l.css(n.default.modifiers.selectableRaised,v&&n.default.modifiers.selectedRaised):p||d?l.css(n.default.modifiers.selectable,v&&n.default.modifiers.selected):"",c),tabIndex:p||m?"0":void 0},P,w),a))},t.Zb.displayName="Card"},85962:(e,t,a)=>{t.e=void 0;const r=a(70655),s=r.__importStar(a(41375)),n=r.__importDefault(a(62802)),l=a(38296);t.e=e=>{var{children:t=null,className:a="",component:i="div",isFilled:o=!0}=e,c=r.__rest(e,["children","className","component","isFilled"]);const u=i;return s.createElement(u,Object.assign({className:l.css(n.default.cardBody,!o&&n.default.modifiers.noFill,a)},c),t)},t.e.displayName="CardBody"},36104:(e,t,a)=>{t.l=void 0;const r=a(70655),s=r.__importStar(a(41375)),n=a(38296),l=r.__importDefault(a(62802));t.l=e=>{var{children:t=null,className:a="",component:i="div"}=e,o=r.__rest(e,["children","className","component"]);const c=i;return s.createElement(c,Object.assign({className:n.css(l.default.cardTitle,a)},o),t)},t.l.displayName="CardTitle"},26577:(e,t,a)=>{t.O=void 0;const r=a(70655),s=r.__importStar(a(41375)),n=r.__importDefault(a(68800)),l=a(38296);t.O=e=>{var{className:t,width:a,height:i,fontSize:o,shape:c,screenreaderText:u}=e,d=r.__rest(e,["className","width","height","fontSize","shape","screenreaderText"]);const f=o?Object.values(n.default.modifiers).find((e=>e===`pf-m-text-${o}`)):void 0;return s.createElement("div",Object.assign({},d,{className:l.css(n.default.skeleton,o&&f,"circle"===c&&n.default.modifiers.circle,"square"===c&&n.default.modifiers.square,t)},(a||i)&&{style:Object.assign({"--pf-c-skeleton--Width":a||void 0,"--pf-c-skeleton--Height":i||void 0},d.style)}),s.createElement("span",{className:"pf-u-screen-reader"},u))},t.O.displayName="Skeleton"},77927:(e,t,a)=>{t.tz={name:"PackageIcon",height:1024,width:1024,svgPath:"M567.7,1010.49707 L951.5,818.498238 C994.7,796.698371 1024,752.39864 1024,703.998934 L1024,320.001265 C1024,271.601559 995.6,227.10183 952.2,205.501961 L568.6,13.5031267 C550.8,4.60318072 531.4,0.103208049 512,-0.00152855358 C492.3,-0.0967907365 472.5,4.40318194 454.4,13.5031267 L70.8,205.501961 C27.4,227.10183 0,271.50156 0,319.801267 L0.9,703.998934 C0.9,752.39864 28.3,796.79837 71.6,818.398239 L455.2,1010.39707 C464.3,1014.89705 488.1,1023.99699 511.9,1023.99699 C535.5,1023.99699 558.8,1014.99704 567.7,1010.49707 Z M512.5,630.899377 L672.5,550.899863 L672.5,645.29929 L736.5,613.299484 L736.5,518.900058 L896,438.900543 L896.5,712.698881 L512.5,904.697715 L512.5,630.899377 Z M145.1,304.101362 L294.9,228.60182 C295.3,228.801819 295.6,229.001818 296,229.201817 L661.9,412.300705 L512.5,487.600248 L145.1,304.101362 Z M512.5,118.902487 L881.3,301.701377 L733.1,376.400923 L366,192.702038 L512.5,118.902487 Z",yOffset:0,xOffset:0},t.jt=a(35183).createIcon(t.tz),t.ZP=t.jt},33739:(e,t,a)=>{a.d(t,{Z:()=>b});var r=a(87462),s=a(41375),n=a.n(s),l=a(45697),i=a.n(l),o=a(38106),c=a(92818),u=a(28216),d=a(52643),f=a(2372),p=a(39591),m=function(e){var t=(0,c.useHistory)(),a=(0,u.oR)();return n().createElement(s.Suspense,{fallback:e.fallback},n().createElement(o.ScalprumComponent,(0,r.Z)({history:t,store:a,appName:"inventory",module:"./InventoryTable",scope:"inventory",ErrorComponent:n().createElement(p.Z,(0,r.Z)({component:"InventoryDetailHead",history:t,store:a},e)),ref:e.innerRef},e)))};m.propTypes={fallback:i().node,innerRef:i().object};var v=n().forwardRef((function(e,t){return n().createElement(m,(0,r.Z)({innerRef:t},e))}));v.propTypes={fallback:i().node},v.defaultProps={fallback:n().createElement(d.b,{className:"pf-u-p-lg"},n().createElement(f.$,{size:"xl"}))};const b=v},55485:(e,t,a)=>{a.d(t,{Z:()=>c});var r=a(41375),s=a.n(r),n=a(45697),l=a.n(n),i=a(22663),o=function(e){var t=e.data,a=e.setRemediationOpen;return s().createElement(i.Z,{appName:"remediations",module:"./RemediationWizard",setOpen:a,fallback:s().createElement("span",null),data:t})};o.propTypes={data:l().object,setRemediationOpen:l().func};const c=o},91181:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ae});var r=a(4942),s=a(15861),n=a(29439),l=a(87757),i=a.n(l),o=a(41375),c=a.n(o),u=a(72573),d=a(6202),f=a(33739),p=a(86350),m=a(28216),v=a(92818),b=a(30893),g=a(90747),h=a(44612),y=a(13784),E=a(32132);const S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.stale,r=c().useMemo((function(){return y.fb.map((function(e){var t=e.value;return{label:e.label,value:t.toString()}}))}),[]),s=a&&(Array.isArray(a)&&a.map((function(e){return e.toString()}))||[a.toString()]),n=function(t){e({filter:{stale:t}})};return{label:E.N.formatMessage(b.Z.labelsFiltersStale),type:h.Y.checkbox,filterValues:{onChange:function(e,t){n(t)},items:r,value:s,placeholder:E.N.formatMessage(b.Z.labelsFiltersStalePlaceholder)}}};var O=a(83905);const Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.packages_updatable,r=function(t){e({filter:{packages_updatable:t}})};return{label:E.N.formatMessage(b.Z.labelsFiltersUpdatable),type:h.Y.radio,filterValues:{onChange:function(e,t){r(t)},items:y.Tl,value:a,placeholder:E.N.formatMessage(b.Z.labelsFiltersUpdatablePlaceholder)}}};var _=a(49642),P=a(73888),N=a(2807),w=a(9557),L=a(5747),C=a(11220),T=a(5391),j=a(91607),k=a(58684),D=a(93433),I=a(35451),R=a(77927),F=a(19694),x=a(45697),M=a.n(x),H=a(36104),A=a(26577),z=a(2095),q=a(49287),B=a(18038),U=a(85962),G=a(36001),V=a(42057),W=function(e){var t=e.title,a=e.color,r=e.Icon,s=e.value,n=e.filter,l=e.apply;return c().createElement(z.Zb,{isCompact:!0,isFullHeight:!0},c().createElement(H.l,{style:{marginTop:"0px"}},t),c().createElement(U.e,{className:"fonst-size-sm"},c().createElement(G.k,{flex:{default:"inlineFlex"},style:{flexWrap:"nowrap"}},c().createElement(V.B,{spacer:{default:"spacerMd"},alignSelf:{default:"alignSelfCenter"}},c().createElement(r,{color:a,size:"md"})),c().createElement(V.B,{isFilled:!0,spacer:{default:"spacerNone"}},void 0===s&&c().createElement(A.O,{width:"24px"})||c().createElement(d.Button,{variant:"link",onClick:function(){return l(n)},className:"patch-status-report-text"},s)))))},Y=function(e){var t,a,r,l=e.apply,u=e.queryParams,d=c().useState({}),f=(0,n.Z)(d,2),v=f[0],g=f[1],h=(0,m.v9)((function(e){return e.GlobalFilterStore})),y=h.selectedTags,S=h.selectedGlobalTags,O=h.systemProfile;return(0,o.useMemo)((0,s.Z)(i().mark((function e(){var t,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g({}),e.prev=1,e.next=4,(0,C.lc)({filter:{os:null==u||null===(a=u.filter)||void 0===a?void 0:a.os},selectedTags:[].concat((0,D.Z)(y),(0,D.Z)(S)),systemProfile:O,limit:1});case 4:t=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t=[];case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e,null,[[1,7]])}))),[null==u||null===(t=u.filter)||void 0===t||null===(a=t.os)||void 0===a?void 0:a.length,void 0!==(null==u||null===(r=u.filter)||void 0===r?void 0:r.os),null==y?void 0:y.length,void 0!==y,null==S?void 0:S.length,void 0!==S,O,void 0!==(null==u?void 0:u.subtotals)]).then((function(e){var t;g(null===(t=e.meta)||void 0===t?void 0:t.subtotals)})),c().createElement(p.Z,{style:{paddingBottom:0}},c().createElement(q.r,{hasGutter:!0,span:12},c().createElement(B.P,{span:12,md:3},c().createElement(W,{title:E.N.formatMessage(b.Z.labelsStatusSystemsUpToDate),Icon:I.default,color:"var(--pf-global--success-color--100)",value:null==v?void 0:v.patched,apply:l,filter:{filter:{packages_updatable:"eq:0"}}})),c().createElement(B.P,{span:12,md:3},c().createElement(W,{title:E.N.formatMessage(b.Z.labelsStatusSystemsWithPatchesAvailable),Icon:R.ZP,color:"var(--pf-global--primary-color--100)",value:null==v?void 0:v.unpatched,apply:l,filter:{filter:{packages_updatable:"gt:0"}}})),c().createElement(B.P,{span:12,md:3},c().createElement(W,{title:E.N.formatMessage(b.Z.labelsStatusStaleSystems),Icon:F.default,color:"var(--pf-global--warning-color--100)",value:null==v?void 0:v.stale,apply:l,filter:{filter:{stale:!0}}}))))};W.propTypes={title:M().string,Icon:M().elementType,value:M().string,color:M().string,apply:M().func,filter:M().object},Y.propTypes={apply:M().func,queryParams:M().object};const Q=Y;var K=a(32166),$=a(55485),J=function(e){var t=e.onClick,a=e.isDisabled,r=e.isLoading,s=e.ouia,n=e.children;return c().createElement(d.Button,{isDisabled:a,onClick:t,ouiaId:s,variant:"primary",isLoading:r},n)};J.propTypes={onClick:M().object,isDisabled:M().bool,isLoading:M().bool,ouia:M().string,children:M().element};const X=J;function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(a),!0).forEach((function(t){(0,r.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const ae=function(){var e=E.N.formatMessage(b.Z.titlesSystems);(0,j.Iw)(e);var t=(0,v.useHistory)(),a=(0,m.I0)(),r=c().useState(!1),l=(0,n.Z)(r,2),h=l[0],D=l[1],I=c().useState(!1),R=(0,n.Z)(I,2),F=R[0],x=R[1],M=c().useState((function(){return function(){return null}})),H=(0,n.Z)(M,2),A=H[0],z=H[1],q=c().useState({isOpen:!1,shouldRefresh:!1,systemsIDs:[]}),B=(0,n.Z)(q,2),U=B[0],G=B[1],V=(0,j.ye)(y.VH.patch_set),W=(0,T.PZ)(t.location.search),Y=(0,m.v9)((function(e){var t=e.entities;return(null==t?void 0:t.rows)||[]}),m.wU),J=(0,m.v9)((function(e){var t=e.entities;return(null==t?void 0:t.total)||0})),ee=(0,m.v9)((function(e){var t=e.entities;return(null==t?void 0:t.selectedRows)||[]})),ae=(0,m.v9)((function(e){var t=e.entities;return(null==t?void 0:t.status)||{}})),re=(0,m.v9)((function(e){var t=e.SystemsStore;return(null==t?void 0:t.queryParams)||{}})),se=re.systemProfile,ne=re.selectedTags,le=re.filter,ie=re.search,oe=re.page,ce=re.perPage,ue=re.sort;function de(e){return fe.apply(this,arguments)}function fe(){return(fe=(0,s.Z)(i().mark((function e(t){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,t;case 3:a=e.sent,z((function(){return function(){return c().createElement($.Z,{data:a,isRemediationOpen:!0,setRemediationOpen:D})}})),D(!h),x(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e){a((0,w.SF)(e))}c().useEffect((function(){return pe(W),function(){return a((0,w.RV)())}}),[]);var me=(0,j.j5)(te({search:ie},le),pe,y.hb),ve=(0,n.Z)(me,1)[0],be={items:[(0,g.Z)(pe,ie,E.N.formatMessage(b.Z.labelsFiltersSystemsSearchTitle),E.N.formatMessage(b.Z.labelsFiltersSystemsSearchPlaceholder)),S(pe,le),Z(pe,le),(0,O.Z)(le,pe)]},ge={filters:(0,T.mt)(le,ie,E.N.formatMessage(b.Z.labelsFiltersSystemsSearchTitle)),onDelete:ve,deleteTitle:E.N.formatMessage(b.Z.labelsFiltersReset)},he=(0,j.ry)(Y,ee,(function(){return(0,C.lc)(te(te({},re),{},{limit:-1})).then(T.zw)}),(function(e){a({type:"SELECT_ENTITY",payload:e})})),ye=ee&&(0,T.Qy)(ee).length,Ee=(0,j.AR)("systems",re,{csv:C.wI,json:C.TW},a),Se=function(e){return(0,C.ob)({limit:-1}).then((function(t){var a=t.data;return(0,C.fq)({advisories:a.map((function(e){return e.id})),systems:e})}))},Oe=(0,j.U)(C.lc,pe,{},t,(function(e){a((0,w._e)(e))}),(function(e){a((0,w.vl)(e))}));return(0,o.useEffect)((function(){return U.shouldRefresh&&he("none")}),[U.shouldRefresh]),c().createElement(c().Fragment,null,c().createElement(_.Z,{title:E.N.formatMessage(b.Z.titlesPatchSystems),headerOUIA:"systems"}),c().createElement(Q,{apply:pe,queryParams:re}),U.isOpen&&V&&c().createElement(K.Z,{systemsIDs:U.systemsIDs,setBaselineState:G}),h&&c().createElement(A,null)||null,c().createElement(p.Z,null,ae.hasError&&c().createElement(P.Z,{code:ae.code})||c().createElement(f.Z,{isFullView:!0,autoRefresh:!0,initialLoading:!0,hideFilters:{all:!0,tags:!1},columns:function(e){return(0,T.gB)(e,V)},showTags:!0,customFilters:{patchParams:{search:ie,filter:le,systemProfile:se,selectedTags:ne},shouldRefresh:!0===U.shouldRefresh},paginationProps:{isDisabled:0===J},onLoad:function(e){var t=e.mergeWithEntities;(0,N.z)(te({},t((0,L.Kq)((0,k.Fs)(V),L.G),(0,T.fm)({page:oe,perPage:ce,sort:ue,search:ie},W))))},getEntities:Oe,actions:(0,k.Sb)(de,(function(e){G({isOpen:!0,systemsIDs:[e.id]})}),V),tableProps:{areActionsDisabled:function(e){var t=e.applicable_advisories;return t&&t.every((function(e){return 0===e}))},canSelectAll:!1,variant:u.TableVariant.compact,className:"patchCompactInventory",isStickyHeader:!0},bulkSelect:(0,j.Pz)(ye,he,{total_items:J},Y),exportConfig:{isDisabled:0===J,onSelect:Ee},actionsConfig:V&&{actions:[c().createElement(d.Button,{onClick:function(){G({isOpen:!0,systemsIDs:Object.keys(ee)})},key:"assign-multiple-systems",isDisabled:0===ye},E.N.formatMessage(b.Z.titlesPatchSetAssignMultipleButton))]},filterConfig:be,activeFiltersConfig:ge,dedicatedAction:c().createElement(X,{isDisabled:0===(0,T.Qy)(ee).length,onClick:function(){return de((0,T.Sz)((0,T.Q6)(ee),Se,T.R9,y.oN.advisory))},ouia:"toolbar-remediation-button",isLoading:F},E.N.formatMessage(b.Z.labelsRemediate))})))}},5747:(e,t,a)=>{a.d(t,{G:()=>u,Kq:()=>f,OC:()=>d});var r=a(4942),s=a(57668),n=a(48881),l=a(22789);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,r.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c={rows:[],entities:[],selectedRows:{},status:{},page:1,perPage:20,metadata:{limit:20,offset:0,total_items:0}},u=function(e,t){return t.loaded?o(o({},t),{},{status:{isLoading:!1,hasError:!1},rows:(0,s.Yk)(t.rows,t.selectedRows)}):t},d=function(e,t){return t.loaded?o(o({},t),{},{columns:e,rows:(0,s.GF)(t.rows,t.selectedRows)}):t},f=function(e,t){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,r=arguments.length>1?arguments[1]:void 0,s=o({},a);switch(r.type){case"LOAD_ENTITIES_FULFILLED":return t(e,s);case"LOAD_ENTITIES_PENDING":return s.status={isLoading:!0,hasError:!1},s;case"LOAD_ENTITIES_REJECTED":return s.status={isLoading:!0,hasError:!0},s;case"SELECT_ENTITY":var i=(0,n.hd)(s,r);return t(e,i);case l.sq:return c;default:return a}}}}}]);
//# sourceMappingURL=../sourcemaps/Systems.1c2a7fed4686f6d4d205dc7cfe399dfb.js.map