"use strict";(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman||[]).push([[20],{79202:(e,t,r)=>{r.r(t),r.d(t,{default:()=>K});var n=r(4942),a=r(29439),s=r(86350),o=r(45697),l=r.n(o),i=r(43297),c=r.n(i),u=r(28216),m=r(334),f=r(30893),d=r(80943),p=r(90747),v=r(29287),y=r(70133),b=r(49642),E=r(38776),h=r(64270),P=r(9557),_=r(11220),g=r(13784),Z=r(57668),O=r(57358),w=r(91607),S=r(32132),A=r(83215),j=r(15861),x=r(87757),M=r.n(x),k=r(52491),N=r(19210),I=r(36104),L=r(2095),R=r(49287),C=r(18038),F=r(85962),B=r(36001),z=r(42057),T=r(34348),U=r(18464),q=r(35240),D=function(e){var t=e.advisory,r=t.attributes,n=t.id;return c().createElement(L.Zb,null,c().createElement(I.l,null,(0,O.cX)(g.w8.advisories,n)),c().createElement(F.e,{className:"fonst-size-sm"},c().createElement(R.r,null,c().createElement(C.P,{span:6},c().createElement(R.r,null,c().createElement(C.P,null,c().createElement(U.Z,{type:r.advisory_type_name})),c().createElement(C.P,null,(0,q.Un)(r.public_date)),r.os_name&&c().createElement(C.P,null,r.os_name))),c().createElement(C.P,{span:6},c().createElement(R.r,null,r.severity&&c().createElement(C.P,null,c().createElement(B.k,{flex:{default:"inlineFlex"},style:{flexWrap:"nowrap"}},c().createElement(z.B,null,c().createElement(N.ZP,{size:"sm",color:g.QG[r.severity].color})),c().createElement(z.B,{isFilled:!0},g.QG[r.severity].label))),r.reboot_required&&c().createElement(C.P,null,c().createElement(B.k,{flex:{default:"inlineFlex"},style:{flexWrap:"nowrap"}},c().createElement(z.B,null,c().createElement(k.ZP,{color:"var(--pf-global--palette--red-100)"})),c().createElement(z.B,{isFilled:!0},S.N.formatMessage(f.Z.textRebootIsRequired)))))),c().createElement(C.P,null,(0,O.cX)(g.w8.advisories,n,S.N.formatMessage(f.Z.labelsApplicableSystemsCount,{systemsCount:r.applicable_systems}))),c().createElement(C.P,null,(0,O.Or)(r.synopsis)))))};D.propTypes={advisory:l().object};const G=function(){var e=c().useState([]),t=(0,a.Z)(e,2),r=t[0],n=t[1];return c().useEffect((0,j.Z)(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,(0,_.ob)({limit:4,sort:"-advisory_type_name,-applicable_systems"});case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[]),r.data&&r.data.length&&c().createElement(s.Z,{style:{paddingBottom:0,paddingTop:0}},c().createElement(T.Dx,{headingLevel:"h3",className:"pf-u-my-md"},S.N.formatMessage(f.Z.titlesMostImpactfulAdvisories)),c().createElement(R.r,{hasGutter:!0,span:3},r.data.map((function(e){return c().createElement(C.P,{key:e.id},c().createElement(D,{advisory:e}))}))))||null};function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var X=function(e){var t=e.history,r=S.N.formatMessage(f.Z.titlesAdvisories);(0,w.Iw)(r);var n=(0,u.I0)(),o=c().useState(!0),l=(0,a.Z)(o,2),i=l[0],m=l[1],j=(0,u.v9)((function(e){return e.AdvisoryListStore.rows})),x=(0,u.v9)((function(e){return e.AdvisoryListStore.expandedRows})),M=(0,u.v9)((function(e){return e.AdvisoryListStore.queryParams})),k=(0,u.v9)((function(e){return e.AdvisoryListStore.selectedRows})),N=(0,u.v9)((function(e){return e.AdvisoryListStore.metadata})),I=(0,u.v9)((function(e){return e.AdvisoryListStore.status})),L=c().useMemo((function(){return(0,Z.nf)(j,x,k)}),[j,x,k]);c().useEffect((function(){return function(){n((0,A.L1)())}}),[]),(0,w.KW)((function(){i?(q((0,O.PZ)(t.location.search)),m(!1)):(t.push((0,O.R_)(M)),n((0,P.hV)(M)))}),[M,i]);var R=c().useCallback((function(e,t,r){return n((0,P.rt)({rowId:(0,O.vs)(j,t),value:r}))})),C=(0,w.ry)(L,k,(function(){return(0,_.ob)(W(W({},M),{},{limit:-1}))}),(function(e){n((0,P.EI)(e))}),(function(e){return e.id})),F=(0,w._f)(h.z7,q,2),B=c().useMemo((function(){return(0,O.hO)(h.z7,N.sort,2)}),[N.sort]),z=(0,w.AR)("advisories",M,{csv:_.rf,json:_.kM},n),T=(0,w.SL)(N.limit,q),U=(0,w._T)(q);function q(e){n((0,P.Us)(e))}var D=function(e){return(0,_.lc)({limit:-1}).then((function(t){var r=t.data;return(0,_.fq)({advisories:e,systems:r.map((function(e){return e.id}))})}))};return c().createElement(c().Fragment,null,c().createElement(b.Z,{title:S.N.formatMessage(f.Z.titlesPatchAdvisories),headerOUIA:"advisories"}),c().createElement(G,null),c().createElement(s.Z,null,c().createElement(E.Z,{columns:h.z7,compact:!0,onCollapse:R,onSetPage:T,onPerPageSelect:U,onSort:F,onExport:z,selectedRows:k,onSelect:C,sortBy:B,remediationProvider:function(){return(0,O.Sz)((0,O.Qy)(k),D,O.R9,g.oN.advisory)},apply:q,remediationButtonOUIA:"toolbar-remediation-button",tableOUIA:"advisories-table",paginationOUIA:"advisories-pagination",store:{rows:L,metadata:N,status:I,queryParams:M},filterConfig:{items:[(0,p.Z)(q,M.search,S.N.formatMessage(f.Z.labelsFiltersSearchAdvisoriesTitle),S.N.formatMessage(f.Z.labelsFiltersSearchAdvisoriesPlaceholder)),(0,v.Z)(q,M.filter),(0,d.Z)(q,M.filter),(0,y.Z)(q,M.filter)]},searchChipLabel:S.N.formatMessage(f.Z.labelsFiltersSearchAdvisoriesTitle)})))};X.propTypes={history:l().object};const K=(0,m.withRouter)(X)}}]);
//# sourceMappingURL=../sourcemaps/Advisories.c879c64b618fcb4fba8934282f1fe4f2.js.map