"use strict";(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman||[]).push([[184],{70044:(e,t,n)=>{t.bZ=t.Ux=void 0;const a=n(70655),r=a.__importStar(n(43297)),s=n(43297),l=n(38296),i=a.__importDefault(n(96888)),o=a.__importDefault(n(79818)),c=n(2582),m=n(23053),u=n(18951),f=a.__importDefault(n(43978)),p=n(8045),d=n(18918);var g;!function(e){e.success="success",e.danger="danger",e.warning="warning",e.info="info",e.default="default"}(g=t.Ux||(t.Ux={})),t.bZ=e=>{var{variant:n=g.default,isInline:h=!1,isPlain:v=!1,isLiveRegion:y=!1,variantLabel:_=`${m.capitalize(n)} alert:`,"aria-label":E=`${m.capitalize(n)} Alert`,actionClose:b,actionLinks:S,title:x,titleHeadingLevel:O="h4",children:N="",className:k="",ouiaId:w,ouiaSafe:P=!0,timeout:I=!1,timeoutAnimation:T=3e3,onTimeout:M=(()=>{}),truncateTitle:D=0,tooltipPosition:j,customIcon:Z,isExpandable:A=!1,toggleAriaLabel:C=`${m.capitalize(n)} alert details`,onMouseEnter:L=(()=>{}),onMouseLeave:R=(()=>{})}=e,U=a.__rest(e,["variant","isInline","isPlain","isLiveRegion","variantLabel","aria-label","actionClose","actionLinks","title","titleHeadingLevel","children","className","ouiaId","ouiaSafe","timeout","timeoutAnimation","onTimeout","truncateTitle","tooltipPosition","customIcon","isExpandable","toggleAriaLabel","onMouseEnter","onMouseLeave"]);const B=m.useOUIAProps(t.bZ.displayName,w,P,n),H=r.createElement(r.Fragment,null,r.createElement("span",{className:l.css(o.default.screenReader)},_),x),z=r.useRef(null),$=r.useRef(),[W,q]=s.useState(!1);r.useEffect((()=>{if(!z.current||!D)return;z.current.style.setProperty(f.default.name,D.toString());const e=z.current&&z.current.offsetHeight<z.current.scrollHeight;W!==e&&q(e)}),[z,D,W]);const[V,F]=s.useState(!1),[G,J]=s.useState(!0),[X,K]=s.useState(),[Q,Y]=s.useState(),ee=V&&G&&!X&&!Q;r.useEffect((()=>{if((I=!0===I?8e3:Number(I))>0){const e=setTimeout((()=>F(!0)),I);return()=>clearTimeout(e)}}),[]),r.useEffect((()=>{const e=()=>{$.current&&($.current.contains(document.activeElement)?(Y(!0),J(!1)):Q&&Y(!1))};return document.addEventListener("focus",e,!0),()=>document.removeEventListener("focus",e,!0)}),[Q]),r.useEffect((()=>{if(!1===Q||!1===X){const e=setTimeout((()=>J(!0)),T);return()=>clearTimeout(e)}}),[Q,X]),r.useEffect((()=>{ee&&M()}),[ee]);const[te,ne]=s.useState(!1);if(ee)return null;const ae=r.createElement(O,Object.assign({},W&&{tabIndex:0},{ref:z,className:l.css(i.default.alertTitle,D&&i.default.modifiers.truncate)}),H);return r.createElement("div",Object.assign({ref:$,className:l.css(i.default.alert,h&&i.default.modifiers.inline,v&&i.default.modifiers.plain,A&&i.default.modifiers.expandable,te&&i.default.modifiers.expanded,i.default.modifiers[n],k),"aria-label":E},B,y&&{"aria-live":"polite","aria-atomic":"false"},{onMouseEnter:e=>{K(!0),J(!1),L(e)},onMouseLeave:e=>{K(!1),R(e)}},U),A&&r.createElement(u.AlertContext.Provider,{value:{title:x,variantLabel:_}},r.createElement("div",{className:l.css(i.default.alertToggle)},r.createElement(d.AlertToggleExpandButton,{isExpanded:te,onToggleExpand:()=>{ne(!te)},"aria-label":C}))),r.createElement(c.AlertIcon,{variant:n,customIcon:Z}),W?r.createElement(p.Tooltip,{content:H,position:j},ae):ae,b&&r.createElement(u.AlertContext.Provider,{value:{title:x,variantLabel:_}},r.createElement("div",{className:l.css(i.default.alertAction)},b)),N&&(!A||A&&te)&&r.createElement("div",{className:l.css(i.default.alertDescription)},N),S&&r.createElement("div",{className:l.css(i.default.alertActionGroup)},S))},t.bZ.displayName="Alert"},18951:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AlertContext=void 0;const a=n(70655).__importStar(n(43297));t.AlertContext=a.createContext(null)},2582:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AlertIcon=t.variantIcons=void 0;const a=n(70655),r=a.__importStar(n(43297)),s=n(38296),l=a.__importDefault(n(96888)),i=a.__importDefault(n(35451)),o=a.__importDefault(n(84564)),c=a.__importDefault(n(19694)),m=a.__importDefault(n(31369)),u=a.__importDefault(n(36853));t.variantIcons={success:i.default,danger:o.default,warning:c.default,info:m.default,default:u.default},t.AlertIcon=e=>{var{variant:n,customIcon:i,className:o=""}=e,c=a.__rest(e,["variant","customIcon","className"]);const m=t.variantIcons[n];return r.createElement("div",Object.assign({},c,{className:s.css(l.default.alertIcon,o)}),i||r.createElement(m,null))}},18918:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AlertToggleExpandButton=void 0;const a=n(70655),r=a.__importStar(n(43297)),s=n(16396),l=n(18951),i=a.__importDefault(n(95511)),o=n(38296),c=a.__importDefault(n(96888));t.AlertToggleExpandButton=e=>{var{"aria-label":t,variantLabel:n,onToggleExpand:m,isExpanded:u}=e,f=a.__rest(e,["aria-label","variantLabel","onToggleExpand","isExpanded"]);const{title:p,variantLabel:d}=r.useContext(l.AlertContext);return r.createElement(s.Button,Object.assign({variant:s.ButtonVariant.plain,onClick:m,"aria-expanded":u,"aria-label":""===t?`Toggle ${n||d} alert: ${p}`:t},f),r.createElement("span",{className:o.css(c.default.alertToggleIcon)},r.createElement(i.default,{"aria-hidden":"true"})))},t.AlertToggleExpandButton.displayName="AlertToggleExpandButton"},26577:(e,t,n)=>{t.O=void 0;const a=n(70655),r=a.__importStar(n(43297)),s=a.__importDefault(n(19395)),l=n(38296);t.O=e=>{var{className:t,width:n,height:i,fontSize:o,shape:c,screenreaderText:m}=e,u=a.__rest(e,["className","width","height","fontSize","shape","screenreaderText"]);const f=o?Object.values(s.default.modifiers).find((e=>e===`pf-m-text-${o}`)):void 0;return r.createElement("div",Object.assign({},u,{className:l.css(s.default.skeleton,o&&f,"circle"===c&&s.default.modifiers.circle,"square"===c&&s.default.modifiers.square,t)},(n||i)&&{style:Object.assign({"--pf-c-skeleton--Width":n||void 0,"--pf-c-skeleton--Height":i||void 0},u.style)}),r.createElement("span",{className:"pf-u-screen-reader"},m))},t.O.displayName="Skeleton"},19395:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a}),n.e(3336).then(n.t.bind(n,53336,23));const a={modifiers:{circle:"pf-m-circle",square:"pf-m-square",widthSm:"pf-m-width-sm",widthMd:"pf-m-width-md",widthLg:"pf-m-width-lg",width_25:"pf-m-width-25",width_33:"pf-m-width-33",width_50:"pf-m-width-50",width_66:"pf-m-width-66",width_75:"pf-m-width-75",heightSm:"pf-m-height-sm",heightMd:"pf-m-height-md",heightLg:"pf-m-height-lg",height_25:"pf-m-height-25",height_33:"pf-m-height-33",height_50:"pf-m-height-50",height_66:"pf-m-height-66",height_75:"pf-m-height-75",height_100:"pf-m-height-100",text_4xl:"pf-m-text-4xl",text_3xl:"pf-m-text-3xl",text_2xl:"pf-m-text-2xl",textXl:"pf-m-text-xl",textLg:"pf-m-text-lg",textMd:"pf-m-text-md",textSm:"pf-m-text-sm"},skeleton:"pf-c-skeleton",themeDark:"pf-theme-dark"}},43978:(e,t)=>{t.__esModule=!0,t.c_alert__title_max_lines={name:"--pf-c-alert__title--max-lines",value:"1",var:"var(--pf-c-alert__title--max-lines)"},t.default=t.c_alert__title_max_lines},99398:(e,t,n)=>{n.d(t,{Z:()=>w});var a=n(43297),r=n.n(a),s=n(45697),l=n.n(s),i=n(74079),o=n(29439),c=n(78826),m=n(6202),u=n(49287),f=n(26577),p=n(74806),d=n(30893),g=n(15861),h=n(64687),v=n.n(h),y=n(50533),_=n(83215),E=n(11220),b=n(13784),S=n(18038),x=function(e,t,n){return r().createElement(S.P,null,n.formatMessage(d.Z[e],{systemsCount:t,b:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r().createElement("b",null,t)}}))},O=function(e){var t=e.unassignSystemsModalState,n=void 0===t?{}:t,s=e.setUnassignSystemsModalOpen,l=e.intl,i=n.systemsIDs,p=n.isUnassignSystemsModalOpen,h=(0,a.useState)([]),S=(0,o.Z)(h,2),O=S[0],N=S[1],k=(0,a.useState)(!0),w=(0,o.Z)(k,2),P=w[0],I=w[1],T=function(e){s({isUnassignSystemsModalOpen:!p,systemsIDs:[],shouldRefresh:e})},M=function(){T(!1)},D=function(e,t){var n=(0,y.I0)(),a=function(){var a=(0,g.Z)(v().mark((function a(){return v().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,E.J_)({inventory_ids:t});case 2:200===a.sent.status&&(e(!0),n((0,_.wN)((0,b.$z)((null==t?void 0:t.length)||0).success)));case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return a}(T,O);(0,a.useEffect)((function(){(function(e){return(0,E.lc)({limit:-1,"filter[baseline_name]":"neq:"}).then((function(t){return e.filter((function(e){return null==t?void 0:t.data.some((function(t){return t.id===e}))}))}))})(i).then((function(e){N(e),I(!1)}))}),[i]);var j=i.length-O.length;return r().createElement(c.Modal,{variant:"small",isOpen:n.isUnassignSystemsModalOpen,title:l.formatMessage(d.Z.textUnassignSystemsTitle),onClose:M,titleIconVariant:"warning",actions:[r().createElement(m.Button,{key:"confirm",variant:"danger",onClick:D,isDisabled:0===O.length},l.formatMessage(d.Z.labelsRemove)),r().createElement(m.Button,{key:"cancel",variant:"link",onClick:M},l.formatMessage(d.Z.labelsCancel))]},r().createElement(u.r,{container:!0,hasGutter:!0},P&&r().createElement(f.O,null),!P&&0!==O.length&&x("textUnassignSystemsStatement",O.length,l),!P&&j>0&&x("textUnassignSystemsWarning",j,l)))};O.propTypes={intl:l().any,setUnassignSystemsModalOpen:l().func,unassignSystemsModalState:l().object};const N=(0,p.ZP)(O);var k=function(e){var t=e.patchSetState,n=e.setPatchSetState;return r().createElement(r().Fragment,null,t.isUnassignSystemsModalOpen&&r().createElement(N,{unassignSystemsModalState:t,setUnassignSystemsModalOpen:n,systemsIDs:t.systemsIDs}),t.isPatchSetWizardOpen&&r().createElement(i.Z,{systemsIDs:t.systemsIDs,setBaselineState:n}))};k.propTypes={patchSetState:l().object,setPatchSetState:l().func};const w=k},98249:(e,t,n)=>{n.r(t),n.d(t,{default:()=>V});var a=n(4942),r=n(43297),s=n.n(r),l=n(14748),i=n(50533),o=n(49642),c=n(2807),m=n(92544),u=n(32132),f=n(30893),p=n(91607),d=n(45697),g=n.n(d),h=n(54025),v=n(334),y=n(75448),_=n(39591),E=n(94184),b=n.n(E),S=function(){return S=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},S.apply(this,arguments)},x=function(e){var t=(0,v.useHistory)(),n=(0,i.oR)(),a=e.component;return s().createElement(a,{className:b()(e.className,"inventory")},s().createElement(r.Suspense,{fallback:e.fallback},s().createElement(h.ScalprumComponent,S({history:t,store:n,appName:"inventory",module:"./DetailWrapper",scope:"inventory",ErrorComponent:s().createElement(_.Z,S({component:"InventoryDetailHead",history:t,store:n},e)),ref:e.innerRef},e))))};x.propTypes={fallback:g().node,innerRef:g().object,component:g().string,className:g().string};var O=s().forwardRef((function(e,t){return s().createElement(x,S({innerRef:t},e))}));O.propTypes={fallback:g().node,component:g().string,className:g().string},O.defaultProps={fallback:s().createElement(y.Bullseye,{className:"pf-u-p-lg"},s().createElement(y.Spinner,{size:"xl"})),component:"section"};const N=O;var k=function(){return k=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},k.apply(this,arguments)},w=function(e){var t=(0,v.useHistory)(),n=(0,i.oR)(),a=e.component;return s().createElement(a,{className:b()(e.className,"inventory")},s().createElement(r.Suspense,{fallback:e.fallback},s().createElement(h.ScalprumComponent,k({history:t,store:n,appName:"inventory",module:"./InventoryDetailHead",scope:"inventory",ErrorComponent:s().createElement(_.Z,k({component:"InventoryDetailHead",history:t,store:n},e)),ref:e.innerRef},e))))};w.propTypes={fallback:g().node,innerRef:g().object,component:g().string,className:g().string};var P=s().forwardRef((function(e,t){return s().createElement(w,k({innerProps:t},e))}));P.propTypes={fallback:g().node,component:g().string,className:g().string},P.defaultProps={fallback:s().createElement(y.Bullseye,{className:"pf-u-p-lg"},s().createElement(y.Spinner,{size:"xl"})),component:"section"};const I=P;var T=function(){return T=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},T.apply(this,arguments)},M=function(e){var t=(0,v.useHistory)(),n=(0,i.oR)(),a=e.component;return s().createElement(a,{className:b()(e.className,"inventory")},s().createElement(r.Suspense,{fallback:e.fallback},s().createElement(h.ScalprumComponent,T({history:t,store:n,appName:"inventory",module:"./AppInfo",scope:"inventory",ErrorComponent:s().createElement(_.Z,T({component:"InventoryDetailHead",history:t,store:n},e)),ref:e.innerRef},e))))};M.propTypes={fallback:g().node,innerRef:g().object,component:g().string,className:g().string};var D=s().forwardRef((function(e,t){return s().createElement(M,T({innerRef:t},e))}));D.propTypes={fallback:g().node,component:g().string,className:g().string},D.defaultProps={fallback:s().createElement(y.Bullseye,{className:"pf-u-p-lg"},s().createElement(y.Spinner,{size:"xl"})),component:"section"};const j=D;var Z=n(70044),A=n(49287),C=n(18038),L=n(20018),R=n(63540),U=n(9557),B=n(83215),H=n(52579),z=n(99398),$=n(79875),W=n(13784);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}const V=function(){var e=(0,v.useParams)().inventoryId,t=(0,i.I0)(),n=(0,i.v9)((function(e){var t=e.entityDetails;return t&&t||{}})),d=n.loaded,g=n.hasThirdPartyRepo,h=n.patchSetName,y=(0,i.v9)((function(e){var t,n=e.entityDetails;return null!==(t=null==n?void 0:n.entity)&&void 0!==t?t:{}})),_=y.display_name,E=y.insights_id,b=(0,$.Z)(),S=b.patchSetState,x=b.setPatchSetState,O=b.openPatchSetAssignWizard,k=b.openUnassignSystemsModal;(0,r.useEffect)((function(){return t((0,U.Eh)(e)),function(){t((0,B.L1)())}}),[S.shouldRefresh]);var w=_&&"".concat(_," - ").concat(u.N.formatMessage(f.Z.titlesSystems));(0,p.Iw)(w);var P=(0,p.ye)(W.VH.patch_set);return s().createElement(N,{onLoad:function(e){var t=e.mergeWithDetail;(0,c.z)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t(m.J)))}},s().createElement(z.Z,{patchSetState:S,setPatchSetState:x}),s().createElement(o.Z,{title:"",headerOUIA:"inventory-details",breadcrumbs:[{title:u.N.formatMessage(f.Z.titlesPatchSystems),to:"/systems",isActive:!1},_&&{title:_,isActive:!0}]},(!d||E)&&s().createElement(I,{hideBack:!0,showTags:!0,actions:P&&[{title:u.N.formatMessage(f.Z.titlesTemplateAssign),key:"assign-to-template",onClick:function(){O(e)}},{title:u.N.formatMessage(f.Z.titlesTemplateRemoveMultipleButton),key:"remove-from-template",isDisabled:!h,onClick:function(){return k([e])}}]},s().createElement(A.r,null,s().createElement(C.P,null,h&&s().createElement(L.D,null,s().createElement(R.xv,null,"".concat(u.N.formatMessage(f.Z.labelsColumnsTemplate),": ").concat(h)))),s().createElement(C.P,null,g&&s().createElement(Z.bZ,{className:"pf-u-mt-md",isInline:!0,variant:"info",title:u.N.formatMessage(f.Z.textThirdPartyInfo)}))))),!E&&d?s().createElement(H.Z,{code:204}):s().createElement(l.Z,null,s().createElement(j,null)))}}}]);
//# sourceMappingURL=../sourcemaps/InventoryDetail.3606244747d365ad955e4302bb70573a.js.map