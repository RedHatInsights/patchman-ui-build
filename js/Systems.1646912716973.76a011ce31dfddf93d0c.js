"use strict";(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman||[]).push([[743],{2095:(e,t,a)=>{t.Zb=t.H0=void 0;const r=a(70655),n=r.__importStar(a(41375)),s=r.__importDefault(a(62802)),l=a(38296),i=a(23053);t.H0=n.createContext({cardId:"",isExpanded:!1}),t.Zb=e=>{var{children:a=null,id:o="",className:c="",component:u="article",isHoverable:d=!1,isCompact:f=!1,isSelectable:m=!1,isSelectableRaised:p=!1,isSelected:v=!1,isDisabledRaised:h=!1,isFlat:b=!1,isExpanded:g=!1,isRounded:y=!1,isLarge:E=!1,isFullHeight:O=!1,isPlain:S=!1,ouiaId:Z,ouiaSafe:_=!0}=e,P=r.__rest(e,["children","id","className","component","isHoverable","isCompact","isSelectable","isSelectableRaised","isSelected","isDisabledRaised","isFlat","isExpanded","isRounded","isLarge","isFullHeight","isPlain","ouiaId","ouiaSafe"]);const w=u,N=i.useOUIAProps(t.Zb.displayName,Z,_);return f&&E&&(console.warn("Card: Cannot use isCompact with isLarge. Defaulting to isCompact"),E=!1),n.createElement(t.H0.Provider,{value:{cardId:o,isExpanded:g}},n.createElement(w,Object.assign({id:o,className:l.css(s.default.card,f&&s.default.modifiers.compact,g&&s.default.modifiers.expanded,b&&s.default.modifiers.flat,y&&s.default.modifiers.rounded,E&&s.default.modifiers.displayLg,O&&s.default.modifiers.fullHeight,S&&s.default.modifiers.plain,h?l.css(s.default.modifiers.nonSelectableRaised):p?l.css(s.default.modifiers.selectableRaised,v&&s.default.modifiers.selectedRaised):m||d?l.css(s.default.modifiers.selectable,v&&s.default.modifiers.selected):"",c),tabIndex:m||p?"0":void 0},P,N),a))},t.Zb.displayName="Card"},85962:(e,t,a)=>{t.e=void 0;const r=a(70655),n=r.__importStar(a(41375)),s=r.__importDefault(a(62802)),l=a(38296);t.e=e=>{var{children:t=null,className:a="",component:i="div",isFilled:o=!0}=e,c=r.__rest(e,["children","className","component","isFilled"]);const u=i;return n.createElement(u,Object.assign({className:l.css(s.default.cardBody,!o&&s.default.modifiers.noFill,a)},c),t)},t.e.displayName="CardBody"},36104:(e,t,a)=>{t.l=void 0;const r=a(70655),n=r.__importStar(a(41375)),s=a(38296),l=r.__importDefault(a(62802));t.l=e=>{var{children:t=null,className:a="",component:i="div"}=e,o=r.__rest(e,["children","className","component"]);const c=i;return n.createElement(c,Object.assign({className:s.css(l.default.cardTitle,a)},o),t)},t.l.displayName="CardTitle"},26577:(e,t,a)=>{t.O=void 0;const r=a(70655),n=r.__importStar(a(41375)),s=r.__importDefault(a(68800)),l=a(38296);t.O=e=>{var{className:t,width:a,height:i,fontSize:o,shape:c,screenreaderText:u}=e,d=r.__rest(e,["className","width","height","fontSize","shape","screenreaderText"]);const f=o?Object.values(s.default.modifiers).find((e=>e===`pf-m-text-${o}`)):void 0;return n.createElement("div",Object.assign({},d,{className:l.css(s.default.skeleton,o&&f,"circle"===c&&s.default.modifiers.circle,"square"===c&&s.default.modifiers.square,t)},(a||i)&&{style:Object.assign({"--pf-c-skeleton--Width":a||void 0,"--pf-c-skeleton--Height":i||void 0},d.style)}),n.createElement("span",{className:"pf-u-screen-reader"},u))},t.O.displayName="Skeleton"},77927:(e,t,a)=>{t.tz={name:"PackageIcon",height:1024,width:1024,svgPath:"M567.7,1010.49707 L951.5,818.498238 C994.7,796.698371 1024,752.39864 1024,703.998934 L1024,320.001265 C1024,271.601559 995.6,227.10183 952.2,205.501961 L568.6,13.5031267 C550.8,4.60318072 531.4,0.103208049 512,-0.00152855358 C492.3,-0.0967907365 472.5,4.40318194 454.4,13.5031267 L70.8,205.501961 C27.4,227.10183 0,271.50156 0,319.801267 L0.9,703.998934 C0.9,752.39864 28.3,796.79837 71.6,818.398239 L455.2,1010.39707 C464.3,1014.89705 488.1,1023.99699 511.9,1023.99699 C535.5,1023.99699 558.8,1014.99704 567.7,1010.49707 Z M512.5,630.899377 L672.5,550.899863 L672.5,645.29929 L736.5,613.299484 L736.5,518.900058 L896,438.900543 L896.5,712.698881 L512.5,904.697715 L512.5,630.899377 Z M145.1,304.101362 L294.9,228.60182 C295.3,228.801819 295.6,229.001818 296,229.201817 L661.9,412.300705 L512.5,487.600248 L145.1,304.101362 Z M512.5,118.902487 L881.3,301.701377 L733.1,376.400923 L366,192.702038 L512.5,118.902487 Z",yOffset:0,xOffset:0},t.jt=a(35183).createIcon(t.tz),t.ZP=t.jt},83905:(e,t,a)=>{a.d(t,{Z:()=>p});var r=a(87462),n=a(29439),s=a(41375),l=a.n(s),i=a(13784),o=a(44612),c=a(80887),u=a(77221),d=a(82553),f=a(32132),m=a(30893);const p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=l().useState(!1),s=(0,n.Z)(a,2),p=s[0],v=s[1],h=l().useState(10),b=(0,n.Z)(h,2),g=b[0],y=b[1],E=i.nW.slice().reverse(),O=e.os,S="string"==typeof O&&O.split(",")||[],Z=function(e,a){if(O&&!O.includes(a))t({filter:{os:"".concat(S.join(","),",").concat(a)}});else if(O&&O.includes(a)){var r=S.filter((function(e){return e!==a}));t({filter:{os:r.length>0&&"".concat(r.join(","))||void 0}})}else t({filter:{os:""!==a&&a||void 0}})},_=function(e){v(e)},P=function(){y(E.length)};return{type:o.Y.custom,label:f.N.formatMessage(m.Z.labelsFiltersOsVersion),value:"custom",filterValues:{children:l().createElement(c.P,(0,r.Z)({variant:d.SelectVariant.checkbox,typeAheadAriaLabel:f.N.formatMessage(m.Z.labelsFiltersOsVersionPlaceholder),onToggle:_,onSelect:Z,selections:S,isOpen:p,"aria-labelledby":"patch-os-version-filter",placeholderText:f.N.formatMessage(m.Z.labelsFiltersOsVersionPlaceholder)},g<E.length&&{loadingVariant:{text:"View more",onClick:P}},{style:{maxHeight:"400px",overflow:"auto"}}),E.slice(0,g).map((function(e,t){return l().createElement(u.SelectOption,{key:t,value:e.value})})))}}}},49642:(e,t,a)=>{a.d(t,{Z:()=>E});var r=a(48716),n=a(39173),s=a(45697),l=a.n(s),i=a(41375),o=a.n(i),c=a(85991),u=a(49489),d=a(92818),f=function(e){var t=e.items,a=e.headerOUIA;return o().createElement(c.a,null,t.filter(Boolean).map((function(e){return o().createElement(u.g,{key:e.title,isActive:e.isActive},e.to&&o().createElement(d.Link,{to:e.to,"data-ouia-component-type":"".concat(a,"-breadcrumb"),"data-ouia-component-id":"breadcrumb-to-".concat(e.title)},e.title)||e.title)})))};f.propTypes={items:l().arrayOf(l().shape({isActive:l().bool,to:l().string,title:l().string})),headerOUIA:l().string};const m=f;var p=a(82819),v=a(98378),h=a(60076),b=function(e){var t=e.history,a=e.headerOUIA;return o().createElement(v.mQ,{onSelect:function(e,a){t.push(a)},activeKey:t.location.pathname,className:"patchman-tabs"},o().createElement(p.O,{eventKey:h.H.advisories.to,title:h.H.advisories.title,"data-ouia-component-type":"".concat(a,"-tab"),"data-ouia-component-id":"".concat(a,"-tab-").concat(h.H.advisories.title)}),o().createElement(p.O,{eventKey:h.H.systems.to,title:h.H.systems.title,"data-ouia-component-type":"".concat(a,"-tab"),"data-ouia-component-id":"".concat(a,"-tab-").concat(h.H.systems.title)}))};b.propTypes={history:l().object,headerOUIA:l().string};const g=(0,d.withRouter)(b);var y=function(e){var t=e.title,a=e.showTabs,s=e.breadcrumbs,l=e.children,i=e.headerOUIA;return o().createElement(o().Fragment,null,o().createElement(r.Z,{"data-ouia-component-type":"".concat(i,"-page-header")},s&&o().createElement(m,{items:s,headerOUIA:i}),o().createElement(n.Z,{title:t}),l),a&&o().createElement(g,{headerOUIA:i}))};y.propTypes={title:l().string,showTabs:l().bool,breadcrumbs:l().array,children:l().any,headerOUIA:l().string};const E=y},97959:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ae});var r=a(4942),n=a(15861),s=a(29439),l=a(87757),i=a.n(l),o=a(72573),c=a(33739),u=a(86350),d=a(41375),f=a.n(d),m=a(28216),p=a(92818),v=a(30893),h=a(90747),b=a(44612),g=a(13784),y=a(32132);const E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.stale,r=f().useMemo((function(){return g.fb.map((function(e){var t=e.value;return{label:e.label,value:t.toString()}}))}),[]),n=a&&(Array.isArray(a)&&a.map((function(e){return e.toString()}))||[a.toString()]),s=function(t){e({filter:{stale:t}})};return{label:y.N.formatMessage(v.Z.labelsFiltersStale),type:b.Y.checkbox,filterValues:{onChange:function(e,t){s(t)},items:r,value:n,placeholder:y.N.formatMessage(v.Z.labelsFiltersStalePlaceholder)}}};var O=a(83905);const S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.packages_updatable,r=function(t){e({filter:{packages_updatable:t}})};return{label:y.N.formatMessage(v.Z.labelsFiltersUpdatable),type:b.Y.radio,filterValues:{onChange:function(e,t){r(t)},items:g.Tl,value:a,placeholder:y.N.formatMessage(v.Z.labelsFiltersUpdatablePlaceholder)}}};var Z=a(49642),_=a(73888),P=a(32041),w=a(9557),N=a(5747),T=a(11220),L=a(57358),j=a(91607),I=a(20259),C=a(58684),F=a(93433),k=a(35451),x=a(77927),D=a(19694),R=a(45697),A=a.n(R),M=a(36104),H=a(6202),U=a(26577),V=a(2095),q=a(49287),z=a(18038),B=a(85962),G=a(36001),W=a(42057),Y=function(e){var t=e.title,a=e.color,r=e.Icon,n=e.value,s=e.filter,l=e.apply;return f().createElement(V.Zb,{isCompact:!0,style:{marginRight:"var(--pf-global--spacer--sm)"}},f().createElement(M.l,{style:{marginTop:"0px"}},t),f().createElement(B.e,{className:"fonst-size-sm"},f().createElement(G.k,{flex:{default:"inlineFlex"},style:{flexWrap:"nowrap"}},f().createElement(W.B,{spacer:{default:"spacerMd"},alignSelf:{default:"alignSelfCenter"}},f().createElement(r,{color:a,size:"md"})),f().createElement(W.B,{isFilled:!0,spacer:{default:"spacerNone"}},void 0===n&&f().createElement(U.O,{width:"24px"})||f().createElement(H.Button,{variant:"link",onClick:function(){return l(s)},className:"patch-status-report-text"},n)))))},K=function(e){var t,a,r,l=e.apply,o=e.queryParams,c=f().useState({}),p=(0,s.Z)(c,2),h=p[0],b=p[1],g=(0,m.v9)((function(e){return e.GlobalFilterStore})),E=g.selectedTags,O=g.selectedGlobalTags,S=g.systemProfile;return(0,d.useMemo)((0,n.Z)(i().mark((function e(){var t,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b({}),e.prev=1,e.next=4,(0,T.lc)({filter:{os:null==o||null===(a=o.filter)||void 0===a?void 0:a.os},selectedTags:[].concat((0,F.Z)(E),(0,F.Z)(O)),systemProfile:S,limit:1});case 4:t=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t=[];case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e,null,[[1,7]])}))),[null==o||null===(t=o.filter)||void 0===t||null===(a=t.os)||void 0===a?void 0:a.length,void 0!==(null==o||null===(r=o.filter)||void 0===r?void 0:r.os),null==E?void 0:E.length,void 0!==E,null==O?void 0:O.length,void 0!==O,S,void 0!==(null==o?void 0:o.subtotals)]).then((function(e){var t;b(null===(t=e.meta)||void 0===t?void 0:t.subtotals)})),f().createElement(u.Z,{style:{paddingBottom:0}},f().createElement(q.r,{hasGutter:!0,span:3},f().createElement(z.P,null,f().createElement(Y,{title:y.N.formatMessage(v.Z.labelsStatusSystemsUpToDate),Icon:k.default,color:"var(--pf-global--success-color--100)",value:null==h?void 0:h.patched,apply:l,filter:{filter:{packages_updatable:"eq:0"}}})),f().createElement(z.P,null,f().createElement(Y,{title:y.N.formatMessage(v.Z.labelsStatusSystemsWithPatchesAvailable),Icon:x.ZP,color:"var(--pf-global--primary-color--100)",value:null==h?void 0:h.unpatched,apply:l,filter:{filter:{packages_updatable:"gt:0"}}})),f().createElement(z.P,null,f().createElement(Y,{title:y.N.formatMessage(v.Z.labelsStatusStaleSystems),Icon:D.default,color:"var(--pf-global--warning-color--100)",value:null==h?void 0:h.stale,apply:l,filter:{filter:{stale:!0}}}))))};Y.propTypes={title:A().string,Icon:A().elementType,value:A().string,color:A().string,apply:A().func,filter:A().object},K.propTypes={apply:A().func,queryParams:A().object};const Q=K;var J=a(22663),$=function(e){var t=e.data,a=e.setRemediationOpen;return f().createElement(J.Z,{appName:"remediations",module:"./RemediationWizard",setOpen:a,data:t})};$.propTypes={data:A().object,setRemediationOpen:A().func};const X=$;function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(a),!0).forEach((function(t){(0,r.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const ae=function(){var e=y.N.formatMessage(v.Z.titlesSystems);(0,j.Iw)(e);var t=(0,p.useHistory)(),a=(0,m.I0)(),r=f().useState(!1),l=(0,s.Z)(r,2),d=l[0],b=l[1],F=f().useState((function(){return function(){return null}})),k=(0,s.Z)(F,2),x=k[0],D=k[1],R=(0,L.PZ)(t.location.search),A=(0,m.v9)((function(e){var t=e.entities;return(null==t?void 0:t.rows)||[]}),m.wU),M=(0,m.v9)((function(e){var t=e.entities;return(null==t?void 0:t.total)||0})),H=(0,m.v9)((function(e){var t=e.entities;return(null==t?void 0:t.selectedRows)||[]})),U=(0,m.v9)((function(e){var t=e.entities;return(null==t?void 0:t.status)||{}})),V=(0,m.v9)((function(e){var t=e.SystemsStore;return(null==t?void 0:t.queryParams)||{}})),q=V.systemProfile,z=V.selectedTags,B=V.filter,G=V.search,W=V.page,Y=V.perPage,K=V.sort;function J(){return(J=(0,n.Z)(i().mark((function e(t){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:a=e.sent,D((function(){return function(){return f().createElement(X,{data:a,isRemediationOpen:!0,setRemediationOpen:b})}})),b(!d);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e){a((0,w.SF)(e))}f().useEffect((function(){return $(R),function(){return a((0,w.RV)())}}),[]);var ee=(0,j.j5)(te({search:G},B),$,g.hb),ae=(0,s.Z)(ee,1)[0],re={items:[(0,h.Z)($,G,y.N.formatMessage(v.Z.labelsFiltersSystemsSearchTitle),y.N.formatMessage(v.Z.labelsFiltersSystemsSearchPlaceholder)),E($,B),S($,B),(0,O.Z)(B,$)]},ne={filters:(0,L.mt)(B,G,y.N.formatMessage(v.Z.labelsFiltersSystemsSearchTitle)),onDelete:ae,deleteTitle:y.N.formatMessage(v.Z.labelsFiltersReset)},se=(0,j.ry)(A,H,(function(e){return(0,T.lc)(te(te({},e),{},{limit:-1})).then(L.zw)}),(function(e){a({type:"SELECT_ENTITY",payload:e})})),le=H&&(0,L.Qy)(H).length,ie=(0,j.AR)("systems",V,{csv:T.wI,json:T.TW},a),oe=function(e){return(0,T.ob)({limit:-1}).then((function(t){var a=t.data;return(0,T.fq)({advisories:a.map((function(e){return e.id})),systems:e})}))},ce=(0,j.U)(T.lc,$,{},t,(function(e){a((0,w._e)(e))}),(function(e){a((0,w.vl)(e))}));return f().createElement(f().Fragment,null,f().createElement(Z.Z,{title:y.N.formatMessage(v.Z.titlesPatchSystems),headerOUIA:"systems"}),f().createElement(Q,{apply:$,queryParams:V}),d&&f().createElement(x,null)||null,f().createElement(u.Z,null,U.hasError&&f().createElement(_.Z,{code:U.code})||f().createElement(c.Z,{isFullView:!0,autoRefresh:!0,initialLoading:!0,hideFilters:{all:!0,tags:!1},columns:L.gB,showTags:!0,customFilters:{patchParams:{search:G,filter:B,systemProfile:q,selectedTags:z}},onLoad:function(e){var t=e.mergeWithEntities;(0,P.z)(te({},t((0,N.Kq)(C.Fs,N.G),(0,L.fm)({page:W,perPage:Y,sort:K,search:G},R))))},getEntities:ce,actions:(0,C.Sb)((function(e){return J.apply(this,arguments)})),tableProps:{areActionsDisabled:function(e){var t=e.applicable_advisories;return t&&t.every((function(e){return 0===e}))},canSelectAll:!1,variant:o.TableVariant.compact,className:"patchCompactInventory",isStickyHeader:!0},bulkSelect:(0,j.Pz)(le,se,{total_items:M},A),exportConfig:{isDisabled:0===M,onSelect:ie},filterConfig:re,activeFiltersConfig:ne,dedicatedAction:f().createElement(I.Z,{isDisabled:0===le,remediationProvider:function(){return(0,L.Sz)((0,L.Q6)(H),oe,L.R9,g.oN.advisory)}})})))}},5747:(e,t,a)=>{a.d(t,{G:()=>u,Kq:()=>f,OC:()=>d});var r=a(4942),n=a(57668),s=a(48881),l=a(22789);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,r.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c={rows:[],entities:[],selectedRows:{},status:{},page:1,perPage:20,metadata:{limit:20,offset:0,total_items:0}},u=function(e,t){return t.loaded?o(o({},t),{},{status:{isLoading:!1,hasError:!1},rows:(0,n.Yk)(t.rows,t.selectedRows)}):t},d=function(e,t){return t.loaded?o(o({},t),{},{columns:e,rows:(0,n.GF)(t.rows,t.selectedRows)}):t},f=function(e,t){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,r=arguments.length>1?arguments[1]:void 0,n=o({},a);switch(r.type){case"LOAD_ENTITIES_FULFILLED":return t(e,n);case"LOAD_ENTITIES_PENDING":return n.status={isLoading:!0,hasError:!1},n;case"LOAD_ENTITIES_REJECTED":return n.status={isLoading:!0,hasError:!0},n;case"SELECT_ENTITY":var i=(0,s.hd)(n,r);return t(e,i);case l.sq:return c;default:return a}}}}}]);