(self.webpackChunkpatch=self.webpackChunkpatch||[]).push([[6743],{32203:(e,t,n)=>{"use strict";n.d(t,{H:()=>i,Z:()=>c});var s=n(70655),a=n(43297),r=n(54918),l=n(38296),o=n(62472);const i=a.createContext({cardId:"",registerTitleId:()=>{},isExpanded:!1}),c=e=>{var{children:t=null,id:n="",className:u="",component:d="article",isHoverable:p=!1,isCompact:f=!1,isSelectable:m=!1,isSelectableRaised:y=!1,isSelected:v=!1,isDisabledRaised:g=!1,isFlat:h=!1,isExpanded:b=!1,isRounded:S=!1,isLarge:E=!1,isFullHeight:O=!1,isPlain:P=!1,ouiaId:Z,ouiaSafe:j=!0,hasSelectableInput:w=!1,selectableInputAriaLabel:C,onSelectableInputChange:I=(()=>{})}=e,R=(0,s.__rest)(e,["children","id","className","component","isHoverable","isCompact","isSelectable","isSelectableRaised","isSelected","isDisabledRaised","isFlat","isExpanded","isRounded","isLarge","isFullHeight","isPlain","ouiaId","ouiaSafe","hasSelectableInput","selectableInputAriaLabel","onSelectableInputChange"]);const x=d,T=(0,o.S$)(c.displayName,Z,j),[k,D]=a.useState(""),[L,M]=a.useState();f&&E&&(console.warn("Card: Cannot use isCompact with isLarge. Defaulting to isCompact"),E=!1);const N=a.useRef(!1);return a.useEffect((()=>{C?M({"aria-label":C}):k?M({"aria-labelledby":k}):w&&!N.current&&(M({}),console.warn("If no CardTitle component is passed as a child of Card the selectableInputAriaLabel prop must be passed"))}),[w,C,k]),a.createElement(i.Provider,{value:{cardId:n,registerTitleId:e=>{D(e),N.current=!!e},isExpanded:b}},w&&a.createElement("input",Object.assign({className:"pf-screen-reader",id:`${n}-input`},L,{type:"checkbox",checked:v,onChange:e=>I(n,e),disabled:g,tabIndex:-1})),a.createElement(x,Object.assign({id:n,className:(0,l.css)(r.Z.card,f&&r.Z.modifiers.compact,b&&r.Z.modifiers.expanded,h&&r.Z.modifiers.flat,S&&r.Z.modifiers.rounded,E&&r.Z.modifiers.displayLg,O&&r.Z.modifiers.fullHeight,P&&r.Z.modifiers.plain,g?(0,l.css)(r.Z.modifiers.nonSelectableRaised):y?(0,l.css)(r.Z.modifiers.selectableRaised,v&&r.Z.modifiers.selectedRaised):m||p?(0,l.css)(r.Z.modifiers.selectable,v&&r.Z.modifiers.selected):"",u),tabIndex:m||y?"0":void 0},R,T),t))};c.displayName="Card"},62394:(e,t,n)=>{"use strict";n.d(t,{e:()=>o});var s=n(70655),a=n(43297),r=n(54918),l=n(38296);const o=e=>{var{children:t=null,className:n="",component:o="div",isFilled:i=!0}=e,c=(0,s.__rest)(e,["children","className","component","isFilled"]);const u=o;return a.createElement(u,Object.assign({className:(0,l.css)(r.Z.cardBody,!i&&r.Z.modifiers.noFill,n)},c),t)};o.displayName="CardBody"},70:(e,t,n)=>{"use strict";n.d(t,{l:()=>i});var s=n(70655),a=n(43297),r=n(38296),l=n(54918),o=n(32203);const i=e=>{var{children:t=null,className:n="",component:i="div"}=e,c=(0,s.__rest)(e,["children","className","component"]);const{cardId:u,registerTitleId:d}=a.useContext(o.H),p=i,f=u?`${u}-title`:"";return a.useEffect((()=>(d(f),()=>d(""))),[d,f]),a.createElement(p,Object.assign({className:(0,r.css)(l.Z.cardTitle,n),id:f||void 0},c),t)};i.displayName="CardTitle"},79799:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>l,jt:()=>r,tz:()=>a});var s=n(40400);const a={name:"PackageIcon",height:1024,width:1024,svgPath:"M567.7,1010.49707 L951.5,818.498238 C994.7,796.698371 1024,752.39864 1024,703.998934 L1024,320.001265 C1024,271.601559 995.6,227.10183 952.2,205.501961 L568.6,13.5031267 C550.8,4.60318072 531.4,0.103208049 512,-0.00152855358 C492.3,-0.0967907365 472.5,4.40318194 454.4,13.5031267 L70.8,205.501961 C27.4,227.10183 0,271.50156 0,319.801267 L0.9,703.998934 C0.9,752.39864 28.3,796.79837 71.6,818.398239 L455.2,1010.39707 C464.3,1014.89705 488.1,1023.99699 511.9,1023.99699 C535.5,1023.99699 558.8,1014.99704 567.7,1010.49707 Z M512.5,630.899377 L672.5,550.899863 L672.5,645.29929 L736.5,613.299484 L736.5,518.900058 L896,438.900543 L896.5,712.698881 L512.5,904.697715 L512.5,630.899377 Z M145.1,304.101362 L294.9,228.60182 C295.3,228.801819 295.6,229.001818 296,229.201817 L661.9,412.300705 L512.5,487.600248 L145.1,304.101362 Z M512.5,118.902487 L881.3,301.701377 L733.1,376.400923 L366,192.702038 L512.5,118.902487 Z",yOffset:0,xOffset:0},r=(0,s.IU)(a),l=r},54918:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s}),n(80598);const s={card:"pf-c-card",cardActions:"pf-c-card__actions",cardBody:"pf-c-card__body",cardExpandableContent:"pf-c-card__expandable-content",cardFooter:"pf-c-card__footer",cardHeader:"pf-c-card__header",cardHeaderToggle:"pf-c-card__header-toggle",cardHeaderToggleIcon:"pf-c-card__header-toggle-icon",cardSrInput:"pf-c-card__sr-input",cardTitle:"pf-c-card__title",divider:"pf-c-divider",modifiers:{hoverable:"pf-m-hoverable",selectable:"pf-m-selectable",selected:"pf-m-selected",hoverableRaised:"pf-m-hoverable-raised",selectableRaised:"pf-m-selectable-raised",nonSelectableRaised:"pf-m-non-selectable-raised",selectedRaised:"pf-m-selected-raised",compact:"pf-m-compact",displayLg:"pf-m-display-lg",flat:"pf-m-flat",plain:"pf-m-plain",rounded:"pf-m-rounded",expanded:"pf-m-expanded",fullHeight:"pf-m-full-height",toggleRight:"pf-m-toggle-right",noOffset:"pf-m-no-offset",noFill:"pf-m-no-fill",overpassFont:"pf-m-overpass-font"},themeDark:"pf-theme-dark"}},39591:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var s=n(85893),a=n(43297);const r=function(e){var t=e.component,n=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]])}return n}(e,["component"]);return(0,a.useEffect)((function(){console.error("Unable to load inventory component. Failed to load ".concat(t,"."),n)}),[]),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{children:"Unable to load inventory component"}),(0,s.jsxs)("h2",{children:["Failed to load ",t]}),(0,s.jsx)("code",{children:"More info can be found in browser console output."})]})}},33739:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var s=n(85893),a=n(43297),r=n.n(a),l=n(45697),o=n.n(l),i=n(59823),c=n(93942),u=n(8213),d=n(39591),p=n(94184),f=n.n(p),m=n(72126),y=function(){return y=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},y.apply(this,arguments)},v=function(e){var t=(0,c.oR)(),n=e.component;return(0,s.jsx)(n,y({className:f()(e.className,"inventory")},{children:(0,s.jsx)(a.Suspense,y({fallback:e.fallback},{children:(0,s.jsx)(i.ScalprumComponent,y({history:e.history,store:t,appName:"inventory",module:"./InventoryTable",scope:"inventory",ErrorComponent:(0,s.jsx)(d.Z,y({component:"InventoryDetailHead"},e)),ref:e.innerRef},e))}))}))};v.propTypes={fallback:o().node,innerRef:o().object,component:o().string,className:o().string,history:o().object};var g=r().forwardRef((function(e,t){return(0,s.jsx)(v,y({innerRef:t},e))}));g.propTypes={fallback:o().node,component:o().string,className:o().string},g.defaultProps={fallback:(0,s.jsx)(u.Bullseye,y({className:"pf-u-p-lg"},{children:(0,s.jsx)(u.Spinner,{size:"xl"})})),component:"section"};const h=r().forwardRef((function(e,t){return(0,s.jsx)(m.Z,y({innerRef:t,Component:g},e))}))},72126:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var s=n(85893),a=n(43297),r=n.n(a),l=n(62012),o=n(55140),i=function(){return i=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)},c=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]])}return n},u=function(e){var t=e.Component,n=c(e,["Component"]),a=l.useHistory();return(0,s.jsx)(t,i({history:a},n))},d=function(e){var t=e.Component,n=c(e,["Component"]),a=(0,o.Z)().chromeHistory;return(0,s.jsx)(t,i({history:a},n))};const p=r().forwardRef((function(e,t){var n=e.Component,r=c(e,["Component"]),o=(0,a.useMemo)((function(){return"function"==typeof l.useHistory?u:d}),[n,r]);return(0,s.jsx)(o,i({innerRef:t,Component:n},r))}))},97804:(e,t,n)=>{"use strict";n.d(t,{Z:()=>T});var s=n(43297),a=n.n(s),r=n(45697),l=n.n(r),o=n(63135),i=n(44118),c=n(4942),u=n(29439),d=n(80236),p=n(47173),f=n(49739),m=n(83826),y=n(83115),v=n(2372),g=n(74806),h=n(93665),b=n(30893),S=n(11220),E=n(93942),O=n(83215),P=n(20677),Z=n(5391),j=n(28481);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(e){var t=e.patchSetState,n=void 0===t?{}:t,r=e.setPatchSetState,l=e.intl,o=(0,E.I0)(),i=n.systemsIDs,c=n.isAssignSystemsModalOpen,g=(0,s.useState)([]),w=(0,u.Z)(g,2),I=w[0],R=w[1],x=(0,s.useState)({}),T=(0,u.Z)(x,2),k=T[0],D=T[1],L=(0,s.useState)([]),M=(0,u.Z)(L,2),N=M[0],_=M[1],F=(0,s.useState)(!0),A=(0,u.Z)(F,2),U=A[0],H=A[1],q=function(){r({isAssignSystemsModalOpen:!c,systemsIDs:[]}),R([]),D({})};(0,s.useEffect)((function(){i&&(H(!0),(0,j.ol)(Object.keys(i)).then((function(e){_(e),H(!1)})))}),[i]);var z=Object.keys(i).length-N.length;return a().createElement(d.u,{variant:"small",isOpen:n.isAssignSystemsModalOpen,title:l.formatMessage(b.Z.templateApply),onClose:q,actions:[a().createElement(p.zx,{key:"confirm",isDisabled:!(null!=k&&k.id),onClick:function(){var e=N.reduce((function(e,t){return e[t]=!0,e}),{});(0,S.CT)({inventory_ids:i},k.id).then((function(){o((0,O.wN)((0,P.og)(Object.keys(e).length).success)),r(C(C({},n),{},{shouldRefresh:!0,isAssignSystemsModalOpen:!1,systemsIDs:[]}))})).catch((function(){o((0,O.wN)((0,P.og)().failure))})),q()}},l.formatMessage(b.Z.templateApply)),a().createElement(p.zx,{key:"cancel",variant:"link",onClick:q},l.formatMessage(b.Z.labelsCancel))]},U?a().createElement(v.$,null):0===N.length?1===N.length?"Template cannot be applied to the selected system.":"Template cannot be applied to any of the selected systems.":a().createElement(f.K,{hasGutter:!0},a().createElement(m.v,null,l.formatMessage(b.Z.templateSelect,{systemCount:N.length,b:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a().createElement("b",null,t)}})),z>0&&a().createElement(m.v,null,l.formatMessage(b.Z.templateSelectSatellite,{systemCount:z,b:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a().createElement("b",null,t)}})),a().createElement(m.v,null,a().createElement(y.l,null,a().createElement(h.Z,{setSelectedPatchSet:R,selectedSets:I,selectCallback:D}))),a().createElement(m.v,null,l.formatMessage(b.Z.templateOr)),a().createElement(m.v,null,a().createElement(p.zx,{variant:"secondary",onClick:function(){r(C(C({},n),{},{isPatchSetWizardOpen:!0,systemsIDs:(0,Z.LI)(i),shouldRefresh:!1})),R([]),D({}),H(!0)}},l.formatMessage(b.Z.templateCreate)))))};I.propTypes={intl:l().any,setPatchSetState:l().func,patchSetState:l().object};const R=(0,g.ZP)(I);var x=function(e){var t=e.patchSetState,n=e.setPatchSetState;return a().createElement(a().Fragment,null,t.isUnassignSystemsModalOpen&&a().createElement(i.Z,{unassignSystemsModalState:t,setUnassignSystemsModalOpen:n,systemsIDs:t.systemsIDs}),a().createElement(R,{patchSetState:t,setPatchSetState:n,systemsIDs:t.systemsIDs}),t.isPatchSetWizardOpen&&a().createElement(o.Z,{systemsIDs:t.systemsIDs,setBaselineState:n}))};x.propTypes={patchSetState:l().object,setPatchSetState:l().func};const T=x},28481:(e,t,n)=>{"use strict";n.d(t,{Hd:()=>u,P4:()=>i,ol:()=>c});var s=n(43297),a=n.n(s),r=n(16475),l=n(30893),o=n(11220),i=function(e){return(0,o.lc)({limit:-1,"filter[baseline_name]":"neq:",filter:{stale:[!0,!1]}}).then((function(t){return e.filter((function(e){var n;return null==t||null===(n=t.data)||void 0===n?void 0:n.some((function(t){return t.id===e}))}))}))},c=function(e){return(0,o.dk)("/ids/systems",{limit:-1,"filter[satellite_managed]":"false",filter:{stale:[!0,!1]}}).then((function(t){return e.filter((function(e){var n;return null==t||null===(n=t.data)||void 0===n?void 0:n.some((function(t){return t.id===e}))}))}))},u=function(e,t,n){return a().createElement(r.P,null,n.formatMessage(l.Z[e],{systemsCount:t,b:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a().createElement("b",null,t)}}))}},44118:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var s=n(29439),a=n(43297),r=n.n(a),l=n(45697),o=n.n(l),i=n(80236),c=n(47173),u=n(50693),d=n(50383),p=n(74806),f=n(30893),m=n(15861),y=n(64687),v=n.n(y),g=n(93942),h=n(83215),b=n(11220),S=n(20677),E=n(28481),O=function(e){var t=e.unassignSystemsModalState,n=void 0===t?{}:t,l=e.setUnassignSystemsModalOpen,o=e.intl,p=n.systemsIDs,y=n.isUnassignSystemsModalOpen,O=(0,a.useState)([]),P=(0,s.Z)(O,2),Z=P[0],j=P[1],w=(0,a.useState)(!0),C=(0,s.Z)(w,2),I=C[0],R=C[1],x=function(e){l({isUnassignSystemsModalOpen:!y,systemsIDs:[],shouldRefresh:e})},T=function(){x(!1)},k=function(e,t){var n=(0,g.I0)(),s=function(){var s=(0,m.Z)(v().mark((function s(){var a;return v().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,b.C9)({inventory_ids:t});case 2:a=s.sent,e(!0),200===a.status?n((0,h.wN)((0,S.$z)((null==t?void 0:t.length)||0).success)):n((0,h.wN)((0,S.$z)().failure));case 5:case"end":return s.stop()}}),s)})));return function(){return s.apply(this,arguments)}}();return s}(x,Z);(0,a.useEffect)((function(){R(!0),(0,E.P4)(p).then((function(e){j(e),R(!1)}))}),[p]);var D=p.length-Z.length;return r().createElement(i.u,{variant:"small",isOpen:n.isUnassignSystemsModalOpen,title:o.formatMessage(f.Z.textUnassignSystemsTitle),onClose:T,titleIconVariant:"warning",actions:[r().createElement(c.zx,{key:"confirm",variant:"danger",onClick:k,isDisabled:I||0===Z.length},o.formatMessage(f.Z.labelsRemove)),r().createElement(c.zx,{key:"cancel",variant:"link",onClick:T},o.formatMessage(f.Z.labelsCancel))]},r().createElement(u.r,{hasGutter:!0},I?r().createElement(d.O,null):r().createElement(a.Fragment,null,0===Z.length&&(0,E.Hd)("textUnassignSystemsNoAssignedSystems",Z.length,o),Z.length>0&&(0,E.Hd)("textUnassignSystemsStatement",Z.length,o),Z.length>0&&D>0&&(0,E.Hd)("textUnassignSystemsWarning",D,o))))};O.propTypes={intl:o().any,setUnassignSystemsModalOpen:o().func,unassignSystemsModalState:o().object};const P=(0,p.ZP)(O)},55485:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var s=n(43297),a=n.n(s),r=n(45697),l=n.n(r),o=n(22663),i=function(e){var t=e.data,n=e.setRemediationOpen;return a().createElement(o.Z,{appName:"remediations",module:"./RemediationWizard",setOpen:n,fallback:a().createElement("span",null),data:t})};i.propTypes={data:l().object,setRemediationOpen:l().func};const c=i},79812:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ee});var s=n(43297),a=n.n(s),r=n(30893),l=n(49642),o=n(13784),i=n(32132),c=n(55140),u=n(29439),d=n(14748),p=n(93942),f=n(52579),m=n(9557),y=n(59751),v=n(5391),g=n(58684),h=n(93433),b=n(68778),S=n(79799),E=n(69957),O=n(45697),P=n.n(O),Z=n(70),j=n(47173),w=n(50383),C=n(32203),I=n(50693),R=n(16475),x=n(62394),T=n(28191),k=n(92298),D=n(11220),L=function(e){var t=e.title,n=e.color,s=e.Icon,r=e.value,l=e.filter,o=e.apply;return a().createElement(C.Z,{isCompact:!0,isFullHeight:!0},a().createElement(Z.l,{style:{marginTop:"0px"}},t),a().createElement(x.e,{className:"fonst-size-sm"},a().createElement(T.k,{flex:{default:"inlineFlex"},style:{flexWrap:"nowrap"}},a().createElement(k.B,{spacer:{default:"spacerMd"},alignSelf:{default:"alignSelfCenter"}},a().createElement(s,{color:n,size:"md"})),a().createElement(k.B,{spacer:{default:"spacerNone"}},void 0===r&&a().createElement(w.O,{width:"24px"})||a().createElement(j.zx,{variant:"link",onClick:function(){return o(l)},className:"patch-status-report-text"},r)))))},M=function(e){var t,n,s,l=e.apply,o=e.queryParams,c=a().useState({}),f=(0,u.Z)(c,2),m=f[0],y=f[1],v=(0,p.v9)((function(e){return e.GlobalFilterStore})),g=v.selectedTags,O=v.selectedGlobalTags,P=v.systemProfile;return a().useEffect((function(){!function(){y({});try{var e;(0,D.lc)({filter:{os:null==o||null===(e=o.filter)||void 0===e?void 0:e.os},selectedTags:[].concat((0,h.Z)(g),(0,h.Z)(O)),systemProfile:P,limit:1,"filter[stale]":"in:true,false"}).then((function(e){var t;y(null===(t=e.meta)||void 0===t?void 0:t.subtotals)}))}catch(e){[]}}()}),[null==o||null===(t=o.filter)||void 0===t||null===(n=t.os)||void 0===n?void 0:n.length,void 0!==(null==o||null===(s=o.filter)||void 0===s?void 0:s.os),null==g?void 0:g.length,void 0!==g,null==O?void 0:O.length,void 0!==O,P,void 0!==(null==o?void 0:o.subtotals)]),a().createElement(d.ZP,{style:{paddingBottom:0}},a().createElement(I.r,{hasGutter:!0,span:12},a().createElement(R.P,{lg:3,md:4},a().createElement(L,{title:i.N.formatMessage(r.Z.labelsStatusSystemsUpToDate),Icon:b.ZP,color:"var(--pf-global--success-color--100)",value:null==m?void 0:m.patched,apply:l,filter:{filter:{packages_updatable:"eq:0"}}})),a().createElement(R.P,{lg:3,md:4},a().createElement(L,{title:i.N.formatMessage(r.Z.labelsStatusSystemsWithPatchesAvailable),Icon:S.ZP,color:"var(--pf-global--primary-color--100)",value:null==m?void 0:m.unpatched,apply:l,filter:{filter:{packages_updatable:"gt:0"}}})),a().createElement(R.P,{lg:3,md:4},a().createElement(L,{title:i.N.formatMessage(r.Z.labelsStatusStaleSystems),Icon:E.ZP,color:"var(--pf-global--warning-color--100)",value:null==m?void 0:m.stale,apply:l,filter:{filter:{stale:!0}}}))))};L.propTypes={title:P().string,Icon:P().elementType,value:P().number,color:P().string,apply:P().func,filter:P().object},M.propTypes={apply:P().func,queryParams:P().object};const N=M;var _=n(97804),F=n(55485),A=n(4942),U=n(75863),H=n(33739),q=n(7322),z=n(5747),B=n(53074),G=n(42154),W=n(97779),$=n(95249);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){(0,A.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=function(e){var t=e.apply,n=e.patchSetState,l=e.openAssignSystemsModal,c=e.openUnassignSystemsModal,d=e.setSearchParams,f=e.activateRemediationModal,h=e.decodedParams,b=(0,p.oR)(),S=(0,s.useRef)(null),E=(0,p.I0)(),O=(0,s.useState)(!1),P=(0,u.Z)(O,2),Z=P[0],j=P[1],w=(0,p.v9)((function(e){var t=e.entities;return(null==t?void 0:t.rows)||[]}),p.wU),C=(0,p.v9)((function(e){var t=e.entities;return(null==t?void 0:t.total)||0})),I=(0,p.v9)((function(e){var t=e.entities;return(null==t?void 0:t.selectedRows)||[]})),R=(0,p.v9)((function(e){var t=e.SystemsStore;return null==t?void 0:t.areAllSelected})),x=(0,p.v9)((function(e){var t=e.SystemsStore;return(null==t?void 0:t.queryParams)||{}})),T=(0,$.c$)(["patch:*:*","patch:template:write"]).hasAccess,k=x.systemProfile,L=x.selectedTags,M=x.filter,N=x.search,_=x.page,F=x.perPage,A=x.sort,Y=(0,y.j5)(K({search:N},M),t,o.hb),V=(0,u.Z)(Y,1)[0],J=(0,G.Pf)(N,M,t),Q=(0,G.Fy)(M,N,V),X=(0,y.ry)(w,I,{endpoint:y.cB.systems,queryParams:x,selectionDispatcher:m.i2});(0,s.useEffect)((function(){var e;n.shouldRefresh&&(X("none"),null==S||null===(e=S.current)||void 0===e||e.onRefreshData({timestamp:Date.now()}))}),[n.shouldRefresh]);var ee=(0,y.AR)("systems",x,{csv:D.wI,json:D.TW},E),te=(0,y.U)(D.lc,t,{},d,(function(e){E((0,m._e)(e))}),(function(e){E((0,m.vl)(e))})),ne=(0,y.fN)(I,j,"systems",R),se=I&&(0,v.Qy)(I).length,ae=(0,y.Pz)(se,X,{total_items:C},w);return a().createElement(H.Z,{ref:S,isFullView:!0,autoRefresh:!0,initialLoading:!0,hideFilters:{all:!0,tags:!1,hostGroupFilter:!1,operatingSystem:!1},columns:function(e){return(0,G.gB)(e,g.Fs)},showTags:!0,customFilters:{patchParams:{search:N,filter:M,systemProfile:k,selectedTags:L}},paginationProps:{isDisabled:0===C},onLoad:function(e){var t=e.mergeWithEntities;b.replaceReducer((0,W.UY)(K(K({},q.E),t((0,z.Kq)((0,g.Fs)(),z.G),(0,v.fm)({page:_,perPage:F,sort:A,search:N},h)))))},getEntities:te,tableProps:{actionResolver:function(e){return(0,g.Sb)(f,l,c,e,T)},canSelectAll:!1,variant:U.B.compact,className:"patchCompactInventory",isStickyHeader:!0},bulkSelect:ae,exportConfig:{isDisabled:0===C,onSelect:ee},actionsConfig:{actions:[a().createElement(B.Z,{key:"remediate-multiple-systems",remediationProvider:ne,isDisabled:0===(0,v.Qy)(I).length||Z,isLoading:Z}),{key:"assign-multiple-systems",label:i.N.formatMessage(r.Z.titlesTemplateAssign),onClick:function(){return l(I)},props:{isDisabled:!T||0===se}},{key:"remove-multiple-systems",label:i.N.formatMessage(r.Z.titlesTemplateRemoveMultipleButton),onClick:function(){return c((0,v.LI)(I))},props:{isDisabled:!T||0===se}}]},filterConfig:J,activeFiltersConfig:Q})};V.propTypes={apply:P().func.isRequired,patchSetState:P().object.isRequired,openAssignSystemsModal:P().func.isRequired,openUnassignSystemsModal:P().func.isRequired,setSearchParams:P().func.isRequired,activateRemediationModal:P().func.isRequired,decodedParams:P().func.isRequired};const J=V;var Q=n(62012);const X=function(){var e=(0,Q.useSearchParams)(),t=(0,u.Z)(e,2),n=t[0],r=t[1],l=(0,p.I0)(),o=(0,s.useState)(!1),i=(0,u.Z)(o,2),c=i[0],h=i[1],b=(0,v.PZ)("?"+n.toString()),S=(0,s.useState)([]),E=(0,u.Z)(S,2),O=E[0],P=E[1],Z=(0,p.v9)((function(e){var t=e.entities;return(null==t?void 0:t.selectedRows)||[]})),j=(0,p.v9)((function(e){var t=e.entities;return(null==t?void 0:t.status)||{}})),w=j.hasError,C=j.code,I=(0,p.v9)((function(e){var t=e.SystemsStore;return(null==t?void 0:t.metadata)||{}})),R=(0,p.v9)((function(e){var t=e.SystemsStore;return(null==t?void 0:t.queryParams)||{}})),x=function(e){l((0,m.SF)(e))};(0,s.useEffect)((function(){return x(b),function(){return l((0,m.RV)())}}),[]);var T=(0,y.rh)(Z),k=T.patchSetState,D=T.setPatchSetState,L=T.openUnassignSystemsModal,M=T.openAssignSystemsModal,A=(0,g.vT)(P,h);return w||!1===(null==I?void 0:I.has_systems)?a().createElement(f.Z,{code:C,metadata:I}):a().createElement(a().Fragment,null,a().createElement(N,{apply:x,queryParams:R}),a().createElement(_.Z,{patchSetState:k,setPatchSetState:D}),c&&a().createElement(F.Z,{data:O,isRemediationOpen:!0,setRemediationOpen:h})||null,a().createElement(d.ZP,null,a().createElement(J,{apply:x,patchSetState:k,openAssignSystemsModal:M,openUnassignSystemsModal:L,setSearchParams:r,activateRemediationModal:A,decodedParams:v.PZ})))},ee=function(){var e=(0,c.Z)();return(0,s.useEffect)((function(){e.updateDocumentTitle("".concat(i.N.formatMessage(r.Z.titlesSystems)).concat(o.JD))}),[e,i.N]),a().createElement(a().Fragment,null,a().createElement(l.Z,{title:i.N.formatMessage(r.Z.titlesPatchSystems),headerOUIA:"systems"}),a().createElement(X,null))}},5747:(e,t,n)=>{"use strict";n.d(t,{G:()=>d,Kq:()=>y,OC:()=>p,PD:()=>m,lu:()=>f});var s=n(29439),a=n(4942),r=n(36248),l=n(48881),o=n(22789);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={rows:[],entities:[],selectedRows:{},status:{},page:1,perPage:20,metadata:{limit:20,offset:0,total_items:0}},d=function(e,t){return t.loaded?c(c({},t),{},{status:{isLoading:!1,hasError:!1},rows:(0,r.Yk)(t.rows,t.selectedRows)}):t},p=function(e,t,n){if("SELECT_ENTITY"===n){var a=t.packageEvraCache;void 0===a&&(a={},t.rows.forEach((function(e){return a[e.id]=e.available_evra})),t.packageEvraCache=a),t.selectedRows=t.selectedRows?Object.fromEntries(Object.entries(t.selectedRows).map((function(e){var t=(0,s.Z)(e,2),n=t[0],r=t[1];return!0===r?[n,a[n]]:[n,r]}))):t.selectedRows}return"LOAD_ENTITIES_FULFILLED"===n&&(t.packageEvraCache=void 0),t.loaded?c(c({},t),{},{columns:e,rows:(0,r.GF)(t.rows,t.selectedRows)}):t},f=function(e,t){return t.loaded?c(c({},t),{},{status:{isLoading:!1,hasError:!1},rows:(0,r.dn)(t.rows,t.selectedRows)}):t},m=function(e,t){return t.loaded?c(c({},t),{},{status:{isLoading:!1,hasError:!1},rows:(0,r.mf)(t.rows,t.selectedRows)}):t},y=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,s=arguments.length>1?arguments[1]:void 0,a=c({},n);switch(s.type){case"LOAD_ENTITIES_FULFILLED":return t(e,a,s.type);case"LOAD_ENTITIES_PENDING":return a.status={isLoading:!0,hasError:!1},a;case"LOAD_ENTITIES_REJECTED":return(0,l.PW)(a,s);case"SELECT_ENTITY":var r=(0,l.hd)(a,s);return t(e,r,s.type);case o.sq:return u;default:return n}}}},80598:()=>{}}]);
//# sourceMappingURL=../sourcemaps/Systems.92d14e79244dae5025608f1d3c606a8c.js.map