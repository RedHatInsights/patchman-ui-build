"use strict";(self.webpackChunkpatch=self.webpackChunkpatch||[]).push([[9603],{39591:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(85893),o=n(28416);const r=function(e){var t=e.component,n=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]])}return n}(e,["component"]);return(0,o.useEffect)((function(){console.error("Unable to load inventory component. Failed to load ".concat(t,"."),n)}),[]),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{children:"Unable to load inventory component"}),(0,s.jsxs)("h2",{children:["Failed to load ",t]}),(0,s.jsx)("code",{children:"More info can be found in browser console output."})]})}},33739:(e,t,n)=>{n.d(t,{Z:()=>v});var s=n(85893),o=n(28416),r=n.n(o),i=n(45697),a=n.n(i),l=n(65771),c=n(93942),u=n(52643),d=n(83133),p=n(39591),m=n(93967),f=n.n(m),h=n(72126),g=function(){return g=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},g.apply(this,arguments)},b=function(e){var t=(0,c.oR)(),n=e.component;return(0,s.jsx)(n,{className:f()(e.className,"inventory"),children:(0,s.jsx)(o.Suspense,{fallback:e.fallback,children:(0,s.jsx)(l.ScalprumComponent,g({history:e.history,store:t,appName:"inventory",module:"./InventoryTable",scope:"inventory",ErrorComponent:(0,s.jsx)(p.Z,g({component:"InventoryDetailHead"},e)),ref:e.innerRef},e))})})};b.propTypes={fallback:a().node,innerRef:a().object,component:a().string,className:a().string,history:a().object};var y=r().forwardRef((function(e,t){return(0,s.jsx)(b,g({innerRef:t},e))}));y.propTypes={fallback:a().node,component:a().string,className:a().string},y.defaultProps={fallback:(0,s.jsx)(u.b,{className:"pf-v5-u-p-lg",children:(0,s.jsx)(d.$,{size:"xl"})}),component:"section"};const v=r().forwardRef((function(e,t){return(0,s.jsx)(h.Z,g({innerRef:t,Component:y},e))}))},72126:(e,t,n)=>{n.d(t,{Z:()=>p});var s=n(85893),o=n(28416),r=n.n(o),i=n(62012),a=n(55140),l=function(){return l=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},l.apply(this,arguments)},c=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]])}return n},u=function(e){var t=e.Component,n=c(e,["Component"]),o=i.useHistory();return(0,s.jsx)(t,l({history:o},n))},d=function(e){var t=e.Component,n=c(e,["Component"]),o=(0,a.Z)().chromeHistory;return(0,s.jsx)(t,l({history:o},n))};const p=r().forwardRef((function(e,t){var n=e.Component,r=c(e,["Component"]),a=(0,o.useMemo)((function(){return"function"==typeof i.useHistory?u:d}),[n,r]);return(0,s.jsx)(a,l({innerRef:t,Component:n},r))}))},97648:(e,t,n)=>{n.d(t,{Z:()=>f});var s=n(29439),o=n(28416),r=n.n(o),i=n(45697),a=n.n(i),l=n(47173),c=n(93149),u=n(80236),d=n(30893),p=n(32132),m=function(e){var t=e.isModalOpen,n=e.setModalOpen,i=e.templateName,a=e.onConfirm,m=(0,o.useState)(!1),f=(0,s.Z)(m,2),h=f[0],g=f[1],b=function(){n(!1),g(!1)};return r().createElement(u.u,{title:p.N.formatMessage(d.Z.titlesTemplateDeleteModalTitle),titleIconVariant:"warning",isOpen:t,onClose:b,variant:"small",actions:[r().createElement(l.zx,{key:"confirm",variant:"danger",onClick:function(){b(),a()},isDisabled:!h},p.N.formatMessage(d.Z.labelsDelete)),r().createElement(l.zx,{key:"cancel",variant:"link",onClick:b},p.N.formatMessage(d.Z.labelsCancel))]},p.N.formatMessage(d.Z.titlesTemplateDeleteModalText,{templateName:i,b:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r().createElement("b",null,t)}}),r().createElement(c.X,{className:"pf-v5-u-mt-md",isChecked:h,checked:h,onChange:function(e,t){return g(t)},label:p.N.formatMessage(d.Z.titlesTemplateDeleteModalCheckbox),id:"template-delete-modal-checkbox"}))};m.propTypes={isModalOpen:a().bool,setModalOpen:a().func,templateName:a().string,onConfirm:a().func};const f=m},28481:(e,t,n)=>{n.d(t,{Hd:()=>f,P4:()=>p,ol:()=>m});var s=n(4942),o=n(28416),r=n.n(o),i=n(16475),a=n(30893),l=n(11220);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e,t,n,s){return n((function(e){return(0,l.dk)("/ids/systems",e)}),u(u({},e),{},{filter:{stale:[!0,!1]}}),s,100).then((function(e){var n=e.flatMap((function(e){return e.data}));return t.filter((function(e){return null==n?void 0:n.some((function(t){return t.id===e}))}))}))},p=function(e,t,n){return d({"filter[baseline_name]":"neq:"},e,t,n)},m=function(e,t,n){return d({"filter[satellite_managed]":"false"},e,t,n)},f=function(e,t,n){return r().createElement(i.P,null,n.formatMessage(a.Z[e],{systemsCount:t,b:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r().createElement("b",null,t)}}))}},44118:(e,t,n)=>{n.d(t,{Z:()=>D});var s=n(29439),o=n(28416),r=n.n(o),i=n(45697),a=n.n(i),l=n(80236),c=n(47173),u=n(50693),d=n(38386),p=n(74806),m=n(30893),f=n(15861),h=n(64687),g=n.n(h),b=n(93942),y=n(83215),v=n(11220),E=n(20677),O=n(28481),C=n(59751),w=function(e){var t=e.unassignSystemsModalState,n=void 0===t?{}:t,i=e.setUnassignSystemsModalOpen,a=e.intl,p=e.totalItems,h=n.systemsIDs,w=n.isUnassignSystemsModalOpen,D=(0,o.useState)([]),T=(0,s.Z)(D,2),S=T[0],P=T[1],R=(0,o.useState)(!0),x=(0,s.Z)(R,2),I=x[0],N=x[1],j=(0,C.qS)().fetchBatched,k=function(e){i({isUnassignSystemsModalOpen:!w,systemsIDs:[],shouldRefresh:e})},M=function(){k(!1)},Z=function(e,t){var n=(0,b.I0)(),s=function(){var s=(0,f.Z)(g().mark((function s(){var o;return g().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,v.C9)({inventory_ids:t});case 2:o=s.sent,e(!0),200===o.status?n((0,y.wN)((0,E.$z)((null==t?void 0:t.length)||0).success)):n((0,y.wN)((0,E.$z)().failure));case 5:case"end":return s.stop()}}),s)})));return function(){return s.apply(this,arguments)}}();return s}(k,S);(0,o.useEffect)((function(){N(!0),(0,O.P4)(h,j,p).then((function(e){P(e),N(!1)}))}),[h]);var A=h.length-S.length;return r().createElement(l.u,{variant:"small",isOpen:n.isUnassignSystemsModalOpen,title:a.formatMessage(m.Z.textUnassignSystemsTitle),onClose:M,titleIconVariant:"warning",actions:[r().createElement(c.zx,{key:"confirm",variant:"danger",onClick:Z,isDisabled:I||0===S.length},a.formatMessage(m.Z.labelsRemove)),r().createElement(c.zx,{key:"cancel",variant:"link",onClick:M},a.formatMessage(m.Z.labelsCancel))],"data-testid":"unassign-systems-modal"},r().createElement(u.r,{hasGutter:!0},I?r().createElement(d.O,null):r().createElement(o.Fragment,null,0===S.length&&(0,O.Hd)("textUnassignSystemsNoAssignedSystems",S.length,a),S.length>0&&(0,O.Hd)("textUnassignSystemsStatement",S.length,a),S.length>0&&A>0&&(0,O.Hd)("textUnassignSystemsWarning",A,a))))};w.propTypes={intl:a().any,setUnassignSystemsModalOpen:a().func,unassignSystemsModalState:a().object,totalItems:a().number};const D=(0,p.ZP)(w)},8421:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ae});var s=n(4942),o=n(29439),r=n(14748),i=n(28416),a=n.n(i),l=n(86896),c=n(93942),u=n(62012),d=n(30893),p=n(49642),m=n(14240),f=n(59751),h=n(9557),g=n(52643),b=n(38386),y=n(83133),v=n(68340),E=n(68774),O=n(35224),C=n(65353),w=n(12744),D=n(41435),T=n(62472);const S=e=>{var{children:t,className:n,component:s="a",isDisabled:o=!1,isAriaDisabled:r=!1,isPlainText:a=!1,href:l,tooltip:c,tooltipProps:u={},listItemClassName:d,onClick:p,ref:m,additionalChild:f,customChild:h,tabIndex:g=-1,icon:b=null,autoFocus:y,description:v=null,styleChildren:E,ouiaId:O,ouiaSafe:P}=e,R=(0,C.__rest)(e,["children","className","component","isDisabled","isAriaDisabled","isPlainText","href","tooltip","tooltipProps","listItemClassName","onClick","ref","additionalChild","customChild","tabIndex","icon","autoFocus","description","styleChildren","ouiaId","ouiaSafe"]);const x=(0,T.S$)(S.displayName,O,P);return i.createElement(D.e4.Consumer,null,(e=>i.createElement(w.n,Object.assign({context:e,role:"menuitem",tabIndex:g,className:n,component:s,isDisabled:o,isAriaDisabled:r,isPlainText:a,href:l,tooltip:c,tooltipProps:u,listItemClassName:d,onClick:p,additionalChild:f,customChild:h,icon:b,autoFocus:y,styleChildren:E,description:v},x,R),t)))};S.displayName="DropdownItem";var P=n(73699),R=n(38296),x=n(31051),I=n(80164);class N extends i.Component{constructor(){super(...arguments),this.refsCollection=[],this.componentWillUnmount=()=>{document.removeEventListener("keydown",this.onKeyDown)},this.onKeyDown=e=>{if(!this.props.isOpen||!Array.from(document.activeElement.classList).find((e=>N.validToggleClasses.concat(this.context.toggleClass).includes(e))))return;const t=this.refsCollection;if("ArrowDown"===e.key){const n=t.find((e=>e&&e[0]&&!e[0].hasAttribute("disabled")));N.focusFirstRef(n),e.stopPropagation()}else if("ArrowUp"===e.key){const n=t.length,s=t.slice(n-1,n),o=s&&s[0];N.focusFirstRef(o),e.stopPropagation()}},this.childKeyHandler=(e,t,n,s=!1)=>{(0,I.qG)(e,t,n,this.refsCollection,this.props.isGrouped?this.refsCollection:i.Children.toArray(this.props.children),s)},this.sendRef=(e,t,n,s)=>{this.refsCollection[e]=[],t.map(((t,n)=>{t?t.getAttribute?this.refsCollection[e][n]=s?null:t:this.refsCollection[e][n]=x.findDOMNode(t):this.refsCollection[e][n]=null}))}}componentDidMount(){document.addEventListener("keydown",this.onKeyDown);const{autoFocus:e}=this.props;if(e){const e=this.refsCollection.find((e=>e&&e[0]&&!e[0].hasAttribute("disabled"))),t=e&&e[0];t&&t.focus&&setTimeout((()=>t.focus()))}}shouldComponentUpdate(){return this.refsCollection=[],!0}extendChildren(){const{children:e,isGrouped:t}=this.props;if(t){let t=0;return i.Children.map(e,(e=>{const n=e,s={};return n.props&&n.props.children&&(Array.isArray(n.props.children)?s.children=i.Children.map(n.props.children,(e=>i.cloneElement(e,{index:t++}))):s.children=i.cloneElement(n.props.children,{index:t++})),i.cloneElement(n,s)}))}return i.Children.map(e,((e,t)=>i.cloneElement(e,{index:t})))}render(){const e=this.props,{className:t,isOpen:n,position:s,children:o,component:r,isGrouped:a,setMenuComponentRef:l,alignments:c}=e,u=(0,C.__rest)(e,["className","isOpen","position","children","component","isGrouped","setMenuComponentRef","alignments"]);return i.createElement(D.e4.Provider,{value:{keyHandler:this.childKeyHandler,sendRef:this.sendRef}},"div"===r?i.createElement(D.Dl.Consumer,null,(({onSelect:e,menuClass:r})=>i.createElement("div",{className:(0,R.css)(r,s===D.ir.right&&P.default.modifiers.alignRight,(0,I.wt)(c,P.default,"align-"),t),hidden:!n,onClick:t=>e&&e(t),ref:l},o))):a&&i.createElement(D.Dl.Consumer,null,(({menuClass:e,menuComponent:o})=>{const r=o||"div";return i.createElement(r,Object.assign({},u,{className:(0,R.css)(e,s===D.ir.right&&P.default.modifiers.alignRight,(0,I.wt)(c,P.default,"align-"),t),hidden:!n,role:"menu",ref:l}),this.extendChildren())}))||i.createElement(D.Dl.Consumer,null,(({menuClass:e,menuComponent:o})=>{const a=o||r;return i.createElement(a,Object.assign({},u,{className:(0,R.css)(e,s===D.ir.right&&P.default.modifiers.alignRight,(0,I.wt)(c,P.default,"align-"),t),hidden:!n,role:"menu",ref:l}),this.extendChildren())})))}}N.displayName="DropdownMenu",N.defaultProps={className:"",isOpen:!0,autoFocus:!0,position:D.ir.left,component:"ul",isGrouped:!1,setMenuComponentRef:null},N.validToggleClasses=[P.default.dropdownToggle,P.default.dropdownToggleButton],N.focusFirstRef=e=>{e&&e[0]&&e[0].focus&&setTimeout((()=>e[0].focus()))},N.contextType=D.Dl;var j=n(69121);class k extends i.Component{constructor(e){super(e),this.openedOnEnter=!1,this.baseComponentRef=i.createRef(),this.menuComponentRef=i.createRef(),this.onEnter=()=>{this.openedOnEnter=!0},this.setMenuComponentRef=e=>{this.menuComponentRef=e},this.getMenuComponentRef=()=>this.menuComponentRef,e.dropdownItems&&e.dropdownItems.length>0&&e.children&&console.error("Children and dropdownItems props have been provided. Only the dropdownItems prop items will be rendered")}componentDidUpdate(){this.props.isOpen||(this.openedOnEnter=!1)}render(){const e=this.props,{children:t,className:n,direction:s,dropdownItems:o,isOpen:r,isPlain:a,isText:l,isGrouped:c,isFullHeight:u,onSelect:d,position:p,toggle:m,autoFocus:f,minWidth:h,menuAppendTo:g,isFlipEnabled:b,zIndex:y}=e,v=(0,C.__rest)(e,["children","className","direction","dropdownItems","isOpen","isPlain","isText","isGrouped","isFullHeight","onSelect","position","toggle","autoFocus","minWidth","menuAppendTo","isFlipEnabled","zIndex"]),E=m.props.id||"pf-dropdown-toggle-id-"+k.currentId++;let O,w,S=!1;o&&o.length>0?(O="ul",w=o,S=!0):(O="div",w=i.Children.toArray(t));const x=i.createRef(),I=this.openedOnEnter,M=b&&"inline"!==g;return i.createElement(D.Dl.Consumer,null,(({baseClass:e,baseComponent:t,id:o,ouiaId:d,ouiaComponentType:b,ouiaSafe:C,alignments:k})=>{const Z=t,A=i.createElement(N,{className:(0,R.css)(M&&P.default.modifiers.static),setMenuComponentRef:this.setMenuComponentRef,component:O,isOpen:r,position:p,"aria-labelledby":o?`${o}-toggle`:E,isGrouped:c,autoFocus:I&&f,alignments:k},w),F=i.createElement("div",{className:(0,R.css)(e,s===D.dw.up&&P.default.modifiers.top,p===D.ir.right&&P.default.modifiers.alignRight,r&&P.default.modifiers.expanded,n),ref:x},r&&A),_=i.createElement(Z,Object.assign({},v,{className:(0,R.css)(e,s===D.dw.up&&P.default.modifiers.top,p===D.ir.right&&P.default.modifiers.alignRight,r&&P.default.modifiers.expanded,u&&P.default.modifiers.fullHeight,n),ref:this.baseComponentRef},(0,T.dp)(b,d,C)),i.Children.map(m,(e=>i.cloneElement(e,{parentRef:this.baseComponentRef,getMenuRef:this.getMenuComponentRef,isOpen:r,id:E,isPlain:a,isText:l,"aria-haspopup":S,onEnter:()=>{this.onEnter(),e.props.onEnter&&e.props.onEnter()}}))),"inline"===g&&r&&A);return"inline"===g?_:i.createElement(j.r,{trigger:_,triggerRef:this.baseComponentRef,popper:F,popperRef:x,direction:s,position:p,appendTo:"parent"===g?(()=>this.baseComponentRef&&this.baseComponentRef.current?this.baseComponentRef.current.parentElement:null)():g,isVisible:r,zIndex:y,minWidth:void 0!==h?h:"revert"})}))}}k.displayName="DropdownWithContext",k.currentId=0,k.defaultProps={className:"",dropdownItems:[],isOpen:!1,isPlain:!1,isText:!1,isGrouped:!1,position:D.ir.left,direction:D.dw.down,onSelect:()=>{},autoFocus:!0,menuAppendTo:"inline",isFlipEnabled:!0};const M=e=>{var{onSelect:t,ref:n,ouiaId:s,ouiaSafe:o,alignments:r,contextProps:a,minWidth:l,menuAppendTo:c="inline",isFlipEnabled:u=!0,zIndex:d=9999}=e,p=(0,C.__rest)(e,["onSelect","ref","ouiaId","ouiaSafe","alignments","contextProps","minWidth","menuAppendTo","isFlipEnabled","zIndex"]);return i.createElement(D.Dl.Provider,{value:Object.assign({onSelect:e=>t&&t(e),toggleTextClass:P.default.dropdownToggleText,toggleIconClass:P.default.dropdownToggleImage,toggleIndicatorClass:P.default.dropdownToggleIcon,menuClass:P.default.dropdownMenu,itemClass:P.default.dropdownMenuItem,toggleClass:P.default.dropdownToggle,baseClass:P.default.dropdown,baseComponent:"div",sectionClass:P.default.dropdownGroup,sectionTitleClass:P.default.dropdownGroupTitle,sectionComponent:"section",disabledClass:P.default.modifiers.disabled,plainTextClass:P.default.modifiers.text,ouiaId:(0,T.Z1)(M.displayName,s),ouiaSafe:o,ouiaComponentType:M.displayName,alignments:r},a)},i.createElement(k,Object.assign({menuAppendTo:c,isFlipEnabled:u,zIndex:d,minWidth:l},p)))};M.displayName="Dropdown";var Z=n(5964),A=n(1774);const F={default:"",primary:P.default.modifiers.primary,secondary:P.default.modifiers.secondary};class _ extends i.Component{constructor(){super(...arguments),this.buttonRef=i.createRef(),this.componentDidMount=()=>{document.addEventListener("click",this.onDocClick),document.addEventListener("touchstart",this.onDocClick),document.addEventListener("keydown",this.onEscPress)},this.componentWillUnmount=()=>{document.removeEventListener("click",this.onDocClick),document.removeEventListener("touchstart",this.onDocClick),document.removeEventListener("keydown",this.onEscPress)},this.onDocClick=e=>{const{isOpen:t,parentRef:n,onToggle:s,getMenuRef:o}=this.props,r=o&&o(),i=n&&n.current&&n.current.contains(e.target),a=r&&r.contains&&r.contains(e.target);!t||i||a||null==s||s(e,!1)},this.onEscPress=e=>{var t,n,s;const{parentRef:o,getMenuRef:r}=this.props,i=r&&r(),a=o&&o.current&&o.current.contains(e.target),l=i&&i.contains&&i.contains(e.target);!this.props.isOpen||e.key!==A.yu.Escape&&"Tab"!==e.key||!a&&!l||(null===(n=(t=this.props).onToggle)||void 0===n||n.call(t,e,!1),null===(s=this.buttonRef.current)||void 0===s||s.focus())},this.onKeyDown=e=>{var t,n,s,o,r,i;("Tab"!==e.key||this.props.isOpen)&&("Tab"!==e.key&&"Enter"!==e.key&&" "!==e.key||!this.props.isOpen?"Enter"!==e.key&&" "!==e.key||this.props.isOpen||(this.props.bubbleEvent||e.stopPropagation(),e.preventDefault(),null===(o=(s=this.props).onToggle)||void 0===o||o.call(s,e,!this.props.isOpen),null===(i=(r=this.props).onEnter)||void 0===i||i.call(r)):(this.props.bubbleEvent||e.stopPropagation(),e.preventDefault(),null===(n=(t=this.props).onToggle)||void 0===n||n.call(t,e,!this.props.isOpen)))}}render(){const e=this.props,{className:t,children:n,isOpen:s,isDisabled:o,isPlain:r,isText:a,isSplitButton:l,toggleVariant:c,onToggle:u,"aria-haspopup":d,isActive:p,bubbleEvent:m,onEnter:f,parentRef:h,getMenuRef:g,id:b,type:y}=e,v=(0,C.__rest)(e,["className","children","isOpen","isDisabled","isPlain","isText","isSplitButton","toggleVariant","onToggle","aria-haspopup","isActive","bubbleEvent","onEnter","parentRef","getMenuRef","id","type"]);return i.createElement(D.Dl.Consumer,null,(({toggleClass:e})=>i.createElement("button",Object.assign({},v,{id:b,ref:this.buttonRef,className:(0,R.css)(l?P.default.dropdownToggleButton:e||P.default.dropdownToggle,p&&P.default.modifiers.active,r&&P.default.modifiers.plain,a&&P.default.modifiers.text,c&&F[c],t),type:y||"button",onClick:e=>null==u?void 0:u(e,!s),"aria-expanded":s,"aria-haspopup":d,onKeyDown:e=>this.onKeyDown(e),disabled:o}),n)))}}_.displayName="Toggle",_.defaultProps={className:"",isOpen:!1,isActive:!1,isDisabled:!1,isPlain:!1,isText:!1,isSplitButton:!1,onToggle:()=>{},onEnter:()=>{},bubbleEvent:!1};const L=e=>{var{id:t="",children:n=null,className:s="",isOpen:o=!1,parentRef:r=null,getMenuRef:a=null,isDisabled:l=!1,isPlain:c=!1,isText:u=!1,toggleVariant:d="default",isActive:p=!1,onToggle:m=((e,t)=>{}),icon:f=null,toggleIndicator:h=Z.ZP,splitButtonItems:g,splitButtonVariant:b="checkbox","aria-haspopup":y,ouiaId:v,ouiaSafe:E,ref:O}=e,w=(0,C.__rest)(e,["id","children","className","isOpen","parentRef","getMenuRef","isDisabled","isPlain","isText","toggleVariant","isActive","onToggle","icon","toggleIndicator","splitButtonItems","splitButtonVariant","aria-haspopup","ouiaId","ouiaSafe","ref"]);const S=(0,T.S$)(L.displayName,v,E),x=i.createElement(D.Dl.Consumer,null,(({toggleTextClass:e,toggleIndicatorClass:b,toggleIconClass:v})=>i.createElement(_,Object.assign({},w,{id:t,className:s,isOpen:o,parentRef:r,getMenuRef:a,isActive:p,isDisabled:l,isPlain:c,isText:u,toggleVariant:d,onToggle:m,"aria-haspopup":y},S,g&&{isSplitButton:!0,"aria-label":w["aria-label"]||"Select"}),f&&i.createElement("span",{className:(0,R.css)(v)},f),n&&i.createElement("span",{className:h&&(0,R.css)(e)},n),h&&i.createElement("span",{className:(0,R.css)(!g&&b)},i.createElement(h,null)))));return g?i.createElement("div",{className:(0,R.css)(P.default.dropdownToggle,P.default.modifiers.splitButton,"action"===b&&P.default.modifiers.action,"primary"===d&&"action"===b&&P.default.modifiers.primary,"secondary"===d&&"action"===b&&P.default.modifiers.secondary,l&&P.default.modifiers.disabled)},g,x):x};L.displayName="DropdownToggle";var U=n(97648),B=n(11220),H=n(83215),z=n(13784),W=n(52579),G=n(5391),K=n(63135),V=n(20677),$=n(95249),q=n(44118),Y=n(75863),J=n(33739),Q=n(42154),X=n(97779),ee=n(7322),te=n(5747),ne=n(58684),se=n(35240),oe=n(55140);function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ae=function(){var e=(0,l.Z)(),t=(0,c.I0)(),n=(0,oe.Z)(),s=(0,u.useSearchParams)(),C=(0,o.Z)(s,2),w=C[0],T=C[1],P=(0,u.useNavigate)(),R=(0,c.oR)(),x=(0,i.useRef)(null),I=(0,u.useParams)().templateName,N=a().useState(!0),j=(0,o.Z)(N,2),k=j[0],Z=j[1],A=(0,i.useState)(!1),F=(0,o.Z)(A,2),_=F[0],re=F[1],ae=(0,i.useState)(!1),le=(0,o.Z)(ae,2),ce=le[0],ue=le[1],de=(0,i.useState)({isPatchSetWizardOpen:!1,isUnassignSystemsModalOpen:!1,systemsIDs:[],shouldRefresh:!1}),pe=(0,o.Z)(de,2),me=pe[0],fe=pe[1],he=(0,c.v9)((function(e){return e.PatchSetDetailStore})),ge=(0,c.v9)((function(e){var t,n,s=e.PatchSetDetailStore;return null===(t=null==s||null===(n=s.status)||void 0===n?void 0:n.isLoading)||void 0===t||t})),be=(0,c.v9)((function(e){return e.PatchSetDetailStore.status})),ye=(0,c.v9)((function(e){var t=e.entities;return(null==t?void 0:t.rows)||[]}),c.wU),ve=(0,c.v9)((function(e){var t=e.entities;return(null==t?void 0:t.selectedRows)||[]})),Ee=(0,c.v9)((function(e){var t=e.entities;return(null==t?void 0:t.status)||{}})),Oe=(0,c.v9)((function(e){var t=e.entities;return(null==t?void 0:t.total)||0})),Ce=(0,c.v9)((function(e){var t=e.PatchSetDetailSystemsStore;return(null==t?void 0:t.queryParams)||{}})),we=(0,c.v9)((function(e){var t=e.PatchSetDetailSystemsStore;return null==t?void 0:t.templateHasSystemsLoading})),De=(0,c.v9)((function(e){var t=e.PatchSetDetailSystemsStore;return null==t?void 0:t.templateHasSystems})),Te=(0,$.c$)(["patch:*:*","patch:template:write"]).hasAccess,Se=he.data.attributes.name;(0,i.useEffect)((function(){Se&&n.updateDocumentTitle("".concat(Se," - ").concat(e.formatMessage(d.Z.titlesTemplate),"\n        ").concat(z.JD))}),[n,Se]);var Pe=(0,f.ry)(ye,ve,{endpoint:f.cB.templateSystems(I),queryParams:Ce,selectionDispatcher:h.i2,totalItems:Oe}),Re=function(e){t((0,h.JP)(e))},xe=function(){fe(ie(ie({},me),{},{isPatchSetWizardOpen:!0}))};(0,i.useEffect)((function(){return t((0,h.ve)({id:I,limit:1})),function(){t((0,h.pV)()),t((0,h.RV)())}}),[]),(0,i.useEffect)((function(){var e;!0===me.shouldRefresh&&(null==x||null===(e=x.current)||void 0===e||e.onRefreshData({timestamp:Date.now()}),Pe("none"),t((0,h.Ku)(I)),fe(ie(ie({},me),{},{shouldRefresh:!1})),t((0,h.ve)({id:I,limit:1})))}),[me.shouldRefresh]),(0,f.KW)((function(){k?(Re((0,G.PZ)("?"+w.toString())),t((0,h.Ku)(I)),Z(!1)):T((0,G.R_)(Ce))}),[Ce,k]);var Ie=function(e){fe(ie(ie({},me),{},{isUnassignSystemsModalOpen:!0,systemsIDs:e}))},Ne=(0,f.U)(B.TH,Re,{id:I},T,(function(e){t((0,h.T5)(e))}),(function(e){t((0,h.vl)(e))})),je=function(e,t){return a().createElement(O.u,{key:t,content:Te||"For editing access, contact your administrator."},e)},ke=a().createElement(S,{component:"button",onClick:function(){return xe()},isDisabled:!Te},e.formatMessage(d.Z.labelsButtonEditTemplate)),Me=a().createElement(S,{component:"button",onClick:function(){return ue(!0)},isDisabled:!Te},e.formatMessage(d.Z.labelsButtonRemoveTemplate)),Ze=[Te?ke:je(ke,"edit-template"),Te?Me:je(Me,"delete-template")],Ae=(0,G.PZ)("?"+w.toString()),Fe=Ce.systemProfile,_e=Ce.selectedTags,Le=Ce.filter,Ue=Ce.search,Be=Ce.page,He=Ce.perPage,ze=Ce.sort,We=ve&&(0,G.Qy)(ve).length,Ge=(0,f.Pz)(We,Pe,{total_items:Oe},ye),Ke=(0,f.j5)(ie({search:Ue},Le),Re),Ve=(0,o.Z)(Ke,1)[0],$e=(0,Q.C5)(Ue,Re),qe=(0,Q.Fy)(Le,Ue,Ve);return null!=be&&be.hasError?a().createElement(W.Z,{code:null==be?void 0:be.code}):a().createElement(i.Fragment,null,a().createElement(U.Z,{templateName:Se,isModalOpen:ce,setModalOpen:ue,onConfirm:function(){(0,B.f_)(I).then((function(){t((0,H.wN)((0,z.D$)(Se).success)),P("../templates")})).catch((function(){t((0,H.wN)((0,z.D$)(Se).error))}))}}),me.isPatchSetWizardOpen&&a().createElement(K.Z,{systemsIDs:me.systemsIDs,setBaselineState:fe,patchSetID:I}),a().createElement(q.Z,{unassignSystemsModalState:me,setUnassignSystemsModalOpen:fe}),a().createElement(p.Z,{title:ge?a().createElement(b.O,{style:{width:300}}):Se,headerOUIA:"template-details",breadcrumbs:[{title:e.formatMessage(d.Z.templateDetailHeaderBreadcrumb),to:"/templates",isActive:!1},{title:ge?a().createElement(b.O,{style:{width:150}}):Se,isActive:!0}],actions:a().createElement(M,{position:D.ir.right,onSelect:function(){re(!1),document.getElementById("patch-set-detail-header-kebab").focus()},toggle:a().createElement(L,{id:"patch-set-detail-header-kebab",className:"pf-v5-u-mr-xl",onToggle:function(e,t){return re(t)},style:{minWidth:150}},e.formatMessage(d.Z.labelsActions)),isOpen:_,dropdownItems:Ze})},a().createElement("table",{border:"0",style:{marginTop:8}},a().createElement("tbody",null,a().createElement("tr",null,a().createElement("td",{style:{width:300}},e.formatMessage(d.Z.templateDetailTableDescription)),a().createElement("td",null,ge?a().createElement(b.O,{style:{width:300}}):he.data.attributes.description||e.formatMessage(d.Z.titlesTemplateNoDescription))),a().createElement("tr",null,a().createElement("td",null,e.formatMessage(d.Z.templateDetailTableUpToDate)),a().createElement("td",null,ge?a().createElement(b.O,{style:{width:100}}):(0,se.Un)(he.data.attributes.config.to_time))),a().createElement("tr",null,a().createElement("td",null,e.formatMessage(d.Z.templateDetailTableCreatedBy)),a().createElement("td",null,ge?a().createElement(b.O,{style:{width:100}}):he.data.attributes.creator)),a().createElement("tr",null,a().createElement("td",null,e.formatMessage(d.Z.templateDetailTablePublished)),a().createElement("td",null,ge?a().createElement(b.O,{style:{width:100}}):(0,se.Un)(he.data.attributes.published))),a().createElement("tr",null,a().createElement("td",null,e.formatMessage(d.Z.templateDetailTableLastEdited)),a().createElement("td",null,ge?a().createElement(b.O,{style:{width:100}}):(0,se.Un)(he.data.attributes.last_edited)))))),a().createElement(r.ZP,null,a().createElement(E.D,null,a().createElement(v.x,{component:"h2",className:"pf-v5-u-mb-md"},e.formatMessage(d.Z.templateDetailTableTitle))),we?a().createElement(g.b,null,a().createElement(y.$,{size:"xl"})):De?Ee.hasError?a().createElement(W.Z,{code:Ee.code}):a().createElement(J.Z,{ref:x,isFullView:!0,autoRefresh:!0,initialLoading:!0,hideFilters:{all:!0,tags:!1,operatingSystem:!1},columns:function(e){return(0,Q.yF)(e)},showTags:!0,onLoad:function(e){var t=e.mergeWithEntities;R.replaceReducer((0,X.UY)(ie(ie({},ee.E),t((0,te.Kq)((0,ne.Fs)(!0),te.lu),(0,G.fm)({page:Be,perPage:He,sort:ze,search:Ue},Ae)))))},customFilters:{patchParams:{search:Ue,filter:Le,systemProfile:Fe,selectedTags:_e}},paginationProps:{isDisabled:0===Oe},getEntities:Ne,bulkSelect:Ge,tableProps:{canSelectAll:!1,variant:Y.B.compact,className:"patchCompactInventory",isStickyHeader:!0,actionResolver:function(){return Te?(0,V.Z8)(Ie):[]}},actionsConfig:{actions:["",{key:"remove-multiple-systems",label:e.formatMessage(d.Z.titlesTemplateRemoveFromSystems,{systemsCount:We}),onClick:function(){return Ie((0,G.LI)(ve))},props:{isDisabled:0===We}}]},filterConfig:$e,activeFiltersConfig:qe}):a().createElement(m.$6,{hasAccess:Te,onButtonClick:function(){return xe()}})))}},5747:(e,t,n)=>{n.d(t,{G:()=>d,Kq:()=>h,OC:()=>p,PD:()=>f,lu:()=>m});var s=n(29439),o=n(4942),r=n(36248),i=n(48881),a=n(22789);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={rows:[],entities:[],selectedRows:{},status:{},page:1,perPage:20,metadata:{limit:20,offset:0,total_items:0}},d=function(e,t){return t.loaded?c(c({},t),{},{status:{isLoading:!1,hasError:!1},rows:(0,r.Yk)(t.rows,t.selectedRows)}):t},p=function(e,t,n){if("SELECT_ENTITY"===n){var o=t.packageEvraCache;void 0===o&&(o={},t.rows.forEach((function(e){return o[e.id]=e.available_evra})),t.packageEvraCache=o),t.selectedRows=t.selectedRows?Object.fromEntries(Object.entries(t.selectedRows).map((function(e){var t=(0,s.Z)(e,2),n=t[0],r=t[1];return!0===r?[n,o[n]]:[n,r]}))):t.selectedRows}return"LOAD_ENTITIES_FULFILLED"===n&&(t.packageEvraCache=void 0),t.loaded?c(c({},t),{},{columns:e,rows:(0,r.GF)(t.rows,t.selectedRows)}):t},m=function(e,t){return t.loaded?c(c({},t),{},{status:{isLoading:!1,hasError:!1},rows:(0,r.dn)(t.rows,t.selectedRows)}):t},f=function(e,t){return t.loaded?c(c({},t),{},{status:{isLoading:!1,hasError:!1},rows:(0,r.mf)(t.rows,t.selectedRows)}):t},h=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,s=arguments.length>1?arguments[1]:void 0,o=c({},n);switch(s.type){case"LOAD_ENTITIES_FULFILLED":return t(e,o,s.type);case"LOAD_ENTITIES_PENDING":return o.status={isLoading:!0,hasError:!1},o;case"LOAD_ENTITIES_REJECTED":return(0,i.PW)(o,s);case"SELECT_ENTITY":var r=(0,i.hd)(o,s);return t(e,r,s.type);case a.sq:return u;default:return n}}}}}]);
//# sourceMappingURL=../sourcemaps/TemplateDetail.7c800de2c5031e4fc94cd2c9f2bb2bbe.js.map