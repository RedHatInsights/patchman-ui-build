(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman||[]).push([[155],{29359:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>U});var n=r(59713),a=r.n(n),c=r(63038),o=r.n(c),s=r(81159),i=r(34023),l=r(63540),u=r(20018),f=r(86350),m=r(45697),p=r.n(m),g=r(77865),y=r.n(g),b=r(61084),S=r(334),d=r(18623),h=r(95466),v=r(49287),O=r(18038),P=r(92026),E=r(54252),k=function(e){var t=e.attributes,r=e.isLoading;return y().createElement(v.r,{hasGutter:!0,style:{minHeight:50}},y().createElement(O.P,{md:8,sm:12},y().createElement(E.ZP,{loading:r,variant:E.x.spinner,centered:!0},y().createElement(s.K,{hasGutter:!0},y().createElement(i.v,null),y().createElement(i.v,{style:{whiteSpace:"pre-line"}},(0,P.J1)(t.description))))))};k.propTypes={attributes:p().object,isLoading:p().bool};const j=k;var w=r(20167),_=r(21045),D=r(319),Z=r.n(D),N=(r(6202),r(32895),r(59505),r(61829),r(72573)),M=r(33739),F=r(75107),T=r(47640),A=r(66490),C=r(50371),H=r(71724),L=(r(58492),r(79143)),G=r(52798),I=r(45505),W=r(11550),K=(r(10047),r(51439));function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=function(e){var t=e.packageName,r=(0,b.useDispatch)(),n=!1,a=y().useState((function(){return function(){return null}})),c=o()(a,2),s=(c[0],c[1],(0,b.useSelector)((function(e){return e.PackageSystemsStore.rows}))),i=(0,b.useSelector)((function(e){return e.PackageSystemsStore.status})),l=(0,b.useSelector)((function(e){return e.PackageSystemsStore.selectedRows})),u=y().useMemo((function(){return(0,G.GF)(s,l)}),[s]),f=(0,b.useSelector)((function(e){return e.PackageSystemsStore.metadata})),m=(0,b.useSelector)((function(e){return e.PackageSystemsStore.queryParams})),p=(0,b.useSelector)((function(e){var t=e.entities;return t&&t.columns})),g=(0,I.W5)(f,j),S=m.filter,h=m.search;y().useEffect((function(){return function(){return r((0,C.wI)())}}),[]),(0,I.KW)((function(){r((0,C.gB)(q({id:t},m)))}),[m]);var v=(0,I.T8)(f.limit,f.offset),O=o()(v,2),E=O[0],k=O[1];function j(e){r((0,C.g5)(e))}var _=(0,I.j5)(S,j),D={items:[(0,F.Z)(j,h,W.N.formatMessage(d.Z.labelsFiltersSystemsSearchTitle),W.N.formatMessage(d.Z.labelsFiltersSystemsSearchPlaceholder)),(0,T.Z)(j,S)]},R={filters:(0,P.mt)(S,h),onDelete:_},x=function(){var e=p&&p.filter((function(e){return"updated"===e.key}))[0];return e=q(q({},e),{},{key:"last_upload"}),[].concat(Z()(K.Hd),[e])},B=(0,I._f)(x(),j,0),z=y().useMemo((function(){return(0,P.hO)(x(),f.sort,0)}),[f.sort]);return l&&(0,P.Qy)(l).length,y().createElement(y().Fragment,null,i===L.g_?y().createElement(w.Z,null):y().createElement(M.Z,{onLoad:function(e){var t=e.mergeWithEntities,r=(0,A.b)();(0,A.z)(q({},t((0,H.rS)(K.Hd,r.getState().PackageSystemsStore))))},items:u,page:E,total:f.total_items,perPage:k,onRefresh:g,isLoaded:i===L.Wd,tableProps:{canSelectAll:!1,onSort:B,sortBy:z,onSelect:false,variant:N.TableVariant.compact,className:"patchCompactInventory",isStickyHeader:!0},filterConfig:D,activeFiltersConfig:R,bulkSelect:n},n))};x.propTypes={packageName:p().string};const B=x;function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Q=function(e){var t=e.match,r=(0,b.useDispatch)(),n=y().useState(t.params.packageName),a=o()(n,1)[0],c="".concat(a," - ").concat(W.N.formatMessage(d.Z.titlesPackages));(0,I.Iw)(c);var m=(0,b.useSelector)((function(e){return e.PackageDetailStore})),p=(0,b.useSelector)((function(e){return e.PackageDetailStore.status}));y().useEffect((function(){r((0,C.Sb)({packageName:a}))}),[]),y().useEffect((function(){return function(){r((0,C.vh)())}}),[]);var g=m.data.attributes;return y().createElement(y().Fragment,null,y().createElement(h.Z,{title:a,headerOUIA:"package-details",breadcrumbs:[{title:W.N.formatMessage(d.Z.titlesPatchPackages),to:_.H.packages.to,isActive:!1},{title:a,isActive:!0}]},p===L.g_?y().createElement(w.Z,null):y().createElement(j,{attributes:J(J({},g),{},{id:a}),isLoading:p===L.wl})),y().createElement(f.Z,null,y().createElement(s.K,{hasGutter:!0},y().createElement(i.v,null,y().createElement(u.D,null,y().createElement(l.xv,{component:l.qO.h2},W.N.formatMessage(d.Z.titlesAffectedSystems)))),y().createElement(i.v,null,y().createElement(B,{packageName:a})))))};Q.propTypes={match:p().any};const U=(0,S.withRouter)(Q)}}]);
//# sourceMappingURL=PackageDetail.7cd3f4b88c3b4d19c022.js.map