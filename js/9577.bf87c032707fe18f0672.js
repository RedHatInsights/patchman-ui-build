"use strict";(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman||[]).push([[9577],{80943:(e,t,r)=>{r.d(t,{Z:()=>l});var a=r(83237),s=r(13784),o=r(32132),n=r(30893);const l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.public_date,l=function(t){e({filter:{public_date:"all"!==t&&t||""}})};return{label:o.N.formatMessage(n.Z.labelsFiltersPublishDate),type:a.Y.radio,filterValues:{onChange:function(e,t){l(t)},items:s.Ek,value:r,placeholder:o.N.formatMessage(n.Z.labelsFiltersPublishDatePlaceholder)}}}},70133:(e,t,r)=>{r.d(t,{Z:()=>c});var a=r(83237),s=r(43297),o=r.n(s),n=r(13784),l=r(32132),i=r(30893);const c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.reboot_required,s=o().useMemo((function(){return n.r_.map((function(e){var t=e.value;return{label:e.label,value:t.toString()}}))}),[]),c=r&&(Array.isArray(r)&&r.map((function(e){return e.toString()}))||[r.toString()]),u=function(t){e({filter:{reboot_required:t}})};return{label:l.N.formatMessage(i.Z.labelsFiltersReboot),type:a.Y.checkbox,filterValues:{onChange:function(e,t){u(t)},items:s,value:c,placeholder:l.N.formatMessage(i.Z.labelsFiltersRebootPlaceholder)}}}},16590:(e,t,r)=>{r.d(t,{Z:()=>c});var a=r(83237),s=r(43297),o=r.n(s),n=r(13784),l=r(32132),i=r(30893);const c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.updatable,s=o().useMemo((function(){return n.tG.map((function(e){var t=e.value;return{label:e.label,value:t.toString()}}))}),[]),c=function(t){e({filter:{updatable:t}})};return{label:l.N.formatMessage(i.Z.labelsFiltersStatus),type:a.Y.checkbox,filterValues:{onChange:function(e,t){c(t)},items:s,value:r,placeholder:l.N.formatMessage(i.Z.labelsColumnsStatusPlaceholder)}}}},29287:(e,t,r)=>{r.d(t,{Z:()=>c});var a=r(83237),s=r(43297),o=r.n(s),n=r(13784),l=r(32132),i=r(30893);const c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=o().useMemo((function(){return n.Yi.map((function(e){var t=e.value;return{label:e.label,value:t.toString()}}))}),[]),s=function(t){e({filter:{advisory_type_name:t}})};return{label:l.N.formatMessage(i.Z.labelsFiltersType),type:a.Y.checkbox,filterValues:{onChange:function(e,t){s(t)},items:r,value:t.advisory_type_name,placeholder:l.N.formatMessage(i.Z.labelsFiltersTypePlaceholder)}}}},64270:(e,t,r)=>{r.d(t,{$$:()=>c,C_:()=>i,fG:()=>l,g:()=>u,z7:()=>n});var a=r(72573),s=r(30893),o=r(32132),n=[{title:o.N.formatMessage(s.Z.labelsColumnsName),cellFormatters:[a.expandable],transforms:[a.sortable,(0,a.cellWidth)(15)],key:"id"},{title:o.N.formatMessage(s.Z.labelsColumnsSynopsis),transforms:[a.sortable],key:"synopsis"},{title:o.N.formatMessage(s.Z.labelsColumnsType),transforms:[a.sortable,(0,a.cellWidth)(10)],key:"advisory_type_name"},{title:o.N.formatMessage(s.Z.labelsColumnsApplicableSystems),transforms:[a.sortable,(0,a.cellWidth)(15)],key:"applicable_systems"},{title:o.N.formatMessage(s.Z.labelsColumnsReboot),transforms:[a.sortable],key:"reboot_required"},{title:o.N.formatMessage(s.Z.labelsColumnsPublishDate),transforms:[a.sortable,(0,a.cellWidth)(15)],key:"public_date"}],l=[{title:o.N.formatMessage(s.Z.labelsColumnsName),cellFormatters:[a.expandable],transforms:[a.sortable,(0,a.cellWidth)(15)],key:"id"},{title:"Synopsis",transforms:[a.sortable,(0,a.cellWidth)(35)],key:"synopsis"},{title:o.N.formatMessage(s.Z.labelsColumnsType),transforms:[a.sortable,(0,a.cellWidth)(15)],key:"advisory_type_name"},{title:o.N.formatMessage(s.Z.labelsColumnsReboot),transforms:[a.sortable,(0,a.cellWidth)(20)],key:"reboot_required"},{title:o.N.formatMessage(s.Z.labelsColumnsPublishDate),transforms:[a.sortable,(0,a.cellWidth)(30)],key:"public_date"}],i=[{title:o.N.formatMessage(s.Z.labelsColumnsName),transforms:[a.sortable,(0,a.cellWidth)(20)],key:"name"},{title:o.N.formatMessage(s.Z.labelsColumnsInstalledVersion),transforms:[a.sortable,(0,a.cellWidth)(15)],key:"evra"},{title:o.N.formatMessage(s.Z.labelsColumnsLatestVersion),transforms:[(0,a.cellWidth)(15)],key:"latest_update"},{title:o.N.formatMessage(s.Z.labelsColumnsStatus),transforms:[(0,a.cellWidth)(10)],key:"updatable"},{title:o.N.formatMessage(s.Z.labelsColumnsSummary),transforms:[a.sortable,(0,a.cellWidth)(40)],key:"summary"}],c=[{key:"name",title:o.N.formatMessage(s.Z.labelsColumnsName),transforms:[a.sortable,(0,a.cellWidth)(25)]},{key:"systems_installed",title:o.N.formatMessage(s.Z.labelsColumnsApplicableSystems),transforms:[a.sortable,(0,a.cellWidth)(15)],props:{width:10}},{key:"systems_updatable",title:o.N.formatMessage(s.Z.labelsColumnsUpgradable),transforms:[a.sortable,(0,a.cellWidth)(10)],props:{width:10}},{key:"summary",title:o.N.formatMessage(s.Z.labelsColumnsSummary),transforms:[a.sortable,(0,a.cellWidth)(40)],props:{width:30}}],u=[{title:o.N.formatMessage(s.Z.labelsColumnsCveID),transforms:[a.sortable,(0,a.cellWidth)(40)],key:"synopsis"},{key:"impact",title:o.N.formatMessage(s.Z.labelsColumnsSeverity),transforms:[a.sortable,(0,a.cellWidth)(30)],props:{width:30}},{key:"cvss",title:o.N.formatMessage(s.Z.labelsColumnsCVSS),transforms:[a.sortable,(0,a.cellWidth)(30)],props:{width:30}}]},79577:(e,t,r)=>{r.d(t,{Z:()=>U});var a=r(29439),s=r(43297),o=r.n(s),n=r(334),l=r(82819),i=r(39900),c=r(18061),u=r(4942),m=r(45697),f=r.n(m),d=r(28216),y=r(80943),b=r(90747),p=r(29287),v=r(70133),g=r(15984),h=r(38776),S=r(64270),Z=r(9557),k=r(11220),N=r(13784),P=r(36248),M=r(5391),O=r(91607),_=r(32132),C=r(30893),E=r(93080);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j=function(e){var t=e.history,r=e.handleNoSystemData,n=e.inventoryId,l=(0,d.I0)(),i=(0,s.useState)(!0),c=(0,a.Z)(i,2),u=c[0],m=c[1],f=(0,d.v9)((function(e){return e.SystemAdvisoryListStore.rows})),w=(0,d.v9)((function(e){return e.SystemAdvisoryListStore.expandedRows})),j=(0,d.v9)((function(e){return e.SystemAdvisoryListStore.queryParams})),D=(0,d.v9)((function(e){return e.SystemAdvisoryListStore.selectedRows})),I=(0,d.v9)((function(e){return e.SystemAdvisoryListStore.metadata})),F=(0,d.v9)((function(e){return e.SystemAdvisoryListStore.status})),W=(0,s.useMemo)((function(){return(0,P.vR)(f,w,D,I)}),[f,w,D]),L=(0,O.CA)(j);(0,s.useEffect)((function(){return function(){return l((0,Z.bt)())}}),[]),(0,s.useEffect)((function(){u?(G((0,M.PZ)(t.location.search)),m(!1)):(L(),l((0,Z.DE)(A({id:n},j))))}),[j]);var T=(0,s.useCallback)((function(e,t,r){return l((0,Z.gl)({rowId:(0,M.vs)(f,t),value:r}))}),[JSON.stringify(f)]),R=(0,E.r)(W,D,{endpoint:E.c.systemAdvisories(n),queryParams:j,selectionDispatcher:Z.Xr,constructFilename:function(e){return(null==e?void 0:e.id)||e}}),q=(0,O._f)(S.fG,G,2),x=o().useMemo((function(){return(0,M.hO)(S.fG,I.sort,2)}),[I.sort]),U=(0,O.SL)(I.limit,G),V=(0,O._T)(G);function G(e){l((0,Z.sX)(A({id:n},e)))}var Y=404===F.code?r():o().createElement(g.Z,null),B=(0,O.AR)(n,j,{csv:k.yq,json:k.Gv},l);return o().createElement(o().Fragment,null,o().createElement(h.Z,{columns:S.fG,compact:!0,onCollapse:T,onSelect:R,onSetPage:U,onPerPageSelect:V,onSort:q,onExport:B,sortBy:x,remediationProvider:function(){return(0,M.MS)((0,M.Qy)(D),n,N.oN.advisory)},selectedRows:D,systemId:n,apply:G,store:{rows:W,metadata:I,status:F,queryParams:j},remediationButtonOUIA:"toolbar-remediation-button",tableOUIA:"system-advisories-table",paginationOUIA:"system-advisories-pagination",filterConfig:{items:[(0,b.Z)(G,j.search,_.N.formatMessage(C.Z.labelsFiltersSearchAdvisoriesTitle),_.N.formatMessage(C.Z.labelsFiltersSearchAdvisoriesPlaceholder)),(0,p.Z)(G,j.filter),(0,y.Z)(G,j.filter),(0,v.Z)(G,j.filter)]},errorState:Y,searchChipLabel:_.N.formatMessage(C.Z.labelsFiltersSearchAdvisoriesTitle)}))};j.propTypes={history:f().object,handleNoSystemData:f().func,inventoryId:f().string.isRequired};const D=(0,n.withRouter)(j);var I=r(16590),F=r(91433);function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var T=function(e){var t=e.handleNoSystemData,r=e.inventoryId,a=(0,d.I0)(),n=(0,d.v9)((function(e){return e.SystemPackageListStore.rows})),l=(0,d.v9)((function(e){return e.SystemPackageListStore.queryParams})),i=(0,d.v9)((function(e){return e.SystemPackageListStore.selectedRows})),c=(0,d.v9)((function(e){return e.SystemPackageListStore.metadata})),u=(0,d.v9)((function(e){return e.SystemPackageListStore.status})),m=(0,d.v9)((function(e){return e.SystemPackageListStore.error})),f=(0,s.useMemo)((function(){return(0,P.yF)(n,i)}),[n,i]);(0,s.useEffect)((function(){return function(){return a((0,Z.ED)())}}),[]),(0,s.useEffect)((function(){a((0,Z.ix)(L({id:r},l)))}),[l]);var y=(0,E.r)(n,i,{endpoint:E.c.systemPackages(r),queryParams:l,selectionDispatcher:Z.dL,constructFilename:function(e){var t=e.updates||[],r=t[t.length-1];return r&&"".concat(e.name,"-").concat(r.evra)},transformKey:function(e){return"".concat(e.name,"-").concat(e.evra)}});function p(e){a((0,Z.AE)(L({id:r},e)))}var v=(0,O._f)(S.C_,p,1),w=(0,s.useMemo)((function(){return(0,M.hO)(S.C_,c.sort,1)}),[c.sort]),A=(0,O.SL)(c.limit,p),j=(0,O._T)(p),D=404===m.status?t():o().createElement(g.Z,null),W=!u.isLoading&&!u.hasError&&0===c.total_items&&0===Object.keys(l).length&&o().createElement(F.f,null),T=(0,O.AR)(r,l,{csv:k.i,json:k._3},a);return o().createElement(o().Fragment,null,o().createElement(h.Z,{columns:S.C_,store:{rows:f,metadata:c,status:u,queryParams:l},onSelect:y,selectedRows:i,compact:!0,onSort:v,sortBy:w,onSetPage:A,onPerPageSelect:j,onExport:T,remediationProvider:function(){return(0,M.MS)((0,M.Qy)(i),r,N.oN.package)},apply:p,filterConfig:{items:[(0,b.Z)(p,l.search,_.N.formatMessage(C.Z.labelsFiltersPackagesSearchTitle),_.N.formatMessage(C.Z.labelsFiltersPackagesSearchPlaceHolder)),(0,I.Z)(p,l.filter)]},defaultFilters:N.yi,remediationButtonOUIA:"toolbar-remediation-button",tableOUIA:"system-packages-table",paginationOUIA:"system-packages-pagination",errorState:D,emptyState:W,searchChipLabel:_.N.formatMessage(C.Z.labelsFiltersPackagesSearchTitle)}))};T.propTypes={handleNoSystemData:f().func,inventoryId:f().string.isRequired};const R=T;var q=r(87135),x=function(e){var t=e.isInventoryApp,r=e.inventoryId,u=(0,n.useLocation)().state,m=(0,s.useState)("packages"===(null==u?void 0:u.tab)?1:0),f=(0,a.Z)(m,2),d=f[0],y=f[1],b=(0,s.useState)(!1),p=(0,a.Z)(b,2),v=p[0],g=p[1],h=function(){return t&&g((function(e){return!e})),o().createElement(q.Z,null)};return!v&&o().createElement(i.mQ,{activeKey:d,onSelect:function(e,t){y(t)},className:"patchTabSelect",isHidden:!0},o().createElement(l.O,{eventKey:0,title:o().createElement(c.TabTitleText,null,_.N.formatMessage(C.Z.titlesAdvisories)),"data-ouia-component-type":"system-advisories-tab","data-ouia-component-id":"system-advisories-tab"},o().createElement(D,{handleNoSystemData:h,inventoryId:r})),o().createElement(l.O,{eventKey:1,title:o().createElement(c.TabTitleText,null,_.N.formatMessage(C.Z.titlesPackages)),"data-ouia-component-type":"system-packages-tab","data-ouia-component-id":"system-packages-tab"},o().createElement(R,{handleNoSystemData:h,inventoryId:r})))||o().createElement(q.Z,null)};x.propTypes={isInventoryApp:f().bool,inventoryId:f().string.isRequired};const U=x}}]);
//# sourceMappingURL=../sourcemaps/9577.5aeb4a353d5b35fe54aeb268bcf87ffe.js.map