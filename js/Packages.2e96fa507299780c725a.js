(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman||[]).push([[677],{46080:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>M});var r=a(86350),n=a(83215),s=a(77865),o=a.n(s),c=a(61084),l=a(28725),u=a(89421),i=a(48527),f=a(96928),g=a(60578);const m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.systems_updatable;""!==a&&a||(a="0");var r=o().useMemo((function(){return i.Tl.map((function(e){var t=e.value;return{label:e.label,value:t.toString()}}))}),[]),n=function(t){e({filter:{systems_updatable:"0"!==t&&t||""}})};return{label:f.N.formatMessage(g.Z.labelsFiltersStatus),type:u.Yu.radio,filterValues:{onChange:function(e,t){n(t)},items:r,value:a,placeholder:f.N.formatMessage(g.Z.labelsColumnsStatusPlaceholder)}}};var p=a(87145),d=a(20167),S=a(66006),v=a(85709),h=a(22293),k=a(55949),_=a(2558),P=a(49736),b=a(22347),Z=a(35240),y=a(76923);const M=function(){var e=(0,c.useDispatch)();(0,b.Iw)("Packages");var t=(0,c.useSelector)((function(e){return e.PackagesListStore.rows})),a=o().useMemo((function(){return(0,_.k6)(t)}),[t]),s=(0,c.useSelector)((function(e){return e.PackagesListStore.error})),u=(0,c.useSelector)((function(e){return e.PackagesListStore.status})),M=(0,c.useSelector)((function(e){return e.PackagesListStore.metadata})),w=(0,c.useSelector)((function(e){return e.PackagesListStore.queryParams}));function E(t){e((0,k.If)(t))}o().useEffect((function(){e((0,k.kU)(w))}),[w]);var I=(0,b._f)(h.$$,E),N=o().useMemo((function(){return(0,P.hO)(h.$$,M.sort,0)}),[M.sort]),O=(0,b.SL)(M.limit,E),L=(0,b._T)(E),$=404===s.status?S.Q:d.Z;return u===i.g_&&404!==s.status&&e((0,n.wN)({variant:"danger",title:s.title,description:s.detail})),o().createElement(o().Fragment,null,o().createElement(p.Z,{title:f.N.formatMessage(g.Z.titlesPatchPackages),headerOUIA:"packages"}),o().createElement(r.Z,null,o().createElement(v.Z,{columns:h.$$,store:{rows:a,metadata:M,status:u,queryParams:w},onSort:I,onExport:function(e,t){var a=(new Date).toISOString().replace(/[T:]/g,"-").split(".")[0]+"-utc",r="packages-".concat(a);"csv"===t?(0,y.pq)(w).then((function(e){return(0,Z.Sv)(e,r,"csv")})):(0,y.pW)(w).then((function(e){return(0,Z.Sv)(JSON.stringify(e),r,"json")}))},sortBy:N,onSetPage:O,onPerPageSelect:L,compact:!0,apply:E,filterConfig:{items:[(0,l.Z)(E,w.search,f.N.formatMessage(g.Z.labelsFiltersPackagesSearchTitle),f.N.formatMessage(g.Z.labelsFiltersPackagesSearchPlaceHolder)),m(E,w.filter)]},remediationButtonOUIA:"toolbar-remediation-button",tableOUIA:"package-details-table",paginationOUIA:"package-details-pagination",ErrorState:$,defaultFilters:i.eZ})))}}}]);