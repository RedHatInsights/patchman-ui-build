"use strict";(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman||[]).push([[155],{49642:(e,t,r)=>{r.d(t,{Z:()=>O});var n=r(48716),a=r(39173),o=r(45697),s=r.n(o),c=r(41375),i=r.n(c),l=r(85991),u=r(49489),p=r(92818),f=function(e){var t=e.items,r=e.headerOUIA;return i().createElement(l.a,null,t.filter(Boolean).map((function(e){return i().createElement(u.g,{key:e.title,isActive:e.isActive},e.to&&i().createElement(p.Link,{to:e.to,"data-ouia-component-type":"".concat(r,"-breadcrumb"),"data-ouia-component-id":"breadcrumb-to-".concat(e.title)},e.title)||e.title)})))};f.propTypes={items:s().arrayOf(s().shape({isActive:s().bool,to:s().string,title:s().string})),headerOUIA:s().string};const m=f;var d=r(82819),v=r(98378),g=r(60076),h=function(e){var t=e.history,r=e.headerOUIA;return i().createElement(v.mQ,{onSelect:function(e,r){t.push(r)},activeKey:t.location.pathname,className:"patchman-tabs"},i().createElement(d.O,{eventKey:g.H.advisories.to,title:g.H.advisories.title,"data-ouia-component-type":"".concat(r,"-tab"),"data-ouia-component-id":"".concat(r,"-tab-").concat(g.H.advisories.title)}),i().createElement(d.O,{eventKey:g.H.systems.to,title:g.H.systems.title,"data-ouia-component-type":"".concat(r,"-tab"),"data-ouia-component-id":"".concat(r,"-tab-").concat(g.H.systems.title)}))};h.propTypes={history:s().object,headerOUIA:s().string};const b=(0,p.withRouter)(h);var y=function(e){var t=e.title,r=e.showTabs,o=e.breadcrumbs,s=e.children,c=e.headerOUIA;return i().createElement(i().Fragment,null,i().createElement(n.Z,{"data-ouia-component-type":"".concat(c,"-page-header")},o&&i().createElement(m,{items:o,headerOUIA:c}),i().createElement(a.Z,{title:t}),s),r&&i().createElement(b,{headerOUIA:c}))};y.propTypes={title:s().string,showTabs:s().bool,breadcrumbs:s().array,children:s().any,headerOUIA:s().string};const O=y},52709:(e,t,r)=>{r.d(t,{x:()=>h,ZP:()=>O});var n=r(45987),a=r(4942),o=r(56455),s=r(87462),c=r(41375),i=r.n(c),l=r(45697),u=r.n(l),p=r(94184),f=r.n(p),m=function(e){var t=e.centered,r=e.className,o=(0,n.Z)(e,["centered","className"]),c=f()("ins-c-spinner",(0,a.Z)({},"ins-m-center",t),r);return i().createElement("div",(0,s.Z)({role:"status",className:c},o),i().createElement("span",{className:"pf-u-screen-reader"},"Loading..."))};m.propTypes={centered:u().bool,className:u().string};const d=m;var v,g=["loading","variant","children"],h={spinner:"spinner",skeleton:"skeleton"},b=(v={},(0,a.Z)(v,h.skeleton,(function(e){var t=e.size,r=e.isDark;return i().createElement(o.Z,{size:t,isDark:r})})),(0,a.Z)(v,h.spinner,(function(e){var t=e.centered;return i().createElement(d,{centered:t})})),v),y=function(e){var t=e.loading,r=e.variant,a=e.children,o=(0,n.Z)(e,g);return!1!==t?b[r](o):a};y.propTypes={loading:u().bool,variant:u().string,children:u().any};const O=y},8453:(e,t,r)=>{r.r(t),r.d(t,{default:()=>ne});var n=r(4942),a=r(29439),o=r(81159),s=r(34023),c=r(63540),i=r(20018),l=r(86350),u=r(45697),p=r.n(u),f=r(41375),m=r.n(f),d=r(28216),v=r(92818),g=r(30893),h=r(49642),b=r(49287),y=r(18038),O=r(57358),E=r(52709),P=function(e){var t=e.attributes.description,r=e.isLoading,n=m().useState(1e3),c=(0,a.Z)(n,2),i=c[0],l=c[1];return t&&m().createElement(b.r,{hasGutter:!0,style:{minHeight:50}},m().createElement(y.P,{md:8,sm:12},m().createElement(E.ZP,{loading:r,variant:E.x.spinner,centered:!0},m().createElement(o.K,{hasGutter:!0},m().createElement(s.v,null),m().createElement(s.v,{style:{whiteSpace:"pre-line"}},t&&(0,O.Nt)(t,i,l))))))||m().createElement(f.Fragment,null)};P.propTypes={attributes:p().object,isLoading:p().bool};const S=P;var w=r(20167),Z=r(60076),j=r(15861),k=r(87757),N=r.n(k),_=r(72573),T=r(33739),D=r(90747),A=r(16590),I=r(87462),L=r(80887),C=r(77221),F=r(82553),M=r(44612),R=r(32132);const U=function(e,t,r){var n=m().useState(!1),o=(0,a.Z)(n,2),s=o[0],c=o[1],i=m().useState(10),l=(0,a.Z)(i,2),u=l[0],p=l[1],f=t&&t.installed_evra,d=f&&("string"==typeof t.installed_evra&&t.installed_evra.split(",")||t.installed_evra),v=r.data&&r.data.sort().map((function(e){return{value:e.evra}}))||[{value:R.N.formatMessage(g.Z.textNoVersionAvailable),disabled:!0}];return{type:M.Y.custom,label:R.N.formatMessage(g.Z.labelsFiltersPackageVersionTitle),value:"custom",filterValues:{children:m().createElement(L.Select,(0,I.Z)({variant:v.length>0&&F.SelectVariant.checkbox||F.SelectVariant.typeaheadMulti,typeAheadAriaLabel:R.N.formatMessage(g.Z.labelsFiltersPackageVersionPlaceholder),onToggle:function(e){c(e)},onSelect:function(r,n){var a={filter:{}};if(!d||d&&!d.includes(n)){var o=f&&""!==t.installed_evra&&t.installed_evra.concat(",")||"";a.filter={installed_evra:"".concat(o).concat(n)}}else{var s=1!==d.length&&d.filter((function(e){return!e.includes(n)})).join(",")||void 0;a.filter={installed_evra:s}}e(a)},selections:d,isOpen:s,"aria-labelledby":"patch-version-filter",placeholderText:R.N.formatMessage(g.Z.labelsFiltersPackageVersionPlaceholder)},u<v.lengt&&{loadingVariant:{text:"View more",onClick:function(){p(v.length)}}},{style:{maxHeight:"400px",overflow:"auto"}}),v.slice(0,u).map((function(e,t){return m().createElement(C.SelectOption,(0,I.Z)({isDisabled:e.disabled,key:t,value:e.value},e.description&&{description:e.description}))})))}}};var x=r(73888),H=r(88031),V=r(9557),q=r(5747),K=r(11220),B=r(13784),G=r(91607),z=r(53074),Q=r(58684);function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var J=function(e){var t=e.packageName,r=(0,d.I0)(),n=(0,v.useHistory)(),o=m().useState([]),s=(0,a.Z)(o,2),c=s[0],i=s[1],l=(0,O.PZ)(n.location.search),u=(0,d.v9)((function(e){var t=e.entities;return(null==t?void 0:t.rows)||[]}),d.wU),p=(0,d.v9)((function(e){var t=e.entities;return(null==t?void 0:t.status)||{}})),f=(0,d.v9)((function(e){var t=e.entities;return(null==t?void 0:t.total)||0})),h=(0,d.v9)((function(e){var t=e.entities;return(null==t?void 0:t.selectedRows)||[]})),b=(0,d.v9)((function(e){var t=e.PackageSystemsStore;return(null==t?void 0:t.queryParams)||{}})),y=b.systemProfile,E=b.selectedTags,P=b.filter,S=b.search,w=b.sort,Z=b.page,k=b.perPage;function I(e){r((0,V.g5)(e))}m().useEffect((0,j.Z)(N().mark((function e(){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(l),e.t0=i,e.next=4,(0,K.dh)({package_name:t});case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)}))),[]),m().useEffect((function(){return function(){r((0,V.RV)()),r((0,V.d)())}}),[]);var L=(0,G.j5)(W(W({},P),{},{search:S}),I),C=(0,a.Z)(L,1)[0],F={items:[(0,D.Z)(I,S,R.N.formatMessage(g.Z.labelsFiltersSystemsSearchTitle),R.N.formatMessage(g.Z.labelsFiltersSystemsSearchPlaceholder)),(0,A.Z)(I,P),U(I,P,c)]},M={filters:(0,O.mt)(P,S,R.N.formatMessage(g.Z.labelsFiltersSystemsSearchTitle)),onDelete:C},Y=(0,G.ry)(u,h,(function(){return(0,K.vo)(W(W({},b),{},{package_name:t,limit:-1})).then(O.lq)}),(function(e){r({type:"SELECT_ENTITY",payload:e})}),(function(e){return"".concat(t,"-").concat(e.available_evra)})),J=h&&(0,O.Qy)(h).length,X=(0,G.AR)(t,b,{csv:K.nx,json:K.bb},r),$=function(){var e={};return(0,O.Q6)(h).forEach((function(t){e[h[t]]?e[h[t]].push(t):e[h[t]]=[t]})),{data:e}},ee=(0,G.U)(K.vo,I,{packageName:t},n);return m().createElement(m().Fragment,null,p.hasError&&m().createElement(x.Z,{code:p.code})||m().createElement(T.Z,{disableDefaultColumns:["system_profile","updated"],isFullView:!0,autoRefresh:!0,initialLoading:!0,hideFilters:{all:!0,tags:!1},columns:Q.Hd,showTags:!0,getEntities:ee,customFilters:{patchParams:{search:S,filter:P,systemProfile:y,selectedTags:E}},paginationProps:{isDisabled:0===f},onLoad:function(e){var t=e.mergeWithEntities;(0,H.z)(W({},t((0,q.Kq)(Q.Hd,q.OC),(0,O.fm)({page:Z,perPage:k,sort:w,search:S},l))))},tableProps:{canSelectAll:!1,variant:_.TableVariant.compact,className:"patchCompactInventory",isStickyHeader:!0},filterConfig:F,activeFiltersConfig:M,bulkSelect:(0,G.Pz)(J,Y,{total_items:f},u),exportConfig:{isDisabled:0===f,onSelect:X},dedicatedAction:m().createElement(z.Z,{remediationProvider:function(){return(0,O.Sz)((0,O.Q6)(h),$,O.R9,B.oN.package)},isDisabled:0===(0,O.Qy)(h).length})}))};J.propTypes={packageName:p().string};const X=J;var $=r(83215);function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var re=function(e){var t=e.match,r=(0,d.I0)(),n=m().useState(t.params.packageName),u=(0,a.Z)(n,1)[0],p="".concat(u," - ").concat(R.N.formatMessage(g.Z.titlesPackages));(0,G.Iw)(p);var f=(0,d.v9)((function(e){return e.PackageDetailStore})),v=(0,d.v9)((function(e){return e.PackageDetailStore.status}));m().useEffect((function(){r((0,V.Sb)({packageName:u}))}),[]),m().useEffect((function(){return function(){r((0,$.L1)()),r((0,V.vh)())}}),[]);var b=f.data.attributes;return m().createElement(m().Fragment,null,m().createElement(h.Z,{title:u,headerOUIA:"package-details",breadcrumbs:[{title:R.N.formatMessage(g.Z.titlesPatchPackages),to:Z.H.packages.to,isActive:!1},{title:u,isActive:!0}]},v.hasError?m().createElement(w.Z,null):m().createElement(S,{attributes:te(te({},b),{},{id:u}),isLoading:v.isLoading})),m().createElement(l.Z,null,m().createElement(o.K,{hasGutter:!0},m().createElement(s.v,null,m().createElement(i.D,null,m().createElement(c.xv,{component:c.qO.h2},R.N.formatMessage(g.Z.titlesAffectedSystems)))),m().createElement(s.v,null,v.hasError&&m().createElement(x.Z,null)||!v.isLoading&&m().createElement(X,{packageName:u})))))};re.propTypes={match:p().any};const ne=(0,v.withRouter)(re)},535:(e,t,r)=>{r.r(t),r.d(t,{default:()=>D});var n=r(4942),a=r(29439),o=r(86350),s=r(45697),c=r.n(s),i=r(41375),l=r.n(i),u=r(28216),p=r(92818),f=r(30893),m=r(49642),d=r(90747),v=r(38776),g=r(9557),h=r(11220),b=r(57668),y=r(57358),O=r(91607),E=r(32132),P=r(83215),S=r(6202),w=function(){return l().createElement(S.Button,null,E.N.formatMessage(f.Z.labelsButtonCreatePatchSet))},Z=function(){return l().createElement(S.Button,{variant:"secondary"},E.N.formatMessage(f.Z.labelsButtonEditPatchSet))},j=[{key:"name",title:"Name",props:{width:50}},{key:"systems",title:"Systems",props:{width:50}}],k=[{title:"Edit patch set",onClick:function(e,t,r){console.log("edit")}},{title:"Assign patch set",onClick:function(e,t,r){console.log("assign")}},{title:"Remove patch set",onClick:function(e,t,r){console.log("remove")}}];function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var T=function(e){var t=e.history,r=E.N.formatMessage(f.Z.titlesAdvisories);(0,O.Iw)(r);var n=(0,u.I0)(),s=l().useState(!0),c=(0,a.Z)(s,2),i=c[0],p=c[1],S=(0,u.v9)((function(e){return e.PatchSetsStore.rows})),N=(0,u.v9)((function(e){return e.PatchSetsStore.queryParams})),T=(0,u.v9)((function(e){return e.PatchSetsStore.selectedRows})),D=(0,u.v9)((function(e){return e.PatchSetsStore.metadata})),A=(0,u.v9)((function(e){return e.PatchSetsStore.status})),I=l().useMemo((function(){return(0,b.CN)(S,T,N)}),[S,T]);l().useEffect((function(){return function(){n((0,P.L1)())}}),[]),(0,O.KW)((function(){i?(U((0,y.PZ)(t.location.search)),p(!1)):(t.push((0,y.R_)(N)),n((0,g.BY)(N)))}),[N,i]);var L=(0,O.ry)(I,T,(function(){return(0,h.ai)(_(_({},N),{},{limit:-1}))}),(function(e){n((0,g.GL)(e))}),(function(e){return e.id})),C=(0,O._f)(j,U,2),F=l().useMemo((function(){return(0,y.hO)(j,D.sort,2)}),[D.sort]),M=(0,O.SL)(D.limit,U),R=(0,O._T)(U);function U(e){n((0,g.iW)(e))}return l().createElement(l().Fragment,null,l().createElement(m.Z,{title:E.N.formatMessage(f.Z.titlesPatchSet),headerOUIA:"advisories"}),l().createElement(o.Z,null,l().createElement(v.Z,{columns:j,compact:!0,onSetPage:M,onPerPageSelect:R,onSort:C,selectedRows:T,onSelect:L,sortBy:F,apply:U,tableOUIA:"patch-set-table",paginationOUIA:"patch-set-pagination",store:{rows:I,metadata:D,status:A,queryParams:N},actionsConfig:k,filterConfig:{items:[(0,d.Z)(U,N.search,E.N.formatMessage(f.Z.labelsFiltersSearchPatchSetTitle),E.N.formatMessage(f.Z.labelsFiltersSearchPatchSetPlaceholder))]},searchChipLabel:E.N.formatMessage(f.Z.labelsFiltersSearchPatchSetTitle),CreatePatchSet:w,EditPatchSet:Z})))};T.propTypes={history:c().object};const D=(0,p.withRouter)(T)},5747:(e,t,r)=>{r.d(t,{G:()=>u,Kq:()=>f,OC:()=>p});var n=r(4942),a=r(57668),o=r(48881),s=r(22789);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l={rows:[],entities:[],selectedRows:{},status:{},page:1,perPage:20,metadata:{limit:20,offset:0,total_items:0}},u=function(e,t){return t.loaded?i(i({},t),{},{status:{isLoading:!1,hasError:!1},rows:(0,a.Yk)(t.rows,t.selectedRows)}):t},p=function(e,t){return t.loaded?i(i({},t),{},{columns:e,rows:(0,a.GF)(t.rows,t.selectedRows)}):t},f=function(e,t){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=arguments.length>1?arguments[1]:void 0,a=i({},r);switch(n.type){case"LOAD_ENTITIES_FULFILLED":return t(e,a);case"LOAD_ENTITIES_PENDING":return a.status={isLoading:!0,hasError:!1},a;case"LOAD_ENTITIES_REJECTED":return a.status={isLoading:!0,hasError:!0},a;case"SELECT_ENTITY":var c=(0,o.hd)(a,n);return t(e,c);case s.sq:return l;default:return r}}}}}]);
//# sourceMappingURL=../sourcemaps/PackageDetail.0b580fe9960a1f98065c79bb38ff75be.js.map