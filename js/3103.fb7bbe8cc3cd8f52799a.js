(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman||[]).push([[3103,5467],{83905:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var a=n(93433),r=n(29439),s=n(43297),o=n(28216),i=n(54025),l=n(11220);const c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=(0,o.v9)((function(e){var t=e.entities;return null==t?void 0:t.operatingSystems})),c=(0,o.v9)((function(e){var t=e.entities;return null==t?void 0:t.operatingSystemsLoaded})),u=(0,s.useState)([]),m=(0,r.Z)(u,2),p=m[0],f=m[1],d=(0,i.useLoadModule)({appName:"inventory",scope:"inventory",module:"./OsFilterHelpers"}),g=(0,r.Z)(d,1),v=g[0],h=(v=void 0===v?{}:v).toGroupSelectionValue,y=v.buildOSFilterConfig;(0,s.useEffect)((function(){void 0!==n&&void 0!==c||(0,l.GB)().then((function(e){var t=e.results;f((t||[]).map((function(e){var t=e.value,n=t.name,a=t.major,r=t.minor,s="".concat(a,".").concat(r);return{label:"".concat(n," ").concat(s),value:"".concat(s)}})))}))}),[]),(0,s.useEffect)((function(){!0===c&&f(n)}),[c]);var b=(""===e?[]:e.split(",")).map((function(e){return e.substring(5)}));return(0,a.Z)(y?[y({id:"rhel_version",value:h(b),onChange:function(e,n){var a=Object.values(n).flatMap((function(e){return Object.keys(e)})).map((function(e){return"RHEL ".concat(e)})).toString();t({filter:{os:a}})}},p)]:[])}},49642:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var a=n(80123),r=n(39173),s=n(45697),o=n.n(s),i=n(43297),l=n.n(i),c=n(85991),u=n(49489),m=n(334),p=function(e){var t=e.items,n=e.headerOUIA;return l().createElement(c.a,null,t.filter(Boolean).map((function(e){return l().createElement(u.g,{key:e.title,isActive:e.isActive},e.to&&l().createElement(m.Link,{to:e.to,"data-ouia-component-type":"".concat(n,"-breadcrumb"),"data-ouia-component-id":"breadcrumb-to-".concat(e.title)},e.title)||e.title)})))};p.propTypes={items:o().arrayOf(o().shape({isActive:o().bool,to:o().string,title:o().string})),headerOUIA:o().string};const f=p;var d=n(82819),g=n(98378),v=function(e){var t=e.history,n=e.headerOUIA;return l().createElement(g.mQ,{onSelect:function(e,n){t.push(n)},activeKey:t.location.pathname,className:"patchman-tabs"},l().createElement(d.O,{eventKey:"/advisories",title:"Applicable advisories","data-ouia-component-type":"".concat(n,"-tab"),"data-ouia-component-id":"".concat(n,"-tab-Applicable advisories'")}),l().createElement(d.O,{eventKey:"/systems/",title:"Systems","data-ouia-component-type":"".concat(n,"-tab"),"data-ouia-component-id":"".concat(n,"-tab-Systems")}))};v.propTypes={history:o().object,headerOUIA:o().string};const h=(0,m.withRouter)(v);var y=function(e){var t=e.title,n=e.showTabs,s=e.breadcrumbs,o=e.children,i=e.headerOUIA;return l().createElement(l().Fragment,null,l().createElement(a.Z,{"data-ouia-component-type":"".concat(i,"-page-header")},s&&l().createElement(f,{items:s,headerOUIA:i}),l().createElement(r.Z,{title:t}),o),n&&l().createElement(h,{headerOUIA:i}))};y.propTypes={title:o().string,showTabs:o().bool,breadcrumbs:o().array,children:o().any,headerOUIA:o().string};const b=y},74079:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ye});var a=n(4942),r=n(87462),s=n(29439),o=n(43297),i=n.n(o),l=n(45697),c=n.n(l),u=n(11777),m=n(53601),p=n(96354),f=n(26854),d=n(11947),g=n(74777),v=n(78826),h=n(45787),y=n(28216),b=n(48880),E=n(63540),S=n(20018),Z=n(81159),O=n(34023),P=n(9568),D=n(32132),w=n(30893),I=n(23279),N=n.n(I),M=n(5866),T=n(95511),j=n(80887),C=n(77221),x=n(82553),F=n(23811),_=n(67463),k=n(36001),R=n(42057),A=n(6202),B=n(9557);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=function(e){var t=e.changePage,n=e.page,a=e.perPage,r=e.totalItems;return i().createElement(k.k,{justifyContent:{default:"justifyContentSpaceBetween"}},i().createElement(R.B,null,i().createElement(A.Button,{variant:"plain","aria-label":"prev",isDisabled:1===n,onClick:function(){return t(n-1)}},i().createElement(M.default,null))),i().createElement(R.B,null,i().createElement(A.Button,{variant:"plain","aria-label":"next",isDisabled:r<n*a,onClick:function(){return t(n+1)}},i().createElement(T.default,null))))},z=function(e){var t=e.setSelectedPatchSet,n=e.selectedSets,a=e.systems,r=(0,y.I0)(),l=(0,b.default)(),c=(0,o.useState)(!0),u=(0,s.Z)(c,2),m=u[0],p=u[1],f=(0,y.v9)((function(e){return e.PatchSetsStore.rows})),d=(0,y.v9)((function(e){return e.PatchSetsStore.queryParams})),g=(0,y.v9)((function(e){return e.PatchSetsStore.status})),v=(0,y.v9)((function(e){return e.PatchSetsStore.metadata}));(0,o.useEffect)((function(){return function(){r((0,B.Im)())}}),[]);var h=(d||{}).search,E="string"==typeof h&&""!==h?h:Boolean(h);(0,o.useEffect)((function(){r((0,B.BY)(U(U({},d),{},{offset:d.offset+(d.page-1)*d.perPage})))}),[d.page,E]);var S=(0,o.useMemo)((function(){return g.isLoading?[i().createElement(C.SelectOption,{key:"loading"},i().createElement(_.Spinner,{size:"md"}))]:null==f?void 0:f.map((function(e){return i().createElement(C.SelectOption,{key:e.id,value:e.name})}))}),[f,g.isLoading]),Z=(0,o.useState)((function(){return N()((function(e){return t={search:e},void r((0,B.br)(t));var t}),700)})),O=(0,s.Z)(Z,1)[0];return i().createElement(F.c,{fieldId:"existing_patch_set",label:D.N.formatMessage(w.Z.textTemplateChoose),isRequired:!0},i().createElement(j.Select,{variant:x.SelectVariant.single,"aria-label":D.N.formatMessage(w.Z.labelsFiltersSearchTemplatePlaceholder),onSelect:function(e,n){p(!1),t(n);var r,s,o=f.filter((function(e){return e.name===n}));1===o.length&&l.change("existing_patch_set",{name:null===(r=o[0])||void 0===r?void 0:r.name,systems:a,id:null===(s=o[0])||void 0===s?void 0:s.id})},placeholderText:D.N.formatMessage(w.Z.labelsFiltersSearchTemplatePlaceholder),inlineFilterPlaceholderText:D.N.formatMessage(w.Z.labelsFiltersSearchTemplatePlaceholder),selections:n,onToggle:function(){p(!m)},isOpen:m,isDisabled:!1,onFilter:function(e,t){O(t)},hasInlineFilter:!0,className:"patch-existing-sets",footer:i().createElement(q,{changePage:function(e){r((0,B.br)(U(U({},d),{},{page:e})))},page:d.page,perPage:d.perPage,totalItems:v.total_items})},S))};q.propTypes={changePage:c().func,page:c().number,perPage:c().number,totalItems:c().number},z.propTypes={setSelectedPatchSet:c().func,selectedSets:c().array,systems:c().array};const G=z;var K=n(49287),W=n(18038),Q=n(64124),J=n(5391);const V=function(e){if(e&&"string"==typeof e&&null===e.match(/^(\d{4})-(0[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])$/))return D.N.formatMessage(w.Z.labelsErrorInvalidDate);var t=new Date(e),n=t.getTime(),a=new Date(1990,0,1);return"number"!=typeof n||Number.isNaN(n)?D.N.formatMessage(w.Z.labelsErrorInvalidDate):t<a?D.N.formatMessage(w.Z.labelsErrorDateLimit):void 0};var Y=[{key:"display_name",title:"Name",props:{width:50}},{title:"OS",key:"os",props:{width:25}},{key:"baseline_name",title:"Patch template",props:{width:25}}],$=[{name:"configurationStep",component:"configurationStep"},{name:"existing_patch_set",component:p.Z.TEXT_FIELD,hidden:!0}],H=[{name:"name",component:"nameField",validate:[{type:Q.Z.REQUIRED}]}],X=[{name:"description",component:"descriptionField"}],ee=[{name:"toDate",component:"toDateField",validate:[{type:Q.Z.REQUIRED},{type:"validate-date"}]}],te=function(e){var t="";switch(e){case"assign":t=D.N.formatMessage(w.Z.templateTitleAssignSystem);break;case"edit":t=D.N.formatMessage(w.Z.templateEdit);break;default:t=D.N.formatMessage(w.Z.templateTitle)}return t},ne=function(e){return{fields:[{component:p.Z.WIZARD,name:"patch-set-wizard",isDynamic:!0,inModal:!0,showTitles:!0,title:te(e),description:D.N.formatMessage(w.Z.templateDescription),fields:[{name:"patch-set-config",title:D.N.formatMessage("edit"===e?w.Z.templateEdit:w.Z.templateNew),fields:$,nextStep:"systems"},{name:"systems",title:D.N.formatMessage(w.Z.templateSelectSystems),fields:[{name:"systems",component:"reviewSystems"}],nextStep:"review"},{name:"review",title:D.N.formatMessage(w.Z.templateReview),fields:[{name:"review",component:"reviewPatchSet"}]}]}]}},ae={"validate-systems":function(){return function(e){var t=(0,J.LI)(e);return void 0===t||t.length>0?void 0:D.N.formatMessage(w.Z.templateNoSystemSelected)}},"validate-date":function(){return V}},re=function(e){var t=e.isLoading,n=(0,b.default)().renderForm;return t?i().createElement(_.Spinner,{size:"md"}):i().createElement(K.r,{hasGutter:!0},i().createElement(W.P,{lg:12,md:12},n(H)),i().createElement(W.P,{lg:12,md:12},n(X)),i().createElement(W.P,{lg:6,md:6},n(ee)))};re.propTypes={isLoading:c().bool};const se=re;var oe=function(e){var t=e.systemsIDs,n=e.patchSetID,a=(0,b.default)(),r=!n&&0!==(null==t?void 0:t.length)||!1,l=(0,o.useState)(!1),c=(0,s.Z)(l,2),u=c[0],m=c[1],p=(0,o.useState)(!0),f=(0,s.Z)(p,2),d=f[0],g=f[1],v=(0,o.useState)([]),h=(0,s.Z)(v,2),I=h[0],N=h[1],M=(0,y.v9)((function(e){return e.SpecificPatchSetReducer}),y.wU),T=M.patchSet,j=M.status,C=function(){g(!d),m(!u)};return(0,o.useEffect)((function(){if(n){var e=T.name,t=T.description,r=T.config.to_time;a.change("name",e),a.change("description",t),a.change("toDate",(0,J.MC)(r))}}),[T]),i().createElement(Z.K,{hasGutter:!0},r&&i().createElement(S.D,{style:{marginTop:"-15px"}},i().createElement(E.xv,{component:E.qO.p},D.N.formatMessage(w.Z.textTemplateSelectedSystems,{systemsCount:t.length,b:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i().createElement("b",null,t)}}))),i().createElement(O.v,null,i().createElement(Z.K,{hasGutter:!0},r&&i().createElement(i().Fragment,null,i().createElement(O.v,null,i().createElement(P.Y,{isChecked:u,name:"radio",onChange:C,label:D.N.formatMessage(w.Z.textTemplateAddToExisting),id:"existing-template"})),i().createElement(O.v,null,u?i().createElement(G,{setSelectedPatchSet:N,selectedSets:I,systems:t}):null),i().createElement(O.v,null,i().createElement(P.Y,{isChecked:d,name:"radio",onChange:C,label:D.N.formatMessage(w.Z.textTemplateCreateNew),id:"new-template"})))||null,i().createElement(O.v,null,d?i().createElement(se,{isLoading:n&&j.isLoading}):null))))};oe.propTypes={systemsIDs:c().array,patchSetID:c().string};const ie=oe;var le=n(12282),ce=n(41693);const ue=function(e){var t,n=(0,ce.Z)(e).input,a=null===(t=(0,b.default)().getState())||void 0===t?void 0:t.values,r=(0,o.useState)(null==a?void 0:a.name),l=(0,s.Z)(r,2),c=l[0],u=l[1];return(0,o.useEffect)((function(){u(a.name)}),[a.name]),i().createElement(F.c,{fieldId:"name",label:D.N.formatMessage(w.Z.labelsColumnsName),isRequired:!0},i().createElement(le.TextInput,{type:"text",isRequired:!0,value:c,onChange:function(e){n.onChange(e),u(e)},"aria-label":"name",autoFocus:!0}))};var me=n(2679);const pe=function(e){var t,n=(0,ce.Z)(e).input,a=null===(t=(0,b.default)().getState())||void 0===t?void 0:t.values,r=(0,o.useState)(null==a?void 0:a.toDate),l=(0,s.Z)(r,2),c=l[0],u=l[1];return(0,o.useEffect)((function(){u(a.toDate)}),[a.toDate]),i().createElement(F.c,{fieldId:"toDate",label:D.N.formatMessage(w.Z.templateDateField),isRequired:!0},i().createElement(k.k,null,i().createElement(R.B,{lg:2,md:2},D.N.formatMessage(w.Z.templateDateUpto)),i().createElement(R.B,{lg:10,md:10},i().createElement(me.Mt,{value:c,onChange:function(e){n.onChange(e),u(e)},popoverProps:{position:"right"},"aria-label":"toDate",validators:[V],invalidFormatText:D.N.formatMessage(w.Z.labelsErrorInvalidDate)}))))},fe=function(e){var t,n=(0,ce.Z)(e).input,a=null===(t=(0,b.default)().getState())||void 0===t?void 0:t.values,r=(0,o.useState)(null==a?void 0:a.description),l=(0,s.Z)(r,2),c=l[0],u=l[1];return(0,o.useEffect)((function(){u(a.description)}),[a.description]),i().createElement(F.c,{fieldId:"description",label:D.N.formatMessage(w.Z.labelsDescription)},i().createElement(le.TextInput,{type:"text",isRequired:!0,value:c,onChange:function(e){n.onChange(e),u(e)},"aria-label":"description"}))};var de=n(93433),ge=n(45987),ve=n(90747),he=n(36248),ye=n(91607),be=n(38776),Ee=n(75585),Se=n(23188),Ze=n(11220),Oe=n(13784),Pe=n(83905),De=n(93080),we=["systemsIDs"];function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Me=function(e){var t=e.systemsIDs,n=void 0===t?[]:t,a=(0,ge.Z)(e,we),r=(0,ce.Z)(a).input,l=(0,b.default)().getState().values,c=(0,J.Qh)(n,null==l?void 0:l.systems),u=(0,o.useState)(!0),m=(0,s.Z)(u,2),p=m[0],f=m[1],d=(0,o.useState)([]),g=(0,s.Z)(d,2),v=g[0],h=g[1],P=(0,o.useState)([]),I=(0,s.Z)(P,2),N=I[0],M=I[1],T=(0,o.useState)(c),j=(0,s.Z)(T,2),C=j[0],x=j[1],F=(0,o.useState)({limit:20,offset:0,total_items:0}),_=(0,s.Z)(F,2),k=_[0],R=_[1],A=(0,o.useState)({page:1,perPage:20,filter:{stale:[!0,!1]}}),B=(0,s.Z)(A,2),L=B[0],U=B[1],q=(0,y.v9)((function(e){return e.SpecificPatchSetReducer}),y.wU).assignedSystems;(0,o.useEffect)((function(){(0,Ze.lc)(Ne(Ne({},L),{},{filter:Ne(Ne({},L.filter),{},{id:n.length>0?"in:".concat(n.join(",")):void 0})})).then((function(e){M((0,he.ub)(e.data,Ne(Ne({},(0,J.Qh)([].concat((0,de.Z)(q),(0,de.Z)(n)))),C))),R(e.meta),h(e.data),f(!1)}))}),[L.filter,L]),(0,o.useEffect)((function(){r.onChange(C),M((0,he.ub)(v,C))}),[C]),(0,o.useEffect)((function(){x(Ne(Ne({},C),(0,J.Qh)(q)))}),[q]);var z=function(e){f(!0),U((function(t){return Ne(Ne(Ne({},t),e),{},{filter:Ne(Ne({},t.filter),e.filter)})}))},G=(0,Pe.Z)(L.filter.os,z),K=(0,ye._f)(Y,z,1),W=i().useMemo((function(){return(0,J.hO)(Y,k.sort,1)}),[k.sort]),Q=(0,ye.SL)(k.limit,z),V=(0,ye._T)(z),$=(0,De.r)(N,C,{endpoint:De.c.systems,queryParams:Ne(Ne({},L),{},{filter:Ne(Ne({},L.filter),n.length>0&&{id:"in:".concat(n.join(","))})}),customSelector:function(e){var t=e.reduce((function(e,t){return e[t.id]=!!t.selected||void 0,e}),{});x(Ne(Ne({},C),t))}});return i().createElement(Z.K,{hasGutter:!0},i().createElement(O.v,null,i().createElement(S.D,{style:{marginTop:"-15px"}},i().createElement(E.xv,{component:E.qO.p},D.N.formatMessage(w.Z.textTemplateReviewSystems)))),i().createElement(O.v,null,i().createElement(be.Z,{columns:Y,compact:!0,onSetPage:Q,onPerPageSelect:V,onSort:K,selectedRows:C,onSelect:$,sortBy:W,apply:z,tableOUIA:"patch-set-table",paginationOUIA:"patch-set-pagination",store:{rows:N,metadata:k,status:{isLoading:p},queryParams:L},filterConfig:{items:[(0,ve.Z)(z,L.search,D.N.formatMessage(w.Z.labelsFiltersSystemsSearchTitle),D.N.formatMessage(w.Z.labelsFiltersSearch)),(0,Ee.Z)(z,L.filter),(0,Se.Z)(z,L.filter)].concat((0,de.Z)(G))},searchChipLabel:D.N.formatMessage(w.Z.labelsFiltersSystemsSearchTitle),defaultFilters:Oe.hb})))};Me.propTypes={systemsIDs:c().array};const Te=Me;var je=n(19017),Ce=n(53325),xe=function(e,t){return i().createElement(o.Fragment,null,i().createElement(Ce.Ts,{component:Ce.v$.dt},D.N.formatMessage(w.Z[e]),":"),i().createElement(Ce.Ts,{component:Ce.v$.dd},t))};const Fe=function(){var e=(0,b.default)().getState().values,t=e.existing_patch_set||e,n=t.name,a=t.description,r=t.toDate,s=e.systems;return i().createElement(Z.K,{hasGutter:!0},i().createElement(O.v,null,i().createElement(S.D,{style:{marginTop:"-15px"}},i().createElement(E.xv,{component:E.qO.p},D.N.formatMessage(w.Z.textPatchTemplateReview,{b:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i().createElement("b",null,t)}})))),i().createElement(O.v,null,i().createElement(S.D,null,i().createElement(je.Gn,{component:je.F_.dl},xe("labelsColumnsName",n),a&&xe("labelsDescription",a),r&&xe("labelsDate",r),xe("labelsSelectedSystems",s&&Object.values(s).filter((function(e){return e})).length)))))};var _e=n(34348),ke=n(219),Re=n(86728),Ae=n(74183),Be=n(94228),Le=n(80858),Ue=n(35451),qe=n(84564),ze=n(18802),Ge=n(83215),Ke=function(e){var t=e.onClose,n=e.state,a=n.requestPending,r=n.failed,s=n.error,o=(0,y.I0)();return r&&o((0,Ge.wN)({title:"There was an error while processing your request",description:s.detail,variant:"danger"})),i().createElement(ke.ub,{variant:ke.IQ.large,"data-component-ouia-id":"patch-set-progress"},i().createElement(Re.k,{color:r?"var(--pf-global--danger-color--100)":a?void 0:"var(--pf-global--success-color--100)",icon:r?qe.default:a?ze.ZP:Ue.default}),i().createElement(_e.Title,{headingLevel:"h1",size:"lg"},r?D.N.formatMessage(w.Z.textErrorSomethingWrong):a?D.N.formatMessage(w.Z.textConfigurationInProgress):D.N.formatMessage(w.Z.textPatchTemplateSuccessfuly)),i().createElement(Ae.B,null,i().createElement(K.r,{hasGutter:!0},a&&i().createElement(i().Fragment,null,i().createElement(W.P,null,i().createElement(Be.p,null,i().createElement(Le.u,{variant:"indeterminate"},D.N.formatMessage(w.Z.textPatchTemplatePending)))),i().createElement(W.P,null,i().createElement(A.Button,{variant:"link",isInline:!0,onClick:t},D.N.formatMessage(w.Z.labelsCancel))," ")),!a&&!r&&i().createElement(W.P,null,i().createElement(A.Button,{variant:"primary",onClick:t},D.N.formatMessage(w.Z.textReturnToApp))),!a&&r&&i().createElement(i().Fragment,null,i().createElement(W.P,null,i().createElement(Be.p,null,i().createElement(Le.u,{variant:"indeterminate"},D.N.formatMessage(w.Z.templateError,{a:function(e){return i().createElement("a",{href:"https://www.redhat.com/en/services/support"},e)}})))),i().createElement(W.P,null,i().createElement(A.Button,{variant:"primary",onClick:t},D.N.formatMessage(w.Z.textReturnToApp)))))))};Ke.propTypes={onClose:c().func,state:c().object};const We=Ke;function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ve=function(e){var t,n=e.systemsIDs,l=e.setBaselineState,c=e.patchSetID,b=n?"assign":c?"edit":"create",E=(0,o.useState)({submitted:!1,formValues:{},requestPending:!0,failed:!1,shouldRefresh:!1}),S=(0,s.Z)(E,2),Z=S[0],O=S[1],P=(0,y.I0)();(0,o.useEffect)((function(){return c&&(P((0,B.gK)(c)),P((0,B.JJ)(c,{limit:-1}))),function(){return P((0,B.r8)())}}),[]);var I=(0,ye.np)(Z,O,c),N=function(){var e=!Z.failed&&Z.submitted;l({isPatchSetWizardOpen:!1,systemsIDs:[],patchSetID:void 0,shouldRefresh:e}),O({formValues:{},submitted:!1})},M={nameField:{component:ue},descriptionField:{component:fe},toDateField:{component:pe},configurationStep:{component:ie,systemsIDs:n||[],patchSetID:c},reviewSystems:{component:Te,systemsIDs:n||[]},reviewPatchSet:{component:Fe,systemsIDs:n||[]}};return i().createElement(o.Fragment,null,!Z.submitted&&i().createElement(u.Z,{schema:ne(b),subscription:{values:!0},FormTemplate:function(e){return i().createElement(m.ZP,(0,r.Z)({},e,{showFormControls:!1}))},componentMapper:Je((t={},(0,a.Z)(t,p.Z.WIZARD,{component:f.Z,className:"patch-set","data-ouia-component-id":"patch-set-wizard"}),(0,a.Z)(t,p.Z.TEXT_FIELD,d.Z),(0,a.Z)(t,p.Z.DATE_PICKER,g.Z),t),M),validatorMapper:ae,onSubmit:I,onCancel:N})||i().createElement(v.Modal,{isOpen:!0,variant:"large",showClose:!1,className:"patch-set",hasNoBodyWrapper:!0,"aria-describedby":"patch-set-description","aria-labelledby":"patch-set-modal-title"},i().createElement(h.e,{className:"patch-set",title:te(b),description:D.N.formatMessage(w.Z.templateDescription),steps:[{name:"progress",component:i().createElement(We,{onClose:N,state:Z}),isFinishedStep:!0}],onClose:N})))};Ve.propTypes={setBaselineState:c().func,systemsIDs:c().array,patchSetID:c().string};const Ye=(0,o.memo)(Ve,(function(e,t){return JSON.stringify(e)===JSON.stringify(t)}))},79875:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(29439),r=n(43297),s=n(5391);const o=function(e){var t=(0,r.useState)({isPatchSetWizardOpen:!1,isUnassignSystemsModalOpen:!1,shouldRefresh:!1,systemsIDs:[]}),n=(0,a.Z)(t,2),o=n[0],i=n[1];return{patchSetState:o,setPatchSetState:i,openPatchSetAssignWizard:function(t){i({isPatchSetWizardOpen:!0,systemsIDs:"string"==typeof t&&""!==t?[t]:(0,s.LI)(e),shouldRefresh:!1})},openUnassignSystemsModal:function(e){i({isUnassignSystemsModalOpen:!0,systemsIDs:e,shouldRefresh:!1})},openPatchSetEditModal:function(e){i({isPatchSetWizardOpen:!0,patchSetID:e})}}}},45467:()=>{},81754:()=>{},70347:()=>{},58392:()=>{},10497:()=>{},93818:()=>{},94498:()=>{},54476:()=>{},80897:()=>{},71338:()=>{},74282:()=>{},25238:()=>{},91993:()=>{},99624:()=>{},36974:()=>{},40209:()=>{},72816:()=>{},53519:()=>{},11177:()=>{}}]);
//# sourceMappingURL=../sourcemaps/3103.d6eb5887852c511ce7d020f65814cf5a.js.map