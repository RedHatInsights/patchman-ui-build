"use strict";(self.webpackChunkpatch=self.webpackChunkpatch||[]).push([[9155],{94712:(e,t,a)=>{a.d(t,{A:()=>h});var s=a(65353),i=a(28416),n=a(38296),r=a(47173),l=a(35224),o=a(24307),c=a(41661),p=a(41724),u=a(62472);const d="--pf-v5-c-chip__text--MaxWidth";class h extends i.Component{constructor(e){super(e),this.span=i.createRef(),this.setChipStyle=()=>({[d]:this.props.textMaxWidth}),this.renderOverflowChip=()=>{const e=this.props,{badge:t,children:a,className:r,onClick:l,ouiaId:o,textMaxWidth:p,style:d,component:h,tooltipPosition:m,isOverflowChip:f,closeBtnAriaLabel:g,isReadOnly:b}=e,v=(0,s.__rest)(e,["badge","children","className","onClick","ouiaId","textMaxWidth","style","component","tooltipPosition","isOverflowChip","closeBtnAriaLabel","isReadOnly"]),C=h;return i.createElement(C,Object.assign({onClick:l},p&&Object.assign({style:this.setChipStyle()},d),{className:(0,n.css)(c.default.chip,c.default.modifiers.overflow,r)},"button"===h?{type:"button"}:{},(0,u.dp)("OverflowChip",void 0!==o?o:this.state.ouiaStateId),v),i.createElement("span",{className:(0,n.css)(c.default.chipContent)},i.createElement("span",{className:(0,n.css)(c.default.chipText)},a),t&&t))},this.renderChip=e=>{const{children:t,tooltipPosition:a}=this.props;return this.state.isTooltipVisible?i.createElement(l.u,{position:a,content:t},this.renderInnerChip(e)):this.renderInnerChip(e)},this.state={isTooltipVisible:!1,ouiaStateId:(0,u.ql)(h.displayName)}}componentDidMount(){this.setState({isTooltipVisible:Boolean(this.span.current&&this.span.current.offsetWidth<this.span.current.scrollWidth)})}componentDidUpdate(e,t){const a=Boolean(this.span.current&&this.span.current.offsetWidth<this.span.current.scrollWidth);t.isTooltipVisible!==a&&this.setState({isTooltipVisible:a})}renderInnerChip(e){const t=this.props,{badge:a,children:l,className:p,onClick:d,closeBtnAriaLabel:m,isReadOnly:f,isOverflowChip:g,tooltipPosition:b,id:v,component:C,ouiaId:y,textMaxWidth:O}=t,E=(0,s.__rest)(t,["badge","children","className","onClick","closeBtnAriaLabel","isReadOnly","isOverflowChip","tooltipPosition","id","component","ouiaId","textMaxWidth"]),P=C;return i.createElement(P,Object.assign({},O&&{style:this.setChipStyle()},{className:(0,n.css)(c.default.chip,p)},this.state.isTooltipVisible&&{tabIndex:0},(0,u.dp)(h.displayName,void 0!==y?y:this.state.ouiaStateId),E),i.createElement("span",{className:(0,n.css)(c.default.chipContent)},i.createElement("span",{ref:this.span,className:(0,n.css)(c.default.chipText),id:e},l),a&&a),!f&&i.createElement("span",{className:(0,n.css)(c.default.chipActions)},i.createElement(r.zx,{onClick:d,variant:"plain","aria-label":m,id:`remove_${e}`,"aria-labelledby":`remove_${e} ${e}`,ouiaId:y||m},i.createElement(o.ZP,{"aria-hidden":"true"}))))}render(){const{isOverflowChip:e}=this.props;return i.createElement(p.w,null,(t=>e?this.renderOverflowChip():this.renderChip(this.props.id||t)))}}h.displayName="Chip",h.defaultProps={closeBtnAriaLabel:"close",className:"",isOverflowChip:!1,isReadOnly:!1,tooltipPosition:"top",onClick:e=>{},component:"div"}},18759:(e,t,a)=>{a.d(t,{Z:()=>m});var s=a(65353),i=a(28416),n=a(57065),r=a(38296),l=a(47173),o=a(94712),c=a(35224),p=a(72781),u=a(80164),d=a(41724),h=a(62472);class m extends i.Component{constructor(e){super(e),this.headingRef=i.createRef(),this.toggleCollapse=()=>{this.setState((e=>({isOpen:!e.isOpen,isTooltipVisible:Boolean(this.headingRef.current&&this.headingRef.current.offsetWidth<this.headingRef.current.scrollWidth)})))},this.state={isOpen:this.props.defaultIsOpen,isTooltipVisible:!1}}componentDidMount(){this.setState({isTooltipVisible:Boolean(this.headingRef.current&&this.headingRef.current.offsetWidth<this.headingRef.current.scrollWidth)})}renderLabel(e){const{categoryName:t,tooltipPosition:a}=this.props,{isTooltipVisible:s}=this.state;return s?i.createElement(c.u,{position:a,content:t},i.createElement("span",{tabIndex:0,ref:this.headingRef,className:(0,r.css)(n.default.chipGroupLabel)},i.createElement("span",{id:e},t))):i.createElement("span",{ref:this.headingRef,className:(0,r.css)(n.default.chipGroupLabel),id:e},t)}render(){const e=this.props,{categoryName:t,children:a,className:c,isClosable:f,closeBtnAriaLabel:g,"aria-label":b,onClick:v,onOverflowChipClick:C,numChips:y,expandedText:O,collapsedText:E,ouiaId:P,defaultIsOpen:N,tooltipPosition:k}=e,x=(0,s.__rest)(e,["categoryName","children","className","isClosable","closeBtnAriaLabel","aria-label","onClick","onOverflowChipClick","numChips","expandedText","collapsedText","ouiaId","defaultIsOpen","tooltipPosition"]),{isOpen:S}=this.state,w=i.Children.count(a),Z=(0,u.tJ)(E,{remaining:i.Children.count(a)-y}),T=e=>{const s=S?i.Children.toArray(a):i.Children.toArray(a).slice(0,y);return i.createElement("div",Object.assign({className:(0,r.css)(n.default.chipGroup,c,t&&n.default.modifiers.category),role:"group"},t&&{"aria-labelledby":e},!t&&{"aria-label":b},(0,h.dp)(m.displayName,P)),i.createElement("div",{className:(0,r.css)(n.default.chipGroupMain)},t&&this.renderLabel(e),i.createElement("ul",Object.assign({className:(0,r.css)(n.default.chipGroupList)},t&&{"aria-labelledby":e},!t&&{"aria-label":b},{role:"list"},x),s.map(((e,t)=>i.createElement("li",{className:(0,r.css)(n.default.chipGroupListItem),key:t},e))),w>y&&i.createElement("li",{className:(0,r.css)(n.default.chipGroupListItem)},i.createElement(o.A,{isOverflowChip:!0,onClick:e=>{this.toggleCollapse(),C(e)},component:"button"},S?O:Z)))),f&&i.createElement("div",{className:(0,r.css)(n.default.chipGroupClose)},i.createElement(l.zx,{variant:"plain","aria-label":g,onClick:v,id:`remove_group_${e}`,"aria-labelledby":`remove_group_${e} ${e}`,ouiaId:P||g},i.createElement(p.ZP,{"aria-hidden":"true"}))))};return 0===w?null:i.createElement(d.w,null,(e=>T(this.props.id||e)))}}m.displayName="ChipGroup",m.defaultProps={expandedText:"Show Less",collapsedText:"${remaining} more",categoryName:"",defaultIsOpen:!1,numChips:3,isClosable:!1,onClick:e=>{},onOverflowChipClick:e=>{},closeBtnAriaLabel:"Close chip group",tooltipPosition:"top","aria-label":"Chip group category"}},41435:(e,t,a)=>{a.d(t,{Dl:()=>r,dw:()=>i,e4:()=>l,ir:()=>s});var s,i,n=a(28416);!function(e){e.right="right",e.left="left"}(s||(s={})),function(e){e.up="up",e.down="down"}(i||(i={}));const r=n.createContext({onSelect:e=>{},id:"",toggleIndicatorClass:"",toggleIconClass:"",toggleTextClass:"",menuClass:"",itemClass:"",toggleClass:"",baseClass:"",baseComponent:"div",sectionClass:"",sectionTitleClass:"",sectionComponent:"section",disabledClass:"",plainTextClass:"",menuComponent:"ul"}),l=n.createContext({keyHandler:null,sendRef:null})},72781:(e,t,a)=>{a.d(t,{B9:()=>i,ZP:()=>r,xD:()=>n});var s=a(40400);const i={name:"TimesCircleIcon",height:512,width:512,svgPath:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z",yOffset:0,xOffset:0},n=(0,s.I)(i),r=n},16590:(e,t,a)=>{a.d(t,{Z:()=>c});var s=a(87123),i=a(28416),n=a.n(i),r=a(13784),l=a(32132),o=a(30893);const c=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).update_status,a=n().useMemo((function(){return r.tG.map((function(e){var t=e.value;return{label:e.label,value:t.toString()}}))}),[]);return{label:l.N.formatMessage(o.Z.labelsFiltersStatus),type:s.Yu.checkbox,filterValues:{onChange:function(t,a){!function(t){e({filter:{update_status:t}})}(a)},items:a,value:t,placeholder:l.N.formatMessage(o.Z.labelsColumnsStatusPlaceholder)}}}},8453:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ee});var s=a(4942),i=a(49739),n=a(83826),r=a(68340),l=a(68774),o=a(14748),c=a(28416),p=a.n(c),u=a(93942),d=a(62012),h=a(30893),m=a(49642),f=a(29439),g=a(50693),b=a(16475),v=a(45697),C=a.n(v),y=a(5391),O=a(37545),E=function(e){var t=e.attributes.description,a=e.isLoading,s=p().useState(1e3),r=(0,f.Z)(s,2),l=r[0],o=r[1];return t&&p().createElement(g.r,{hasGutter:!0,style:{minHeight:50}},p().createElement(b.P,{md:8,sm:12},p().createElement(O.ZP,{loading:a,variant:O.x.spinner,centered:!0},p().createElement(i.K,{hasGutter:!0},p().createElement(n.v,null),p().createElement(n.v,{style:{whiteSpace:"pre-line"}},t&&(0,y.Nt)(t,l,o))))))||p().createElement(c.Fragment,null)};E.propTypes={attributes:C().object,isLoading:C().bool};const P=E;var N=a(14878),k=a(75863),x=a(33739),S=a(90747),w=a(16590),Z=a(87462),T=a(46361),I=a(47189),j=a(27730),L=a(87123),_=a(32132);const M=function(e,t,a){var s=p().useState(!1),i=(0,f.Z)(s,2),n=i[0],r=i[1],l=p().useState(10),o=(0,f.Z)(l,2),c=o[0],u=o[1],d=t&&t.installed_evra,m=d&&("string"==typeof t.installed_evra&&t.installed_evra.split(",")||t.installed_evra),g=a.data&&a.data.sort().map((function(e){return{value:e.evra}}))||[{value:_.N.formatMessage(h.Z.textNoVersionAvailable),disabled:!0}];return{type:L.Yu.custom,label:_.N.formatMessage(h.Z.labelsFiltersPackageVersionTitle),value:"custom",filterValues:{children:p().createElement(T.P,(0,Z.Z)({variant:g.length>0&&I.TM.checkbox||I.TM.typeaheadMulti,typeAheadAriaLabel:_.N.formatMessage(h.Z.labelsFiltersPackageVersionPlaceholder),onToggle:function(e,t){return function(e){r(e)}(t)},onSelect:function(a,s){var i={filter:{}};if(!m||m&&!m.includes(s)){var n=d&&""!==t.installed_evra&&t.installed_evra.concat(",")||"";i.filter={installed_evra:"".concat(n).concat(s)}}else{var r=1!==m.length&&m.filter((function(e){return!e.includes(s)})).join(",")||void 0;i.filter={installed_evra:r}}e(i)},selections:m,isOpen:n,"aria-labelledby":"patch-version-filter",placeholderText:_.N.formatMessage(h.Z.labelsFiltersPackageVersionPlaceholder)},c<g.lengt&&{loadingVariant:{text:"View more",onClick:function(){u(g.length)}}},{style:{maxHeight:"400px",overflow:"auto"}}),g.slice(0,c).map((function(e,t){return p().createElement(j.$,(0,Z.Z)({isDisabled:e.disabled,key:t,value:e.value},e.description&&{description:e.description}))})))}}};var D=a(52579),R=a(7322),A=a(9557),V=a(5747),B=a(11220),F=a(13784),W=a(59751),G=a(53074),$=a(58684),q=a(97779);function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function H(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(Object(a),!0).forEach((function(t){(0,s.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var U=function(e){var t=e.packageName,a=(0,u.I0)(),s=(0,u.oR)(),i=p().useState([]),n=(0,f.Z)(i,2),r=n[0],l=n[1],o=(0,d.useSearchParams)(),m=(0,f.Z)(o,2),g=m[0],b=m[1],v=(0,y.PZ)("?"+g.toString()),C=(0,u.v9)((function(e){var t=e.entities;return(null==t?void 0:t.rows)||[]}),u.wU),O=(0,u.v9)((function(e){var t=e.entities;return(null==t?void 0:t.status)||{}})),E=(0,u.v9)((function(e){var t=e.entities;return(null==t?void 0:t.total)||0})),P=(0,u.v9)((function(e){var t=e.entities;return(null==t?void 0:t.selectedRows)||[]})),N=(0,u.v9)((function(e){var t=e.PackageSystemsStore;return(null==t?void 0:t.queryParams)||{}})),Z=N.systemProfile,T=N.selectedTags,I=N.filter,j=N.search,L=N.sort,z=N.page,U=N.perPage,K=(0,c.useCallback)((function(e){a((0,A.g5)(e))}),[]);(0,c.useEffect)((function(){K(v),(0,B.dh)({package_name:t}).then(l)}),[]),(0,c.useEffect)((function(){return function(){a((0,A.RV)()),a((0,A.d)())}}),[]);var Q=(0,W.j5)(H(H({},I),{},{search:j}),K),Y=(0,f.Z)(Q,1)[0],J={items:[(0,S.Z)(K,j,_.N.formatMessage(h.Z.labelsFiltersSystemsSearchTitle),_.N.formatMessage(h.Z.labelsFiltersSystemsSearchPlaceholder)),(0,w.Z)(K,I),M(K,I,r)]},X=(0,c.useMemo)((function(){return{filters:(0,y.mt)(I,j,_.N.formatMessage(h.Z.labelsFiltersSystemsSearchTitle)),onDelete:Y}}),[I,j]),ee=(0,W.ry)(C,P,{endpoint:W.cB.packageSystems(t),queryParams:N,selectionDispatcher:A.i2,constructFilename:function(e){return"".concat(e.available_evra)},apiResponseTransformer:y.lq,totalItems:E}),te=P&&(0,y.Qy)(P).length,ae=(0,W.AR)(t,N,{csv:B.nx,json:B.bb},a),se=(0,c.useCallback)((function(e){var a=[];return e.forEach((function(e){var s=t+"-"+P[e],i="patch-package:".concat(s),n=a.findIndex((function(e){return e.id===i}));-1!==n?a[n].systems.push(e):s&&a.push({id:i,description:s,systems:[e]})})),!!a.length&&{issues:a}}),[P]),ie=(0,W.U)(B.vo,K,{packageName:t},b),ne=(0,W.Pz)(te,ee,{total_items:E},C);return p().createElement(p().Fragment,null,O.hasError&&p().createElement(D.Z,{code:O.code})||p().createElement(x.Z,{disableDefaultColumns:["system_profile","updated","groups"],isFullView:!0,autoRefresh:!0,initialLoading:!0,hideFilters:{all:!0,tags:!1,operatingSystem:!1},columns:$.Hd,showTags:!0,getEntities:ie,customFilters:{patchParams:{search:j,filter:I,systemProfile:Z,selectedTags:T}},paginationProps:{isDisabled:0===E},onLoad:function(e){var t=e.mergeWithEntities;s.replaceReducer((0,q.UY)(H(H({},R.E),t((0,V.Kq)($.Hd,V.OC),(0,y.fm)({page:z,perPage:U,sort:L,search:j},v)))))},tableProps:{canSelectAll:!1,variant:k.B.compact,className:"patchCompactInventory",isStickyHeader:!0},filterConfig:J,activeFiltersConfig:X,bulkSelect:ee&&ne,exportConfig:{isDisabled:0===E,onSelect:ae},dedicatedAction:p().createElement(G.Z,{remediationProvider:function(){return(0,y.Sz)((0,y.Q6)(P),se,F.oN.package)},isDisabled:0===(0,y.Qy)(P).length})}))};U.propTypes={packageName:C().string};const K=U;var Q=a(83215),Y=a(55140);function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(Object(a),!0).forEach((function(t){(0,s.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const ee=function(){var e=(0,u.I0)(),t=(0,d.useParams)().packageName,a=(0,Y.Z)();(0,c.useEffect)((function(){t&&a.updateDocumentTitle("".concat(t," - ").concat(_.N.formatMessage(h.Z.titlesPackages),"\n        ").concat(F.JD))}),[a,t]);var s=(0,u.v9)((function(e){return e.PackageDetailStore})),f=(0,u.v9)((function(e){return e.PackageDetailStore.status}));p().useEffect((function(){e((0,A.Sb)({packageName:t}))}),[]),p().useEffect((function(){return function(){e((0,Q.L1)()),e((0,A.vh)())}}),[]);var g=s.data.attributes;return p().createElement(p().Fragment,null,p().createElement(m.Z,{title:t,headerOUIA:"package-details",breadcrumbs:[{title:_.N.formatMessage(h.Z.titlesPatchPackages),to:"/packages",isActive:!1},{title:t,isActive:!0}]},f.hasError?p().createElement(N.Z,null):p().createElement(P,{attributes:X(X({},g),{},{id:t}),isLoading:f.isLoading})),p().createElement(o.ZP,null,p().createElement(i.K,{hasGutter:!0},p().createElement(n.v,null,p().createElement(l.D,null,p().createElement(r.x,{component:r.q.h2},_.N.formatMessage(h.Z.titlesAffectedSystems)))),p().createElement(n.v,null,f.hasError&&p().createElement(D.Z,null)||!f.isLoading&&p().createElement(K,{packageName:t})))))}}}]);
//# sourceMappingURL=../sourcemaps/PackageDetail.58da19321aedd4c675c4ae58bd48c5de.js.map