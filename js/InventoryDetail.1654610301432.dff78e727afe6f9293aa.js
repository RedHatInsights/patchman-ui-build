"use strict";(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman||[]).push([[184],{70044:(e,t,n)=>{t.bZ=t.Ux=void 0;const a=n(70655),r=a.__importStar(n(43297)),s=n(43297),o=n(38296),l=a.__importDefault(n(91487)),i=a.__importDefault(n(63339)),c=n(61370),u=n(23053),m=n(18951),p=a.__importDefault(n(43978)),f=n(8045),d=n(18918);var v;!function(e){e.success="success",e.danger="danger",e.warning="warning",e.info="info",e.default="default"}(v=t.Ux||(t.Ux={})),t.bZ=e=>{var{variant:n=v.default,isInline:y=!1,isPlain:g=!1,isLiveRegion:E=!1,variantLabel:b=`${u.capitalize(n)} alert:`,"aria-label":_=`${u.capitalize(n)} Alert`,actionClose:h,actionLinks:S,title:N,titleHeadingLevel:O="h4",children:I="",className:x="",ouiaId:D,ouiaSafe:k=!0,timeout:P=!1,timeoutAnimation:M=3e3,onTimeout:T=(()=>{}),truncateTitle:j=0,tooltipPosition:R,customIcon:A,isExpandable:Z=!1,toggleAriaLabel:C=`${u.capitalize(n)} alert details`,onMouseEnter:w=(()=>{}),onMouseLeave:L=(()=>{})}=e,B=a.__rest(e,["variant","isInline","isPlain","isLiveRegion","variantLabel","aria-label","actionClose","actionLinks","title","titleHeadingLevel","children","className","ouiaId","ouiaSafe","timeout","timeoutAnimation","onTimeout","truncateTitle","tooltipPosition","customIcon","isExpandable","toggleAriaLabel","onMouseEnter","onMouseLeave"]);const U=u.useOUIAProps(t.bZ.displayName,D,k,n),H=r.createElement(r.Fragment,null,r.createElement("span",{className:o.css(i.default.screenReader)},b),N),z=r.useRef(null),$=r.useRef(),[J,V]=s.useState(!1);r.useEffect((()=>{if(!z.current||!j)return;z.current.style.setProperty(p.default.name,j.toString());const e=z.current&&z.current.offsetHeight<z.current.scrollHeight;J!==e&&V(e)}),[z,j,J]);const[W,F]=s.useState(!1),[G,q]=s.useState(!0),[K,Q]=s.useState(),[X,Y]=s.useState(),ee=W&&G&&!K&&!X;r.useEffect((()=>{if((P=!0===P?8e3:Number(P))>0){const e=setTimeout((()=>F(!0)),P);return()=>clearTimeout(e)}}),[]),r.useEffect((()=>{const e=()=>{$.current&&($.current.contains(document.activeElement)?(Y(!0),q(!1)):X&&Y(!1))};return document.addEventListener("focus",e,!0),()=>document.removeEventListener("focus",e,!0)}),[X]),r.useEffect((()=>{if(!1===X||!1===K){const e=setTimeout((()=>q(!0)),M);return()=>clearTimeout(e)}}),[X,K]),r.useEffect((()=>{ee&&T()}),[ee]);const[te,ne]=s.useState(!1);if(ee)return null;const ae=r.createElement(O,Object.assign({},J&&{tabIndex:0},{ref:z,className:o.css(l.default.alertTitle,j&&l.default.modifiers.truncate)}),H);return r.createElement("div",Object.assign({ref:$,className:o.css(l.default.alert,y&&l.default.modifiers.inline,g&&l.default.modifiers.plain,Z&&l.default.modifiers.expandable,te&&l.default.modifiers.expanded,l.default.modifiers[n],x),"aria-label":_},U,E&&{"aria-live":"polite","aria-atomic":"false"},{onMouseEnter:e=>{Q(!0),q(!1),w(e)},onMouseLeave:e=>{Q(!1),L(e)}},B),Z&&r.createElement(m.AlertContext.Provider,{value:{title:N,variantLabel:b}},r.createElement("div",{className:o.css(l.default.alertToggle)},r.createElement(d.AlertToggleExpandButton,{isExpanded:te,onToggleExpand:()=>{ne(!te)},"aria-label":C}))),r.createElement(c.AlertIcon,{variant:n,customIcon:A}),J?r.createElement(f.Tooltip,{content:H,position:R},ae):ae,h&&r.createElement(m.AlertContext.Provider,{value:{title:N,variantLabel:b}},r.createElement("div",{className:o.css(l.default.alertAction)},h)),I&&(!Z||Z&&te)&&r.createElement("div",{className:o.css(l.default.alertDescription)},I),S&&r.createElement("div",{className:o.css(l.default.alertActionGroup)},S))},t.bZ.displayName="Alert"},18951:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AlertContext=void 0;const a=n(70655).__importStar(n(43297));t.AlertContext=a.createContext(null)},61370:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AlertIcon=t.variantIcons=void 0;const a=n(70655),r=a.__importStar(n(43297)),s=n(38296),o=a.__importDefault(n(91487)),l=a.__importDefault(n(35451)),i=a.__importDefault(n(84564)),c=a.__importDefault(n(19694)),u=a.__importDefault(n(31369)),m=a.__importDefault(n(36853));t.variantIcons={success:l.default,danger:i.default,warning:c.default,info:u.default,default:m.default},t.AlertIcon=e=>{var{variant:n,customIcon:l,className:i=""}=e,c=a.__rest(e,["variant","customIcon","className"]);const u=t.variantIcons[n];return r.createElement("div",Object.assign({},c,{className:s.css(o.default.alertIcon,i)}),l||r.createElement(u,null))}},18918:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AlertToggleExpandButton=void 0;const a=n(70655),r=a.__importStar(n(43297)),s=n(16396),o=n(18951),l=a.__importDefault(n(95511)),i=n(38296),c=a.__importDefault(n(91487));t.AlertToggleExpandButton=e=>{var{"aria-label":t,variantLabel:n,onToggleExpand:u,isExpanded:m}=e,p=a.__rest(e,["aria-label","variantLabel","onToggleExpand","isExpanded"]);const{title:f,variantLabel:d}=r.useContext(o.AlertContext);return r.createElement(s.Button,Object.assign({variant:s.ButtonVariant.plain,onClick:u,"aria-expanded":m,"aria-label":""===t?`Toggle ${n||d} alert: ${f}`:t},p),r.createElement("span",{className:i.css(c.default.alertToggleIcon)},r.createElement(l.default,{"aria-hidden":"true"})))},t.AlertToggleExpandButton.displayName="AlertToggleExpandButton"},43978:(e,t)=>{t.__esModule=!0,t.c_alert__title_max_lines={name:"--pf-c-alert__title--max-lines",value:"1",var:"var(--pf-c-alert__title--max-lines)"},t.default=t.c_alert__title_max_lines},7229:(e,t,n)=>{n.d(t,{Z:()=>b});var a=n(15861),r=n(87757),s=n.n(r),o=n(43297),l=n.n(o),i=n(45697),c=n.n(i),u=n(28216),m=n(78826),p=n(6202),f=n(32132),d=n(30893),v=n(11220),y=n(13784),g=n(83215),E=function(e){var t=e.unassignSystemsModalState,n=void 0===t?{}:t,r=e.setUnassignSystemsModalOpen,o=(0,u.I0)(),i=n.systemsIDs,c=n.isUnassignSystemsModalOpen,E=function(e){r({isUnassignSystemsModalOpen:!c,systemsIDs:[],shouldRefresh:e})},b=function(){var e=(0,a.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.J_)({inventory_ids:i});case 2:200===e.sent.status&&(E(!0),o((0,g.wN)((0,y.$z)((null==i?void 0:i.length)||0).success)));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l().createElement(m.Modal,{variant:"small",isOpen:n.isUnassignSystemsModalOpen,title:"Remove systems",onClose:E,titleIconVariant:"warning",actions:[l().createElement(p.Button,{key:"confirm",variant:"danger",onClick:b},f.N.formatMessage(d.Z.labelsRemove)),l().createElement(p.Button,{key:"cancel",variant:"link",onClick:E},f.N.formatMessage(d.Z.labelsCancel))]},f.N.formatMessage(d.Z.textUnassignSystemsStatement,{systemIDs:l().createElement("b",null,i?i.length:0)}))};E.propTypes={setUnassignSystemsModalOpen:c().func,unassignSystemsModalState:c().object};const b=E},98249:(e,t,n)=>{n.r(t),n.d(t,{default:()=>F});var a=n(4942),r=n(29439),s=n(43297),o=n.n(s),l=n(14748),i=n(28216),c=n(49642),u=n(60076),m=n(2807),p=n(92544),f=n(32132),d=n(30893),v=n(91607),y=n(45697),g=n.n(y),E=n(59823),b=n(334),_=n(95995),h=n(39591),S=n(94184),N=n.n(S),O=function(){return O=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},O.apply(this,arguments)},I=function(e){var t=(0,b.useHistory)(),n=(0,i.oR)(),a=e.component;return o().createElement(a,{className:N()(e.className,"inventory")},o().createElement(s.Suspense,{fallback:e.fallback},o().createElement(E.ScalprumComponent,O({history:t,store:n,appName:"inventory",module:"./DetailWrapper",scope:"inventory",ErrorComponent:o().createElement(h.Z,O({component:"InventoryDetailHead",history:t,store:n},e)),ref:e.innerRef},e))))};I.propTypes={fallback:g().node,innerRef:g().object,component:g().string,className:g().string};var x=o().forwardRef((function(e,t){return o().createElement(I,O({innerRef:t},e))}));x.propTypes={fallback:g().node,component:g().string,className:g().string},x.defaultProps={fallback:o().createElement(_.Bullseye,{className:"pf-u-p-lg"},o().createElement(_.Spinner,{size:"xl"})),component:"section"};const D=x;var k=function(){return k=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},k.apply(this,arguments)},P=function(e){var t=(0,b.useHistory)(),n=(0,i.oR)(),a=e.component;return o().createElement(a,{className:N()(e.className,"inventory")},o().createElement(s.Suspense,{fallback:e.fallback},o().createElement(E.ScalprumComponent,k({history:t,store:n,appName:"inventory",module:"./InventoryDetailHead",scope:"inventory",ErrorComponent:o().createElement(h.Z,k({component:"InventoryDetailHead",history:t,store:n},e)),ref:e.innerRef},e))))};P.propTypes={fallback:g().node,innerRef:g().object,component:g().string,className:g().string};var M=o().forwardRef((function(e,t){return o().createElement(P,k({innerProps:t},e))}));M.propTypes={fallback:g().node,component:g().string,className:g().string},M.defaultProps={fallback:o().createElement(_.Bullseye,{className:"pf-u-p-lg"},o().createElement(_.Spinner,{size:"xl"})),component:"section"};const T=M;var j=function(){return j=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},j.apply(this,arguments)},R=function(e){var t=(0,b.useHistory)(),n=(0,i.oR)(),a=e.component;return o().createElement(a,{className:N()(e.className,"inventory")},o().createElement(s.Suspense,{fallback:e.fallback},o().createElement(E.ScalprumComponent,j({history:t,store:n,appName:"inventory",module:"./AppInfo",scope:"inventory",ErrorComponent:o().createElement(h.Z,j({component:"InventoryDetailHead",history:t,store:n},e)),ref:e.innerRef},e))))};R.propTypes={fallback:g().node,innerRef:g().object,component:g().string,className:g().string};var A=o().forwardRef((function(e,t){return o().createElement(R,j({innerRef:t},e))}));A.propTypes={fallback:g().node,component:g().string,className:g().string},A.defaultProps={fallback:o().createElement(_.Bullseye,{className:"pf-u-p-lg"},o().createElement(_.Spinner,{size:"xl"})),component:"section"};const Z=A;var C=n(70044),w=n(49287),L=n(18038),B=n(20018),U=n(63540),H=n(9557),z=n(83215),$=n(32166),J=n(7229);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var W=function(e){var t,n=e.match,y=o().useState({isUnassignSystemsModalOpen:!1,systemsIDs:[],shouldRefresh:!1}),g=(0,r.Z)(y,2),E=g[0],b=g[1],_=o().useState({isOpen:!1,shouldRefresh:!1,systemsIDs:[]}),h=(0,r.Z)(_,2),S=h[0],N=h[1],O=(0,i.I0)(),I=(0,i.v9)((function(e){var t=e.entityDetails;return t&&t.entity})),x=(0,i.v9)((function(e){var t=e.entityDetails;return null!=t?t:{}})),k=x.hasThirdPartyRepo,P=x.patchSetName,M=null===(t=n.params)||void 0===t?void 0:t.inventoryId;(0,s.useEffect)((function(){return O((0,H.Eh)(M)),function(){O((0,z.L1)())}}),[S.shouldRefresh,E.shouldRefresh]);var j=I&&"".concat(I.display_name," - ").concat(f.N.formatMessage(d.Z.titlesSystems));return(0,v.Iw)(j),o().createElement(D,{onLoad:function(e){var t=e.mergeWithDetail;(0,m.z)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t(p.J)))}},o().createElement(J.Z,{unassignSystemsModalState:E,setUnassignSystemsModalOpen:b,systemsIDs:E.systemsIDs}),S.isOpen&&o().createElement($.Z,{systemsIDs:S.systemsIDs,setBaselineState:N}),o().createElement(c.Z,{title:"",headerOUIA:"inventory-details",breadcrumbs:[{title:f.N.formatMessage(d.Z.titlesPatchSystems),to:u.H.systems.to,isActive:!1},I&&{title:I.display_name,isActive:!0}]},o().createElement(T,{hideBack:!0,showTags:!0,actions:[{title:f.N.formatMessage(d.Z.titlesPatchSetAssign),key:"assign-to-patch-set",onClick:function(){N({isOpen:!0,systemsIDs:[M]})}},{title:f.N.formatMessage(d.Z.titlesPatchSetRemoveMultipleButton),key:"remove-from-patch-set",isDisabled:!P,onClick:function(){b({isUnassignSystemsModalOpen:!0,systemsIDs:[M]})}}]},o().createElement(w.r,null,o().createElement(L.P,null,P&&o().createElement(B.D,null,o().createElement(U.xv,null,"".concat(f.N.formatMessage(d.Z.labelsColumnsPatchSet),": ").concat(P)))),o().createElement(L.P,null,k&&o().createElement(C.bZ,{className:"pf-u-mt-md",isInline:!0,variant:"info",title:f.N.formatMessage(d.Z.textThirdPartyInfo)}))))),o().createElement(l.Z,null,o().createElement(Z,null)))};W.propTypes={match:g().object};const F=W}}]);
//# sourceMappingURL=../sourcemaps/InventoryDetail.2d3aa5f55da627018d2fbead84cd5126.js.map