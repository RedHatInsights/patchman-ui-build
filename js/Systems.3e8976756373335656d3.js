(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman||[]).push([[743],{45233:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>M});var r=n(319),s=n.n(r),o=n(59713),a=n.n(o),c=n(63038),i=n.n(c),u=n(72573),l=n(89583),f=n(99068),m=n(75741),p=n(53433),y=n(77865),S=n.n(y),d=n(87016),h=n(18623),b=n(75107),v=n(95466),g=n(66490),O=n(50371),_=n(71724),w=n(58492),P=n(79143),j=n(52798),E=n(92026),F=n(45505),k=n(11550),D=n(10047),Z=n(51439);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const M=function(){var e=k.N.formatMessage(h.Z.titlesSystems);(0,F.Iw)(e);var t=(0,d.useDispatch)(),n=S().useState((function(){return function(){return null}})),r=i()(n,2),o=r[0],a=r[1],c=(0,d.useSelector)((function(e){return e.SystemsListStore.rows})),y=S().useMemo((function(){return(0,j.Yk)(c)}),[c]),C=(0,d.useSelector)((function(e){return e.SystemsListStore.status})),M=(0,d.useSelector)((function(e){return e.SystemsListStore.metadata})),N=(0,d.useSelector)((function(e){return e.SystemsListStore.queryParams})),I=(0,d.useSelector)((function(e){var t=e.entities;return t&&t.columns})),T=N.filter,W=N.search,q=(0,F.W5)(M,z);(0,F.KW)((function(){t((0,O.ZX)(N))}),[N]);var x=(0,F.T8)(M.limit,M.offset),A=i()(x,2),K=A[0],V=A[1];function z(e){t((0,O.PH)(e))}var B=(0,F.j5)(T,z),H={items:[(0,b.Z)(z,W,k.N.formatMessage(h.Z.labelsFiltersSystemsSearchTitle),k.N.formatMessage(h.Z.labelsFiltersSystemsSearchPlaceholder))]},J={filters:(0,E.mt)(T,W),onDelete:B},R=function(){var e=I&&I.filter((function(e){return"updated"===e.key}))[0];return e=L(L({},e),{},{key:"last_upload"}),[].concat(s()(Z.Fs),[e])},U=(0,F._f)(R(),z),X=S().useMemo((function(){return(0,E.hO)(R(),M.sort,0)}),[M.sort]);return S().createElement(S().Fragment,null,S().createElement(v.Z,{title:k.N.formatMessage(h.Z.titlesPatchSystems),headerOUIA:"systems"}),S().createElement(o,null),S().createElement(l.o,null,C===P.g_?S().createElement(f.F,null):S().createElement(p.e_,{onLoad:function(e){var t=e.mergeWithEntities,n=(0,g.b)();(0,g.z)(L({},t((0,_.Kq)(Z.Fs,n.getState().SystemsListStore))))},isFullView:!0,items:y,page:K,total:M.total_items,perPage:V,isLoaded:C===P.Wd,onRefresh:q,exportConfig:{onSelect:function(e,t){var n=(new Date).toISOString().replace(/[T:]/g,"-").split(".")[0]+"-utc",r="systems-".concat(n);"csv"===t?(0,w.wI)(N).then((function(e){return(0,m.downloadFile)(e,r,"csv")})):(0,w.TW)(N).then((function(e){return(0,m.downloadFile)(JSON.stringify(e),r,"json")}))}},hasCheckbox:!1,actions:(0,Z.Sb)((function(e){a((function(){return function(){return S().createElement(D.Z,{data:e})}}))})),filterConfig:H,activeFiltersConfig:J,tableProps:{areActionsDisabled:function(e){return e.applicable_advisories.every((function(e){return 0===e}))},onSort:U,sortBy:X,variant:u.TableVariant.compact,className:"patchCompactInventory"}})))}}}]);
//# sourceMappingURL=Systems.3e8976756373335656d3.js.map