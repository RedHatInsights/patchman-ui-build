(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman||[]).push([[743],{45233:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>I});var r=n(319),o=n.n(r),s=n(59713),c=n.n(s),a=n(63038),i=n.n(a),u=n(72573),l=n(89583),f=n(99068),m=n(75741),p=n(53433),y=n(77865),S=n.n(y),d=n(87016),b=n(18623),h=n(75107),v=n(95466),g=n(66490),O=n(50371),_=n(71724),w=n(58492),j=n(79143),P=n(52798),E=n(92026),k=n(45505),F=n(11550),D=n(10047),C=n(51439);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const I=function(){var e=F.N.formatMessage(b.Z.titlesSystems);(0,k.Iw)(e);var t=(0,d.useDispatch)(),n=S().useState((function(){return function(){return null}})),r=i()(n,2),s=r[0],c=r[1],a=(0,d.useSelector)((function(e){return e.SystemsListStore.rows})),y=S().useMemo((function(){return(0,P.Yk)(a)}),[a]),L=(0,d.useSelector)((function(e){return e.SystemsListStore.status})),I=(0,d.useSelector)((function(e){return e.SystemsListStore.metadata})),M=(0,d.useSelector)((function(e){return e.SystemsListStore.queryParams})),N=(0,d.useSelector)((function(e){var t=e.entities;return t&&t.columns})),W=M.filter,T=M.search,q=(0,k.W5)(I,z);(0,k.KW)((function(){t((0,O.ZX)(M))}),[M]);var x=(0,k.T8)(I.limit,I.offset),A=i()(x,2),K=A[0],V=A[1];function z(e){t((0,O.PH)(e))}var B=(0,k.j5)(W,z),H={items:[(0,h.Z)(z,T,F.N.formatMessage(b.Z.labelsFiltersSystemsSearch))]},J={filters:(0,E.mt)(W,T),onDelete:B},R=function(){var e=N&&N.filter((function(e){return"updated"===e.key}))[0];return e=Z(Z({},e),{},{key:"last_upload"}),[].concat(o()(C.Fs),[e])},U=(0,k._f)(R(),z),X=S().useMemo((function(){return(0,E.hO)(R(),I.sort,0)}),[I.sort]);return S().createElement(S().Fragment,null,S().createElement(v.Z,{title:F.N.formatMessage(b.Z.titlesPatchSystems),headerOUIA:"systems"}),S().createElement(s,null),S().createElement(l.o,null,L===j.g_?S().createElement(f.F,null):S().createElement(p.e_,{onLoad:function(e){var t=e.mergeWithEntities,n=(0,g.b)();(0,g.z)(Z({},t((0,_.Kq)(C.Fs,n.getState().SystemsListStore))))},isFullView:!0,items:y,page:K,total:I.total_items,perPage:V,isLoaded:L===j.Wd,onRefresh:q,exportConfig:{onSelect:function(e,t){var n=(new Date).toISOString().replace(/[T:]/g,"-").split(".")[0]+"-utc",r="systems-".concat(n);"csv"===t?(0,w.wI)(M).then((function(e){return(0,m.downloadFile)(e,r,"csv")})):(0,w.TW)(M).then((function(e){return(0,m.downloadFile)(JSON.stringify(e),r,"json")}))}},hasCheckbox:!1,actions:(0,C.Sb)((function(e){c((function(){return function(){return S().createElement(D.Z,{data:e})}}))})),filterConfig:H,activeFiltersConfig:J,tableProps:{areActionsDisabled:function(e){return e.applicable_advisories.every((function(e){return 0===e}))},onSort:U,sortBy:X,variant:u.TableVariant.compact,className:"patchCompactInventory"}})))}}}]);
//# sourceMappingURL=Systems.3f835b76155a2c63329f.js.map