(self.webpackChunkpatch=self.webpackChunkpatch||[]).push([[6743],{32203:(e,t,r)=>{"use strict";r.d(t,{H:()=>o,Z:()=>c});var a=r(70655),n=r(43297),s=r(54918),l=r(38296),i=r(62472);const o=n.createContext({cardId:"",registerTitleId:()=>{},isExpanded:!1}),c=e=>{var{children:t=null,id:r="",className:u="",component:d="article",isHoverable:p=!1,isCompact:f=!1,isSelectable:m=!1,isSelectableRaised:v=!1,isSelected:g=!1,isDisabledRaised:h=!1,isFlat:b=!1,isExpanded:y=!1,isRounded:E=!1,isLarge:S=!1,isFullHeight:Z=!1,isPlain:w=!1,ouiaId:P,ouiaSafe:O=!0,hasSelectableInput:L=!1,selectableInputAriaLabel:R,onSelectableInputChange:C=(()=>{})}=e,I=(0,a.__rest)(e,["children","id","className","component","isHoverable","isCompact","isSelectable","isSelectableRaised","isSelected","isDisabledRaised","isFlat","isExpanded","isRounded","isLarge","isFullHeight","isPlain","ouiaId","ouiaSafe","hasSelectableInput","selectableInputAriaLabel","onSelectableInputChange"]);const T=d,j=(0,i.S$)(c.displayName,P,O),[N,_]=n.useState(""),[k,x]=n.useState();f&&S&&(console.warn("Card: Cannot use isCompact with isLarge. Defaulting to isCompact"),S=!1);const D=n.useRef(!1);return n.useEffect((()=>{R?x({"aria-label":R}):N?x({"aria-labelledby":N}):L&&!D.current&&(x({}),console.warn("If no CardTitle component is passed as a child of Card the selectableInputAriaLabel prop must be passed"))}),[L,R,N]),n.createElement(o.Provider,{value:{cardId:r,registerTitleId:e=>{_(e),D.current=!!e},isExpanded:y}},L&&n.createElement("input",Object.assign({className:"pf-screen-reader",id:`${r}-input`},k,{type:"checkbox",checked:g,onChange:e=>C(r,e),disabled:h,tabIndex:-1})),n.createElement(T,Object.assign({id:r,className:(0,l.css)(s.Z.card,f&&s.Z.modifiers.compact,y&&s.Z.modifiers.expanded,b&&s.Z.modifiers.flat,E&&s.Z.modifiers.rounded,S&&s.Z.modifiers.displayLg,Z&&s.Z.modifiers.fullHeight,w&&s.Z.modifiers.plain,h?(0,l.css)(s.Z.modifiers.nonSelectableRaised):v?(0,l.css)(s.Z.modifiers.selectableRaised,g&&s.Z.modifiers.selectedRaised):m||p?(0,l.css)(s.Z.modifiers.selectable,g&&s.Z.modifiers.selected):"",u),tabIndex:m||v?"0":void 0},I,j),t))};c.displayName="Card"},62394:(e,t,r)=>{"use strict";r.d(t,{e:()=>i});var a=r(70655),n=r(43297),s=r(54918),l=r(38296);const i=e=>{var{children:t=null,className:r="",component:i="div",isFilled:o=!0}=e,c=(0,a.__rest)(e,["children","className","component","isFilled"]);const u=i;return n.createElement(u,Object.assign({className:(0,l.css)(s.Z.cardBody,!o&&s.Z.modifiers.noFill,r)},c),t)};i.displayName="CardBody"},70:(e,t,r)=>{"use strict";r.d(t,{l:()=>o});var a=r(70655),n=r(43297),s=r(38296),l=r(54918),i=r(32203);const o=e=>{var{children:t=null,className:r="",component:o="div"}=e,c=(0,a.__rest)(e,["children","className","component"]);const{cardId:u,registerTitleId:d}=n.useContext(i.H),p=o,f=u?`${u}-title`:"";return n.useEffect((()=>(d(f),()=>d(""))),[d,f]),n.createElement(p,Object.assign({className:(0,s.css)(l.Z.cardTitle,r),id:f||void 0},c),t)};o.displayName="CardTitle"},79799:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>l,jt:()=>s,tz:()=>n});var a=r(40400);const n={name:"PackageIcon",height:1024,width:1024,svgPath:"M567.7,1010.49707 L951.5,818.498238 C994.7,796.698371 1024,752.39864 1024,703.998934 L1024,320.001265 C1024,271.601559 995.6,227.10183 952.2,205.501961 L568.6,13.5031267 C550.8,4.60318072 531.4,0.103208049 512,-0.00152855358 C492.3,-0.0967907365 472.5,4.40318194 454.4,13.5031267 L70.8,205.501961 C27.4,227.10183 0,271.50156 0,319.801267 L0.9,703.998934 C0.9,752.39864 28.3,796.79837 71.6,818.398239 L455.2,1010.39707 C464.3,1014.89705 488.1,1023.99699 511.9,1023.99699 C535.5,1023.99699 558.8,1014.99704 567.7,1010.49707 Z M512.5,630.899377 L672.5,550.899863 L672.5,645.29929 L736.5,613.299484 L736.5,518.900058 L896,438.900543 L896.5,712.698881 L512.5,904.697715 L512.5,630.899377 Z M145.1,304.101362 L294.9,228.60182 C295.3,228.801819 295.6,229.001818 296,229.201817 L661.9,412.300705 L512.5,487.600248 L145.1,304.101362 Z M512.5,118.902487 L881.3,301.701377 L733.1,376.400923 L366,192.702038 L512.5,118.902487 Z",yOffset:0,xOffset:0},s=(0,a.IU)(n),l=s},54918:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a}),r(80598);const a={card:"pf-c-card",cardActions:"pf-c-card__actions",cardBody:"pf-c-card__body",cardExpandableContent:"pf-c-card__expandable-content",cardFooter:"pf-c-card__footer",cardHeader:"pf-c-card__header",cardHeaderToggle:"pf-c-card__header-toggle",cardHeaderToggleIcon:"pf-c-card__header-toggle-icon",cardSrInput:"pf-c-card__sr-input",cardTitle:"pf-c-card__title",divider:"pf-c-divider",modifiers:{hoverable:"pf-m-hoverable",selectable:"pf-m-selectable",selected:"pf-m-selected",hoverableRaised:"pf-m-hoverable-raised",selectableRaised:"pf-m-selectable-raised",nonSelectableRaised:"pf-m-non-selectable-raised",selectedRaised:"pf-m-selected-raised",compact:"pf-m-compact",displayLg:"pf-m-display-lg",flat:"pf-m-flat",plain:"pf-m-plain",rounded:"pf-m-rounded",expanded:"pf-m-expanded",fullHeight:"pf-m-full-height",toggleRight:"pf-m-toggle-right",noOffset:"pf-m-no-offset",noFill:"pf-m-no-fill",overpassFont:"pf-m-overpass-font"},themeDark:"pf-theme-dark"}},33739:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var a=r(85893),n=r(43297),s=r.n(n),l=r(45697),i=r.n(l),o=r(59823),c=r(93942),u=r(8213),d=r(39591),p=r(94184),f=r.n(p),m=r(72126),v=function(){return v=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},v.apply(this,arguments)},g=function(e){var t=(0,c.oR)(),r=e.component;return(0,a.jsx)(r,v({className:f()(e.className,"inventory")},{children:(0,a.jsx)(n.Suspense,v({fallback:e.fallback},{children:(0,a.jsx)(o.ScalprumComponent,v({history:e.history,store:t,appName:"inventory",module:"./InventoryTable",scope:"inventory",ErrorComponent:(0,a.jsx)(d.Z,v({component:"InventoryDetailHead"},e)),ref:e.innerRef},e))}))}))};g.propTypes={fallback:i().node,innerRef:i().object,component:i().string,className:i().string,history:i().object};var h=s().forwardRef((function(e,t){return(0,a.jsx)(g,v({innerRef:t},e))}));h.propTypes={fallback:i().node,component:i().string,className:i().string},h.defaultProps={fallback:(0,a.jsx)(u.Bullseye,v({className:"pf-u-p-lg"},{children:(0,a.jsx)(u.Spinner,{size:"xl"})})),component:"section"};const b=s().forwardRef((function(e,t){return(0,a.jsx)(m.Z,v({innerRef:t,Component:h},e))}))},55485:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var a=r(43297),n=r.n(a),s=r(45697),l=r.n(s),i=r(22663),o=function(e){var t=e.data,r=e.setRemediationOpen;return n().createElement(i.Z,{appName:"remediations",module:"./RemediationWizard",setOpen:r,fallback:n().createElement("span",null),data:t})};o.propTypes={data:l().object,setRemediationOpen:l().func};const c=o},10637:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ae});var a=r(4942),n=r(15861),s=r(29439),l=r(64687),i=r.n(l),o=r(43297),c=r.n(o),u=r(75863),d=r(33739),p=r(14748),f=r(93942),m=r(62012),v=r(30893),g=r(49642),h=r(52579),b=r(7322),y=r(9557),E=r(5747),S=r(11220),Z=r(13784),w=r(5391),P=r(91607),O=r(32132),L=r(58684),R=r(93433),C=r(68778),I=r(79799),T=r(69957),j=r(45697),N=r.n(j),_=r(70),k=r(47173),x=r(50383),D=r(32203),F=r(50693),A=r(16475),M=r(62394),H=r(28191),B=r(92298),U=function(e){var t=e.title,r=e.color,a=e.Icon,n=e.value,s=e.filter,l=e.apply;return c().createElement(D.Z,{isCompact:!0,isFullHeight:!0},c().createElement(_.l,{style:{marginTop:"0px"}},t),c().createElement(M.e,{className:"fonst-size-sm"},c().createElement(H.k,{flex:{default:"inlineFlex"},style:{flexWrap:"nowrap"}},c().createElement(B.B,{spacer:{default:"spacerMd"},alignSelf:{default:"alignSelfCenter"}},c().createElement(a,{color:r,size:"md"})),c().createElement(B.B,{spacer:{default:"spacerNone"}},void 0===n&&c().createElement(x.O,{width:"24px"})||c().createElement(k.zx,{variant:"link",onClick:function(){return l(s)},className:"patch-status-report-text"},n)))))},q=function(e){var t,r,a,n=e.apply,l=e.queryParams,i=c().useState({}),o=(0,s.Z)(i,2),u=o[0],d=o[1],m=(0,f.v9)((function(e){return e.GlobalFilterStore})),g=m.selectedTags,h=m.selectedGlobalTags,b=m.systemProfile;return c().useEffect((function(){!function(){d({});try{var e;(0,S.lc)({filter:{os:null==l||null===(e=l.filter)||void 0===e?void 0:e.os},selectedTags:[].concat((0,R.Z)(g),(0,R.Z)(h)),systemProfile:b,limit:1,"filter[stale]":"in:true,false"}).then((function(e){var t;d(null===(t=e.meta)||void 0===t?void 0:t.subtotals)}))}catch(e){[]}}()}),[null==l||null===(t=l.filter)||void 0===t||null===(r=t.os)||void 0===r?void 0:r.length,void 0!==(null==l||null===(a=l.filter)||void 0===a?void 0:a.os),null==g?void 0:g.length,void 0!==g,null==h?void 0:h.length,void 0!==h,b,void 0!==(null==l?void 0:l.subtotals)]),c().createElement(p.ZP,{style:{paddingBottom:0}},c().createElement(F.r,{hasGutter:!0,span:12},c().createElement(A.P,{lg:3,md:4},c().createElement(U,{title:O.N.formatMessage(v.Z.labelsStatusSystemsUpToDate),Icon:C.ZP,color:"var(--pf-global--success-color--100)",value:null==u?void 0:u.patched,apply:n,filter:{filter:{packages_updatable:"eq:0"}}})),c().createElement(A.P,{lg:3,md:4},c().createElement(U,{title:O.N.formatMessage(v.Z.labelsStatusSystemsWithPatchesAvailable),Icon:I.ZP,color:"var(--pf-global--primary-color--100)",value:null==u?void 0:u.unpatched,apply:n,filter:{filter:{packages_updatable:"gt:0"}}})),c().createElement(A.P,{lg:3,md:4},c().createElement(U,{title:O.N.formatMessage(v.Z.labelsStatusStaleSystems),Icon:T.ZP,color:"var(--pf-global--warning-color--100)",value:null==u?void 0:u.stale,apply:n,filter:{filter:{stale:!0}}}))))};U.propTypes={title:N().string,Icon:N().elementType,value:N().number,color:N().string,apply:N().func,filter:N().object},q.propTypes={apply:N().func,queryParams:N().object};const G=q;var z=r(55485),W=r(53074),Y=r(42154),Q=r(72999),$=r(79875),J=r(97804),K=r(83905),V=r(93080),X=r(97779),ee=r(55140);function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ae=function(){var e=(0,f.oR)(),t=(0,o.useRef)(null),r=(0,ee.Z)();(0,o.useEffect)((function(){r.updateDocumentTitle("".concat(O.N.formatMessage(v.Z.titlesSystems)).concat(Z.JD))}),[r,O.N]);var a=(0,m.useSearchParams)(),l=(0,s.Z)(a,2),R=l[0],C=l[1],I=(0,f.I0)(),T=c().useState(!1),j=(0,s.Z)(T,2),N=j[0],_=j[1],k=c().useState(!1),x=(0,s.Z)(k,2),D=x[0],F=x[1],A=c().useState((function(){return function(){return null}})),M=(0,s.Z)(A,2),H=M[0],B=M[1],U=(0,w.PZ)("?"+R.toString()),q=(0,f.v9)((function(e){var t=e.entities;return(null==t?void 0:t.rows)||[]}),f.wU),te=(0,f.v9)((function(e){var t=e.entities;return(null==t?void 0:t.total)||0})),ae=(0,f.v9)((function(e){var t=e.entities;return(null==t?void 0:t.selectedRows)||[]})),ne=(0,f.v9)((function(e){var t=e.entities;return(null==t?void 0:t.status)||{}})),se=ne.hasError,le=ne.code,ie=(0,f.v9)((function(e){var t=e.SystemsStore;return(null==t?void 0:t.metadata)||{}})),oe=(0,f.v9)((function(e){var t=e.SystemsStore;return null==t?void 0:t.areAllSelected})),ce=(0,f.v9)((function(e){var t=e.SystemsStore;return(null==t?void 0:t.queryParams)||{}})),ue=ce.systemProfile,de=ce.selectedTags,pe=ce.filter,fe=ce.search,me=ce.page,ve=ce.perPage,ge=ce.sort;c().useEffect((function(){return be(U),function(){return I((0,y.RV)())}}),[]);var he=(0,o.useCallback)(function(){var e=(0,n.Z)(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:r=e.sent,B((function(){return function(){return c().createElement(z.Z,{data:r,isRemediationOpen:!0,setRemediationOpen:_})}})),_(!N);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[N]);function be(e){I((0,y.SF)(e))}var ye=(0,P.j5)(re({search:fe},pe),be,Z.hb),Ee=(0,s.Z)(ye,1)[0],Se=(0,K.Z)(null==pe?void 0:pe.os,be),Ze=(0,Y.Pf)(fe,pe,be,Se),we=(0,Y.Fy)(pe,fe,Ee),Pe=(0,V.r)(q,ae,{endpoint:V.c.systems,queryParams:ce,selectionDispatcher:y.i2}),Oe=ae&&(0,w.Qy)(ae).length,Le=(0,P.AR)("systems",ce,{csv:S.wI,json:S.TW},I),Re=(0,P.U)(S.lc,be,{},C,(function(e){I((0,y._e)(e))}),(function(e){I((0,y.vl)(e))})),Ce=(0,$.Z)(ae),Ie=Ce.patchSetState,Te=Ce.setPatchSetState,je=Ce.openUnassignSystemsModal,Ne=Ce.openAssignSystemsModal;(0,o.useEffect)((function(){var e;Ie.shouldRefresh&&(Pe("none"),null==t||null===(e=t.current)||void 0===e||e.onRefreshData({timestamp:Date.now()}))}),[Ie.shouldRefresh]);var _e=(0,Q.Z)(ae,F,"systems",oe),ke=(0,P.Pz)(Oe,Pe,{total_items:te},q);return c().createElement(c().Fragment,null,c().createElement(g.Z,{title:O.N.formatMessage(v.Z.titlesPatchSystems),headerOUIA:"systems"}),(se||!1===(null==ie?void 0:ie.has_systems))&&c().createElement(h.Z,{code:le,metadata:ie})||c().createElement(c().Fragment,null,c().createElement(G,{apply:be,queryParams:ce}),c().createElement(J.Z,{patchSetState:Ie,setPatchSetState:Te}),N&&c().createElement(H,null)||null,c().createElement(p.ZP,null,c().createElement(d.Z,{ref:t,isFullView:!0,autoRefresh:!0,initialLoading:!0,hideFilters:{all:!0,tags:!1,hostGroupFilter:!1},columns:function(e){return(0,Y.gB)(e,L.Fs)},showTags:!0,customFilters:{patchParams:{search:fe,filter:pe,systemProfile:ue,selectedTags:de}},paginationProps:{isDisabled:0===te},onLoad:function(t){var r=t.mergeWithEntities;e.replaceReducer((0,X.UY)(re(re({},b.E),r((0,E.Kq)((0,L.Fs)(),E.G),(0,w.fm)({page:me,perPage:ve,sort:ge,search:fe},U)))))},getEntities:Re,tableProps:{actionResolver:function(e){return(0,L.Sb)(he,Ne,je,e)},canSelectAll:!1,variant:u.B.compact,className:"patchCompactInventory",isStickyHeader:!0},bulkSelect:ke,exportConfig:{isDisabled:0===te,onSelect:Le},actionsConfig:{actions:[c().createElement(W.Z,{key:"remediate-multiple-systems",remediationProvider:_e,isDisabled:0===(0,w.Qy)(ae).length||D,isLoading:D}),{key:"assign-multiple-systems",label:O.N.formatMessage(v.Z.titlesTemplateAssign),onClick:function(){return Ne(ae)},props:{isDisabled:0===Oe}},{key:"remove-multiple-systems",label:O.N.formatMessage(v.Z.titlesTemplateRemoveMultipleButton),onClick:function(){return je((0,w.LI)(ae))},props:{isDisabled:0===Oe}}]},filterConfig:Ze,activeFiltersConfig:we}))))}},72999:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var a=r(29439),n=r(15861),s=r(64687),l=r.n(s),i=r(93942),o=r(83215),c=r(55140),u=r(5391),d=function(){var e=new Worker(new URL(r.p+r.u(7384),r.b));return[e,function(){return e.terminate()}]},p=function(e,t){return e.postMessage(t),new Promise((function(t,r){e.onmessage=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data,a=e.status,n=e.error,s=e.result;"resolved"===a&&t(s),r(n)}}))},f=function(){var e=(0,n.Z)(l().mark((function e(t,r){var n,s,i,c,u,f,m;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=d(),i=(0,a.Z)(s,2),c=i[0],u=i[1],f=p(c,t),e.next=4,f.catch((function(e){return r((0,o.wN)({title:"There was an error while processing.",description:e,variant:"danger"}))}));case 4:return m=e.sent,u(),e.abrupt("return",!(null==m||null===(n=m.issues)||void 0===n||!n.length)&&m);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();const m=function(e,t,r,a){var s=(0,i.I0)(),o=(0,c.Z)(),d=function(){var i=(0,n.Z)(l().mark((function n(){var i,c;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(!0),n.next=3,o.auth.getToken();case 3:return i=n.sent,n.next=6,f({payload:(0,u.Q6)(e),remediationType:r,areAllSelected:a,authToken:i},s);case 6:return c=n.sent,t(!1),n.abrupt("return",c);case 9:case"end":return n.stop()}}),n)})));return function(){return i.apply(this,arguments)}}();return d}},5747:(e,t,r)=>{"use strict";r.d(t,{G:()=>d,Kq:()=>v,OC:()=>p,PD:()=>m,lu:()=>f});var a=r(29439),n=r(4942),s=r(36248),l=r(48881),i=r(22789);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u={rows:[],entities:[],selectedRows:{},status:{},page:1,perPage:20,metadata:{limit:20,offset:0,total_items:0}},d=function(e,t){return t.loaded?c(c({},t),{},{status:{isLoading:!1,hasError:!1},rows:(0,s.Yk)(t.rows,t.selectedRows)}):t},p=function(e,t,r){if("SELECT_ENTITY"===r){var n=t.packageEvraCache;void 0===n&&(n={},t.rows.forEach((function(e){return n[e.id]=e.available_evra})),t.packageEvraCache=n),t.selectedRows=t.selectedRows?Object.fromEntries(Object.entries(t.selectedRows).map((function(e){var t=(0,a.Z)(e,2),r=t[0],s=t[1];return!0===s?[r,n[r]]:[r,s]}))):t.selectedRows}return"LOAD_ENTITIES_FULFILLED"===r&&(t.packageEvraCache=void 0),t.loaded?c(c({},t),{},{columns:e,rows:(0,s.GF)(t.rows,t.selectedRows)}):t},f=function(e,t){return t.loaded?c(c({},t),{},{status:{isLoading:!1,hasError:!1},rows:(0,s.dn)(t.rows,t.selectedRows)}):t},m=function(e,t){return t.loaded?c(c({},t),{},{status:{isLoading:!1,hasError:!1},rows:(0,s.mf)(t.rows,t.selectedRows)}):t},v=function(e,t){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,a=arguments.length>1?arguments[1]:void 0,n=c({},r);switch(a.type){case"LOAD_ENTITIES_FULFILLED":return t(e,n,a.type);case"LOAD_ENTITIES_PENDING":return n.status={isLoading:!0,hasError:!1},n;case"LOAD_ENTITIES_REJECTED":return(0,l.PW)(n,a);case"SELECT_ENTITY":var s=(0,l.hd)(n,a);return t(e,s,a.type);case i.sq:return u;default:return r}}}},80598:()=>{}}]);
//# sourceMappingURL=../sourcemaps/Systems.510f07317ed745c0643aa56d685ddff9.js.map