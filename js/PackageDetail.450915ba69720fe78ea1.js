(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman||[]).push([[9155],{41661:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c}),a(94498);const c={badge:"pf-c-badge",button:"pf-c-button",chip:"pf-c-chip",chipIcon:"pf-c-chip__icon",chipText:"pf-c-chip__text",modifiers:{overflow:"pf-m-overflow",draggable:"pf-m-draggable"},themeDark:"pf-theme-dark"}},9862:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c}),a(93818);const c={chipGroup:"pf-c-chip-group",chipGroupClose:"pf-c-chip-group__close",chipGroupLabel:"pf-c-chip-group__label",chipGroupList:"pf-c-chip-group__list",chipGroupListItem:"pf-c-chip-group__list-item",chipGroupMain:"pf-c-chip-group__main",modifiers:{category:"pf-m-category"}}},16896:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c}),a(36974);const c={check:"pf-c-check",checkLabel:"pf-c-check__label",chipGroup:"pf-c-chip-group",divider:"pf-c-divider",formControl:"pf-c-form-control",modifiers:{invalid:"pf-m-invalid",success:"pf-m-success",warning:"pf-m-warning",disabled:"pf-m-disabled",active:"pf-m-active",expanded:"pf-m-expanded",plain:"pf-m-plain",typeahead:"pf-m-typeahead",placeholder:"pf-m-placeholder",top:"pf-m-top",alignRight:"pf-m-align-right",static:"pf-m-static",favorite:"pf-m-favorite",favoriteAction:"pf-m-favorite-action",focus:"pf-m-focus",link:"pf-m-link",action:"pf-m-action",selected:"pf-m-selected",description:"pf-m-description",load:"pf-m-load",loading:"pf-m-loading"},select:"pf-c-select",selectListItem:"pf-c-select__list-item",selectMenu:"pf-c-select__menu",selectMenuFieldset:"pf-c-select__menu-fieldset",selectMenuFooter:"pf-c-select__menu-footer",selectMenuGroup:"pf-c-select__menu-group",selectMenuGroupTitle:"pf-c-select__menu-group-title",selectMenuItem:"pf-c-select__menu-item",selectMenuItemActionIcon:"pf-c-select__menu-item-action-icon",selectMenuItemCount:"pf-c-select__menu-item-count",selectMenuItemDescription:"pf-c-select__menu-item-description",selectMenuItemIcon:"pf-c-select__menu-item-icon",selectMenuItemMain:"pf-c-select__menu-item-main",selectMenuItemMatch:"pf-c-select__menu-item--match",selectMenuItemRow:"pf-c-select__menu-item-row",selectMenuItemText:"pf-c-select__menu-item-text",selectMenuSearch:"pf-c-select__menu-search",selectMenuWrapper:"pf-c-select__menu-wrapper",selectToggle:"pf-c-select__toggle",selectToggleArrow:"pf-c-select__toggle-arrow",selectToggleBadge:"pf-c-select__toggle-badge",selectToggleButton:"pf-c-select__toggle-button",selectToggleClear:"pf-c-select__toggle-clear",selectToggleIcon:"pf-c-select__toggle-icon",selectToggleStatusIcon:"pf-c-select__toggle-status-icon",selectToggleText:"pf-c-select__toggle-text",selectToggleTypeahead:"pf-c-select__toggle-typeahead",selectToggleWrapper:"pf-c-select__toggle-wrapper",themeDark:"pf-theme-dark"}},16590:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var c=a(83237),r=a(43297),n=a.n(r),l=a(13784),s=a(32132),i=a(30893);const o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.updatable,r=n().useMemo((function(){return l.tG.map((function(e){var t=e.value;return{label:e.label,value:t.toString()}}))}),[]),o=function(t){e({filter:{updatable:t}})};return{label:s.N.formatMessage(i.Z.labelsFiltersStatus),type:c.Y.checkbox,filterValues:{onChange:function(e,t){o(t)},items:r,value:a,placeholder:s.N.formatMessage(i.Z.labelsColumnsStatusPlaceholder)}}}},8453:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>re});var c=a(4942),r=a(29439),n=a(81159),l=a(34023),s=a(63540),i=a(20018),o=a(14748),p=a(45697),u=a.n(p),f=a(43297),m=a.n(f),g=a(28216),d=a(334),h=a(30893),v=a(49642),_=a(49287),b=a(18038),y=a(5391),k=a(81469),P=function(e){var t=e.attributes.description,a=e.isLoading,c=m().useState(1e3),s=(0,r.Z)(c,2),i=s[0],o=s[1];return t&&m().createElement(_.r,{hasGutter:!0,style:{minHeight:50}},m().createElement(b.P,{md:8,sm:12},m().createElement(k.ZP,{loading:a,variant:k.x.spinner,centered:!0},m().createElement(n.K,{hasGutter:!0},m().createElement(l.v,null),m().createElement(l.v,{style:{whiteSpace:"pre-line"}},t&&(0,y.Nt)(t,i,o))))))||m().createElement(f.Fragment,null)};P.propTypes={attributes:u().object,isLoading:u().bool};const E=P;var O=a(15984),S=a(15861),w=a(64687),Z=a.n(w),M=a(72573),T=a(33739),j=a(90747),x=a(16590),I=a(87462),N=a(80887),D=a(77221),C=a(82553),F=a(83237),L=a(32132);const A=function(e,t,a){var c=m().useState(!1),n=(0,r.Z)(c,2),l=n[0],s=n[1],i=m().useState(10),o=(0,r.Z)(i,2),p=o[0],u=o[1],f=t&&t.installed_evra,g=f&&("string"==typeof t.installed_evra&&t.installed_evra.split(",")||t.installed_evra),d=a.data&&a.data.sort().map((function(e){return{value:e.evra}}))||[{value:L.N.formatMessage(h.Z.textNoVersionAvailable),disabled:!0}];return{type:F.Y.custom,label:L.N.formatMessage(h.Z.labelsFiltersPackageVersionTitle),value:"custom",filterValues:{children:m().createElement(N.Select,(0,I.Z)({variant:d.length>0&&C.SelectVariant.checkbox||C.SelectVariant.typeaheadMulti,typeAheadAriaLabel:L.N.formatMessage(h.Z.labelsFiltersPackageVersionPlaceholder),onToggle:function(e){s(e)},onSelect:function(a,c){var r={filter:{}};if(!g||g&&!g.includes(c)){var n=f&&""!==t.installed_evra&&t.installed_evra.concat(",")||"";r.filter={installed_evra:"".concat(n).concat(c)}}else{var l=1!==g.length&&g.filter((function(e){return!e.includes(c)})).join(",")||void 0;r.filter={installed_evra:l}}e(r)},selections:g,isOpen:l,"aria-labelledby":"patch-version-filter",placeholderText:L.N.formatMessage(h.Z.labelsFiltersPackageVersionPlaceholder)},p<d.lengt&&{loadingVariant:{text:"View more",onClick:function(){u(d.length)}}},{style:{maxHeight:"400px",overflow:"auto"}}),d.slice(0,p).map((function(e,t){return m().createElement(D.SelectOption,(0,I.Z)({isDisabled:e.disabled,key:t,value:e.value},e.description&&{description:e.description}))})))}}};var G=a(52579),V=a(7322),R=a(9557),H=a(5747),q=a(11220),U=a(13784),K=a(91607),Q=a(53074),W=a(58684),Y=a(93080),z=a(97779);function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,c)}return a}function J(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(Object(a),!0).forEach((function(t){(0,c.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var X=function(e){var t=e.packageName,a=(0,g.I0)(),c=(0,g.oR)(),n=(0,d.useHistory)(),l=m().useState([]),s=(0,r.Z)(l,2),i=s[0],o=s[1],p=(0,y.PZ)(n.location.search),u=(0,g.v9)((function(e){var t=e.entities;return(null==t?void 0:t.rows)||[]}),g.wU),v=(0,g.v9)((function(e){var t=e.entities;return(null==t?void 0:t.status)||{}})),_=(0,g.v9)((function(e){var t=e.entities;return(null==t?void 0:t.total)||0})),b=(0,g.v9)((function(e){var t=e.entities;return(null==t?void 0:t.selectedRows)||[]})),k=(0,g.v9)((function(e){var t=e.PackageSystemsStore;return(null==t?void 0:t.queryParams)||{}})),P=k.systemProfile,E=k.selectedTags,O=k.filter,w=k.search,I=k.sort,N=k.page,D=k.perPage,C=(0,f.useCallback)((function(e){a((0,R.g5)(e))}),[]);(0,f.useEffect)((0,S.Z)(Z().mark((function e(){return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(p),e.t0=o,e.next=4,(0,q.dh)({package_name:t});case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)}))),[]),(0,f.useEffect)((function(){return function(){a((0,R.RV)()),a((0,R.d)())}}),[]);var F=(0,K.j5)(J(J({},O),{},{search:w}),C),B=(0,r.Z)(F,1)[0],X={items:[(0,j.Z)(C,w,L.N.formatMessage(h.Z.labelsFiltersSystemsSearchTitle),L.N.formatMessage(h.Z.labelsFiltersSystemsSearchPlaceholder)),(0,x.Z)(C,O),A(C,O,i)]},$=(0,f.useMemo)((function(){return{filters:(0,y.mt)(O,w,L.N.formatMessage(h.Z.labelsFiltersSystemsSearchTitle)),onDelete:B}}),[O,w]),ee=(0,Y.r)(u,b,{endpoint:Y.c.packageSystems(t),queryParams:k,selectionDispatcher:R.i2,constructFilename:function(e){return"".concat(t,"-").concat(e.available_evra)},apiResponseTransformer:y.lq}),te=b&&(0,y.Qy)(b).length,ae=(0,K.AR)(t,k,{csv:q.nx,json:q.bb},a),ce=(0,f.useCallback)((function(e){var t=[];return e.forEach((function(e){var a=b[e],c="patch-package:".concat(a),r=t.findIndex((function(e){return e.id===c}));-1!==r?t[r].systems.push(e):a&&t.push({id:c,description:a,systems:[e]})})),!!t.length&&{issues:t}}),[b]),re=(0,K.U)(q.vo,C,{packageName:t},n),ne=(0,K.Pz)(te,ee,{total_items:_},u);return m().createElement(m().Fragment,null,v.hasError&&m().createElement(G.Z,{code:v.code})||m().createElement(T.Z,{disableDefaultColumns:["system_profile","updated"],isFullView:!0,autoRefresh:!0,initialLoading:!0,hideFilters:{all:!0,tags:!1},columns:W.Hd,showTags:!0,getEntities:re,customFilters:{patchParams:{search:w,filter:O,systemProfile:P,selectedTags:E}},paginationProps:{isDisabled:0===_},onLoad:function(e){var t=e.mergeWithEntities;c.replaceReducer((0,z.UY)(J(J({},V.E),t((0,H.Kq)(W.Hd,H.OC),(0,y.fm)({page:N,perPage:D,sort:I,search:w},p)))))},tableProps:{canSelectAll:!1,variant:M.TableVariant.compact,className:"patchCompactInventory",isStickyHeader:!0},filterConfig:X,activeFiltersConfig:$,bulkSelect:ee&&ne,exportConfig:{isDisabled:0===_,onSelect:ae},dedicatedAction:m().createElement(Q.Z,{remediationProvider:function(){return(0,y.Sz)((0,y.Q6)(b),ce,U.oN.package)},isDisabled:0===(0,y.Qy)(b).length})}))};X.propTypes={packageName:u().string};const $=X;var ee=a(83215);function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,c)}return a}function ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(Object(a),!0).forEach((function(t){(0,c.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ce=function(e){var t=e.match,a=(0,g.I0)(),c=m().useState(t.params.packageName),p=(0,r.Z)(c,1)[0],u="".concat(p," - ").concat(L.N.formatMessage(h.Z.titlesPackages));(0,K.Iw)(u);var f=(0,g.v9)((function(e){return e.PackageDetailStore})),d=(0,g.v9)((function(e){return e.PackageDetailStore.status}));m().useEffect((function(){a((0,R.Sb)({packageName:p}))}),[]),m().useEffect((function(){return function(){a((0,ee.L1)()),a((0,R.vh)())}}),[]);var _=f.data.attributes;return m().createElement(m().Fragment,null,m().createElement(v.Z,{title:p,headerOUIA:"package-details",breadcrumbs:[{title:L.N.formatMessage(h.Z.titlesPatchPackages),to:"/packages",isActive:!1},{title:p,isActive:!0}]},d.hasError?m().createElement(O.Z,null):m().createElement(E,{attributes:ae(ae({},_),{},{id:p}),isLoading:d.isLoading})),m().createElement(o.Z,null,m().createElement(n.K,{hasGutter:!0},m().createElement(l.v,null,m().createElement(i.D,null,m().createElement(s.xv,{component:s.qO.h2},L.N.formatMessage(h.Z.titlesAffectedSystems)))),m().createElement(l.v,null,d.hasError&&m().createElement(G.Z,null)||!d.isLoading&&m().createElement($,{packageName:p})))))};ce.propTypes={match:u().any};const re=(0,d.withRouter)(ce)},93818:()=>{},94498:()=>{},36974:()=>{}}]);
//# sourceMappingURL=../sourcemaps/PackageDetail.db8a31a3e5108ea1c386f532c6471bf0.js.map