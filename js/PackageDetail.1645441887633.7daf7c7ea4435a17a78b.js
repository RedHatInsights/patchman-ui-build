(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman||[]).push([[155],{81159:(e,t,r)=>{"use strict";t.K=void 0;const a=r(70655),n=a.__importStar(r(43297)),s=a.__importDefault(r(15957)),c=r(38296);t.K=e=>{var{hasGutter:t=!1,className:r="",children:i=null,component:o="div"}=e,l=a.__rest(e,["hasGutter","className","children","component"]);const u=o;return n.createElement(u,Object.assign({},l,{className:c.css(s.default.stack,t&&s.default.modifiers.gutter,r)}),i)},t.K.displayName="Stack"},34023:(e,t,r)=>{"use strict";t.v=void 0;const a=r(70655),n=a.__importStar(r(43297)),s=a.__importDefault(r(15957)),c=r(38296);t.v=e=>{var{isFilled:t=!1,className:r="",children:i=null}=e,o=a.__rest(e,["isFilled","className","children"]);return n.createElement("div",Object.assign({},o,{className:c.css(s.default.stackItem,t&&s.default.modifiers.fill,r)}),i)},t.v.displayName="StackItem"},15957:(e,t,r)=>{"use strict";t.__esModule=!0,r(53519),t.default={modifiers:{fill:"pf-m-fill",gutter:"pf-m-gutter"},stack:"pf-l-stack",stackItem:"pf-l-stack__item"}},49642:(e,t,r)=>{"use strict";r.d(t,{Z:()=>E});var a=r(48716),n=r(39173),s=r(45697),c=r.n(s),i=r(43297),o=r.n(i),l=r(85991),u=r(49489),d=r(334),m=function(e){var t=e.items,r=e.headerOUIA;return o().createElement(l.a,null,t.filter(Boolean).map((function(e){return o().createElement(u.g,{key:e.title,isActive:e.isActive},e.to&&o().createElement(d.Link,{to:e.to,"data-ouia-component-type":"".concat(r,"-breadcrumb"),"data-ouia-component-id":"breadcrumb-to-".concat(e.title)},e.title)||e.title)})))};m.propTypes={items:c().arrayOf(c().shape({isActive:c().bool,to:c().string,title:c().string})),headerOUIA:c().string};const p=m;var f=r(82819),v=r(98378),g=r(60076),h=function(e){var t=e.history,r=e.headerOUIA;return o().createElement(v.mQ,{onSelect:function(e,r){t.push(r)},activeKey:t.location.pathname,className:"patchman-tabs"},o().createElement(f.O,{eventKey:g.H.advisories.to,title:g.H.advisories.title,"data-ouia-component-type":"".concat(r,"-tab"),"data-ouia-component-id":"".concat(r,"-tab-").concat(g.H.advisories.title)}),o().createElement(f.O,{eventKey:g.H.systems.to,title:g.H.systems.title,"data-ouia-component-type":"".concat(r,"-tab"),"data-ouia-component-id":"".concat(r,"-tab-").concat(g.H.systems.title)}))};h.propTypes={history:c().object,headerOUIA:c().string};const b=(0,d.withRouter)(h);var y=function(e){var t=e.title,r=e.showTabs,s=e.breadcrumbs,c=e.children,i=e.headerOUIA;return o().createElement(o().Fragment,null,o().createElement(a.Z,{"data-ouia-component-type":"".concat(i,"-page-header")},s&&o().createElement(p,{items:s,headerOUIA:i}),o().createElement(n.Z,{title:t}),c),r&&o().createElement(b,{headerOUIA:i}))};y.propTypes={title:c().string,showTabs:c().bool,breadcrumbs:c().array,children:c().any,headerOUIA:c().string};const E=y},52709:(e,t,r)=>{"use strict";r.d(t,{x:()=>h,ZP:()=>E});var a=r(45987),n=r(4942),s=r(56455),c=r(87462),i=r(43297),o=r.n(i),l=r(45697),u=r.n(l),d=r(94184),m=r.n(d),p=function(e){var t=e.centered,r=e.className,s=(0,a.Z)(e,["centered","className"]),i=m()("ins-c-spinner",(0,n.Z)({},"ins-m-center",t),r);return o().createElement("div",(0,c.Z)({role:"status",className:i},s),o().createElement("span",{className:"pf-u-screen-reader"},"Loading..."))};p.propTypes={centered:u().bool,className:u().string};const f=p;var v,g=["loading","variant","children"],h={spinner:"spinner",skeleton:"skeleton"},b=(v={},(0,n.Z)(v,h.skeleton,(function(e){var t=e.size,r=e.isDark;return o().createElement(s.Z,{size:t,isDark:r})})),(0,n.Z)(v,h.spinner,(function(e){var t=e.centered;return o().createElement(f,{centered:t})})),v),y=function(e){var t=e.loading,r=e.variant,n=e.children,s=(0,a.Z)(e,g);return!1!==t?b[r](s):n};y.propTypes={loading:u().bool,variant:u().string,children:u().any};const E=y},8453:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ne});var a=r(4942),n=r(29439),s=r(81159),c=r(34023),i=r(63540),o=r(20018),l=r(86350),u=r(45697),d=r.n(u),m=r(43297),p=r.n(m),f=r(28216),v=r(334),g=r(30893),h=r(49642),b=r(49287),y=r(18038),E=r(57358),O=r(52709),_=function(e){var t=e.attributes.description,r=e.isLoading,a=p().useState(1e3),i=(0,n.Z)(a,2),o=i[0],l=i[1];return t&&p().createElement(b.r,{hasGutter:!0,style:{minHeight:50}},p().createElement(y.P,{md:8,sm:12},p().createElement(O.ZP,{loading:r,variant:O.x.spinner,centered:!0},p().createElement(s.K,{hasGutter:!0},p().createElement(c.v,null),p().createElement(c.v,{style:{whiteSpace:"pre-line"}},t&&(0,E.Nt)(t,o,l))))))||p().createElement(m.Fragment,null)};_.propTypes={attributes:d().object,isLoading:d().bool};const P=_;var k=r(20167),Z=r(60076),w=r(15861),S=r(87757),N=r.n(S),j=r(72573),T=r(33739),D=r(90747),I=r(16590),A=r(87462),L=r(80887),F=r(77221),x=r(82553),C=r(44612),H=r(32132);const M=function(e,t,r){var a=p().useState(!1),s=(0,n.Z)(a,2),c=s[0],i=s[1],o=p().useState(10),l=(0,n.Z)(o,2),u=l[0],d=l[1],m=t&&t.installed_evra,f=m&&("string"==typeof t.installed_evra&&t.installed_evra.split(",")||t.installed_evra),v=r.data&&r.data.sort().map((function(e){return{value:e.evra}}))||[{value:H.N.formatMessage(g.Z.textNoVersionAvailable),disabled:!0}];return{type:C.Y.custom,label:H.N.formatMessage(g.Z.labelsFiltersPackageVersionTitle),value:"custom",filterValues:{children:p().createElement(L.P,(0,A.Z)({variant:v.length>0&&x.SelectVariant.checkbox||x.SelectVariant.typeaheadMulti,typeAheadAriaLabel:H.N.formatMessage(g.Z.labelsFiltersPackageVersionPlaceholder),onToggle:function(e){i(e)},onSelect:function(r,a){var n={filter:{}};if(!f||f&&!f.includes(a)){var s=m&&""!==t.installed_evra&&t.installed_evra.concat(",")||"";n.filter={installed_evra:"".concat(s).concat(a)}}else{var c=1!==f.length&&f.filter((function(e){return!e.includes(a)})).join(",")||void 0;n.filter={installed_evra:c}}e(n)},selections:f,isOpen:c,"aria-labelledby":"patch-version-filter",placeholderText:H.N.formatMessage(g.Z.labelsFiltersPackageVersionPlaceholder)},u<v.lengt&&{loadingVariant:{text:"View more",onClick:function(){d(v.length)}}},{style:{maxHeight:"400px",overflow:"auto"}}),v.slice(0,u).map((function(e,t){return p().createElement(F.SelectOption,(0,A.Z)({isDisabled:e.disabled,key:t,value:e.value},e.description&&{description:e.description}))})))}}};var U=r(73888),V=r(32041),R=r(9557),K=r(5747),G=r(11220),q=r(13784),z=r(91607),Q=r(94859),Y=r(20259),B=r(58684);function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var X=function(e){var t=e.packageName,r=(0,f.I0)(),a=(0,v.useHistory)(),s=p().useState((function(){return function(){return null}})),c=(0,n.Z)(s,2),i=c[0],o=c[1],l=p().useState([]),u=(0,n.Z)(l,2),d=u[0],m=u[1],h=(0,E.PZ)(a.location.search),b=(0,f.v9)((function(e){var t=e.entities;return(null==t?void 0:t.rows)||[]}),f.wU),y=(0,f.v9)((function(e){var t=e.entities;return(null==t?void 0:t.status)||{}})),O=(0,f.v9)((function(e){var t=e.entities;return(null==t?void 0:t.total)||0})),_=(0,f.v9)((function(e){var t=e.entities;return(null==t?void 0:t.selectedRows)||[]})),P=(0,f.v9)((function(e){var t=e.PackageSystemsStore;return(null==t?void 0:t.queryParams)||{}})),k=p().useState(!1),Z=(0,n.Z)(k,2),S=Z[0],A=Z[1],L=P.systemProfile,F=P.selectedTags,x=P.filter,C=P.search,J=P.sort,X=P.page,$=P.perPage;function ee(e){r((0,R.g5)(e))}p().useEffect((0,w.Z)(N().mark((function e(){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee(h),e.t0=m,e.next=4,(0,G.dh)({package_name:t});case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)}))),[]),p().useEffect((function(){return function(){r((0,R.RV)()),r((0,R.d)())}}),[]);var te=(0,z.j5)(W(W({},x),{},{search:C}),ee),re=(0,n.Z)(te,1)[0],ae={items:[(0,D.Z)(ee,C,H.N.formatMessage(g.Z.labelsFiltersSystemsSearchTitle),H.N.formatMessage(g.Z.labelsFiltersSystemsSearchPlaceholder)),(0,I.Z)(ee,x),M(ee,x,d)]},ne={filters:(0,E.mt)(x,C,H.N.formatMessage(g.Z.labelsFiltersSystemsSearchTitle)),onDelete:re};function se(){return(se=(0,w.Z)(N().mark((function e(t){var r;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.next=3,t;case 3:r=e.sent,o((function(){return function(){return p().createElement(Y.Z,{data:r})}})),A(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ce=(0,z.ry)(b,_,(function(){return(0,G.vo)(W(W({},P),{},{package_name:t,limit:-1})).then(E.lq)}),(function(e){r({type:"SELECT_ENTITY",payload:e})}),(function(e){return"".concat(t,"-").concat(e.available_evra)})),ie=_&&(0,E.Qy)(_).length,oe=(0,z.AR)(t,P,{csv:G.nx,json:G.bb},r),le=function(){var e={};return(0,E.Q6)(_).forEach((function(t){e[_[t]]?e[_[t]].push(t):e[_[t]]=[t]})),{data:e}},ue=(0,z.U)(G.vo,ee,{packageName:t},a);return p().createElement(p().Fragment,null,p().createElement(i,null),y.hasError&&p().createElement(U.Z,{code:y.code})||p().createElement(T.Z,{disableDefaultColumns:["system_profile","updated"],isFullView:!0,autoRefresh:!0,initialLoading:!0,hideFilters:{all:!0,tags:!1},columns:B.Hd,showTags:!0,getEntities:ue,customFilters:{patchParams:{search:C,filter:x,systemProfile:L,selectedTags:F}},onLoad:function(e){var t=e.mergeWithEntities;(0,V.z)(W({},t((0,K.Kq)(B.Hd,K.OC),(0,E.fm)({page:X,perPage:$,sort:J,search:C},h))))},tableProps:{canSelectAll:!1,variant:j.TableVariant.compact,className:"patchCompactInventory",isStickyHeader:!0},filterConfig:ae,activeFiltersConfig:ne,bulkSelect:(0,z.Pz)(ie,ce,{total_items:O},b),exportConfig:{isDisabled:0===O,onSelect:oe},dedicatedAction:p().createElement(Q.Z,{onClick:function(){return function(e){return se.apply(this,arguments)}((0,E.Sz)((0,E.Q6)(_),le,E.R9,q.oN.package))},isDisabled:0===(0,E.Qy)(_).length||S,isLoading:S,ouia:"toolbar-remediation-button"})}))};X.propTypes={packageName:d().string};const $=X;var ee=r(83215);function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ae=function(e){var t=e.match,r=(0,f.I0)(),a=p().useState(t.params.packageName),u=(0,n.Z)(a,1)[0],d="".concat(u," - ").concat(H.N.formatMessage(g.Z.titlesPackages));(0,z.Iw)(d);var m=(0,f.v9)((function(e){return e.PackageDetailStore})),v=(0,f.v9)((function(e){return e.PackageDetailStore.status}));p().useEffect((function(){r((0,R.Sb)({packageName:u}))}),[]),p().useEffect((function(){return function(){r((0,ee.L1)()),r((0,R.vh)())}}),[]);var b=m.data.attributes;return p().createElement(p().Fragment,null,p().createElement(h.Z,{title:u,headerOUIA:"package-details",breadcrumbs:[{title:H.N.formatMessage(g.Z.titlesPatchPackages),to:Z.H.packages.to,isActive:!1},{title:u,isActive:!0}]},v.hasError?p().createElement(k.Z,null):p().createElement(P,{attributes:re(re({},b),{},{id:u}),isLoading:v.isLoading})),p().createElement(l.Z,null,p().createElement(s.K,{hasGutter:!0},p().createElement(c.v,null,p().createElement(o.D,null,p().createElement(i.xv,{component:i.qO.h2},H.N.formatMessage(g.Z.titlesAffectedSystems)))),p().createElement(c.v,null,v.hasError&&p().createElement(U.Z,null)||!v.isLoading&&p().createElement($,{packageName:u})))))};ae.propTypes={match:d().any};const ne=(0,v.withRouter)(ae)},5747:(e,t,r)=>{"use strict";r.d(t,{G:()=>u,OC:()=>d,Kq:()=>m});var a=r(4942),n=r(57668),s=r(48881),c=r(22789);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l={rows:[],entities:[],selectedRows:{},status:{},page:1,perPage:20,metadata:{limit:20,offset:0,total_items:0}},u=function(e,t){return t.loaded?o(o({},t),{},{status:{isLoading:!1,hasError:!1},rows:(0,n.Yk)(t.rows,t.selectedRows)}):t},d=function(e,t){return t.loaded?o(o({},t),{},{columns:e,rows:(0,n.GF)(t.rows,t.selectedRows)}):t},m=function(e,t){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,a=arguments.length>1?arguments[1]:void 0,n=o({},r);switch(a.type){case"LOAD_ENTITIES_FULFILLED":return t(e,n);case"LOAD_ENTITIES_PENDING":return n.status={isLoading:!0,hasError:!1},n;case"LOAD_ENTITIES_REJECTED":return n.status={isLoading:!0,hasError:!0},n;case"SELECT_ENTITY":var i=(0,s.hd)(n,a);return t(e,i);case c.sq:return l;default:return r}}}},58392:()=>{},72816:()=>{},53519:()=>{}}]);
//# sourceMappingURL=../sourcemaps/PackageDetail.b64ee613dea82f56c3e8b027090a055e.js.map