(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman||[]).push([[743],{45233:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>I});var r=n(319),s=n.n(r),o=n(59713),c=n.n(o),a=n(63038),i=n.n(a),u=n(72573),l=n(89583),f=n(99068),m=n(68738),p=n(53433),S=n(77865),y=n.n(S),v=n(87016),h=n(18623),b=n(75107),d=n(95466),g=n(83605),O=n(50371),_=n(71724),j=n(58492),w=n(79143),P=n(52798),E=n(92026),k=n(45505),D=n(11550),C=n(10047),F=n(51439);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const I=function(){var e=D.N.formatMessage(h.Z.titlesSystems);(0,k.Iw)(e);var t=(0,v.useDispatch)(),n=y().useState((function(){return function(){return null}})),r=i()(n,2),o=r[0],c=r[1],a=(0,v.useSelector)((function(e){return e.SystemsListStore.rows})),S=y().useMemo((function(){return(0,P.Yk)(a)}),[a]),L=(0,v.useSelector)((function(e){return e.SystemsListStore.status})),I=(0,v.useSelector)((function(e){return e.SystemsListStore.metadata})),M=(0,v.useSelector)((function(e){return e.SystemsListStore.queryParams})),N=(0,v.useSelector)((function(e){var t=e.entities;return t&&t.columns})),W=M.filter,T=M.search,q=(0,k.W5)(I,z);(0,k.KW)((function(){t((0,O.ZX)(M))}),[M]);var x=(0,k.T8)(I.limit,I.offset),A=i()(x,2),K=A[0],V=A[1];function z(e){t((0,O.PH)(e))}var B=(0,k.j5)(W,z),H={items:[(0,b.Z)(z,T,D.N.formatMessage(h.Z.labelsFiltersSystemsSearch))]},J={filters:(0,E.mt)(W,T),onDelete:B},R=function(){var e=N&&N.filter((function(e){return"updated"===e.key}))[0];return e=Z(Z({},e),{},{key:"last_upload"}),[].concat(s()(F.Fs),[e])},U=(0,k._f)(R(),z),X=y().useMemo((function(){return(0,E.hO)(R(),I.sort,0)}),[I.sort]);return y().createElement(y().Fragment,null,y().createElement(d.Z,{title:D.N.formatMessage(h.Z.titlesPatchSystems),headerOUIA:"systems"}),y().createElement(o,null),y().createElement(l.o,null,L===w.g_?y().createElement(f.F,null):y().createElement(p.e_,{onLoad:function(e){var t=e.mergeWithEntities,n=(0,g.bh)();(0,g.z2)(Z({},t((0,_.Kq)(F.Fs,n.getState().SystemsListStore))))},isFullView:!0,items:S,page:K,total:I.total_items,perPage:V,isLoaded:L===w.Wd,onRefresh:q,exportConfig:{onSelect:function(e,t){var n=(new Date).toISOString().replace(/[T:]/g,"-").split(".")[0]+"-utc",r="systems-".concat(n);"csv"===t?(0,j.wI)(M).then((function(e){return(0,m.Sv)(e,r,"csv")})):(0,j.TW)(M).then((function(e){return(0,m.Sv)(JSON.stringify(e),r,"json")}))}},hasCheckbox:!1,actions:(0,F.Sb)((function(e){c((function(){return function(){return y().createElement(C.Z,{data:e})}}))})),filterConfig:H,activeFiltersConfig:J,tableProps:{areActionsDisabled:function(e){return e.applicable_advisories.every((function(e){return 0===e}))},onSort:U,sortBy:X,variant:u.TableVariant.compact,className:"patchCompactInventory"}})))}}}]);
//# sourceMappingURL=Systems.603bcd5750ff1f146bc6.js.map