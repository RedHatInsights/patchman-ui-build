"use strict";(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman||[]).push([[423],{81159:(e,t,n)=>{t.K=void 0;const r=n(70655),a=r.__importStar(n(43297)),l=r.__importDefault(n(73976)),s=n(38296);t.K=e=>{var{hasGutter:t=!1,className:n="",children:c=null,component:i="div"}=e,o=r.__rest(e,["hasGutter","className","children","component"]);const u=i;return a.createElement(u,Object.assign({},o,{className:s.css(l.default.stack,t&&l.default.modifiers.gutter,n)}),c)},t.K.displayName="Stack"},34023:(e,t,n)=>{t.v=void 0;const r=n(70655),a=r.__importStar(n(43297)),l=r.__importDefault(n(73976)),s=n(38296);t.v=e=>{var{isFilled:t=!1,className:n="",children:c=null}=e,i=r.__rest(e,["isFilled","className","children"]);return a.createElement("div",Object.assign({},i,{className:s.css(l.default.stackItem,t&&l.default.modifiers.fill,n)}),c)},t.v.displayName="StackItem"},83905:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(93433),a=n(29439),l=n(43297),s=n(28216),c=n(54025),i=n(11220);const o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=(0,s.v9)((function(e){var t=e.entities;return null==t?void 0:t.operatingSystems})),o=(0,s.v9)((function(e){var t=e.entities;return null==t?void 0:t.operatingSystemsLoaded})),u=(0,l.useState)([]),m=(0,a.Z)(u,2),d=m[0],f=m[1],v=(0,c.useLoadModule)({appName:"inventory",scope:"inventory",module:"./OsFilterHelpers"}),p=(0,a.Z)(v,1),y=p[0],E=(y=void 0===y?{}:y).toGroupSelectionValue,b=y.buildOSFilterConfig;(0,l.useEffect)((function(){void 0!==n&&void 0!==o||(0,i.GB)().then((function(e){var t=e.results;f((t||[]).map((function(e){var t=e.value,n=t.name,r=t.major,a=t.minor,l="".concat(r,".").concat(a);return{label:"".concat(n," ").concat(l),value:"".concat(l)}})))}))}),[]),(0,l.useEffect)((function(){!0===o&&f(n)}),[o]);var g=(""===e?[]:e.split(",")).map((function(e){return e.substring(5)}));return(0,r.Z)(b?[b({id:"rhel_version",value:E(g),onChange:function(e,n){var r=Object.values(n).flatMap((function(e){return Object.keys(e)})).map((function(e){return"RHEL ".concat(e)})).toString();t({filter:{os:r}})}},d)]:[])}},34951:(e,t,n)=>{n.r(t),n.d(t,{default:()=>pe});var r=n(4942),a=n(29439),l=n(81159),s=n(34023),c=n(63540),i=n(20018),o=n(14748),u=n(45697),m=n.n(u),d=n(43297),f=n.n(d),v=n(28216),p=n(334),y=n(30893),E=n(6202),b=n(49287),g=n(18038),h=n(42057),O=n(36001),S=n(36842),Z=n(21508),P=n(34348),_=n(35240),N=n(81469),j=n(5391),k=n(32132),w=n(7665),D=n(19210),F=function(e){var t=e.severity;return f().createElement(S.P,{className:"infobox",hasGutter:!0},f().createElement(Z.J,{isFilled:!0},f().createElement(O.k,{flex:{default:"column"}},f().createElement(h.B,{spacer:{default:"spacerNone"}},f().createElement(P.Title,{headingLevel:"h5"},k.N.formatMessage(y.Z.labelsColumnsSeverity))),f().createElement(h.B,{spacer:{default:"spacerSm"}},f().createElement(O.k,{flex:{default:"row"}},f().createElement(h.B,null,f().createElement(D.ZP,{size:"sm",color:t.color})),f().createElement(h.B,null,t.label))))))};F.propTypes={severity:m().object};const M=F;var A=n(55970),B=n(18464),C=(0,d.lazy)((function(){return Promise.all([n.e(7541),n.e(8826),n.e(9630)]).then(n.bind(n,71309))})),R=function(e){var t=e.attributes,n=e.isLoading,r=(0,d.useState)((function(){return function(){return null}})),o=(0,a.Z)(r,2),u=o[0],m=o[1],v=(0,d.useState)(1e3),p=(0,a.Z)(v,2),D=p[0],F=p[1],R=(0,j.r)(t.severity),x=t.cves;return f().createElement(b.r,{hasGutter:!0,style:{minHeight:150}},f().createElement(g.P,{md:8,sm:12},f().createElement(N.ZP,{loading:n,variant:N.x.spinner,centered:!0},f().createElement(l.K,{hasGutter:!0},f().createElement(s.v,null),f().createElement(s.v,{style:{whiteSpace:"pre-line"}},t.description&&(0,j.Nt)(t.description,D,F)),f().createElement(s.v,null,t.public_date&&f().createElement(f().Fragment,null,k.N.formatMessage(y.Z.labelsPublicDate,{date:(0,_.Un)(t.public_date)}),f().createElement("br",null)),t.modified_date&&f().createElement(f().Fragment,null,k.N.formatMessage(y.Z.labelsModifiedDate,{date:(0,_.Un)(t.modified_date)}))),(0,j.q5)(t.id)&&f().createElement(s.v,null,f().createElement(A.Z,{link:"https://access.redhat.com/errata/".concat(t.id),text:k.N.formatMessage(y.Z.linksViewPackagesAndErrata)}))))),f().createElement(g.P,{md:4,sm:12},f().createElement(O.k,{flex:{default:"column"}},t.advisory_type_name&&f().createElement(h.B,null,f().createElement(S.P,{className:"infobox",hasGutter:!0},f().createElement(Z.J,{isFilled:!0},f().createElement(O.k,{flex:{default:"column"}},f().createElement(h.B,{spacer:{default:"spacerNone"}},f().createElement(P.Title,{headingLevel:"h5"},k.N.formatMessage(y.Z.titlesAdvisoryType))),f().createElement(h.B,{spacer:{default:"spacerSm"}},f().createElement(B.Z,{type:t.advisory_type_name})))))),0!==R.value&&f().createElement(h.B,null,f().createElement(M,{severity:R})),t.reboot_required&&f().createElement(h.B,{spacer:{default:"spacerMd"}},f().createElement(w.Z,null)))),x&&0!==x.length&&f().createElement(g.P,{md:4,sm:12},f().createElement(i.D,null,f().createElement(c.xv,{component:c.qO.h3},k.N.formatMessage(y.Z.labelsCves)),f().createElement(E.Button,{variant:"link",style:{padding:0},onClick:function(){m((function(){return function(){return f().createElement(C,{cveIds:x})}}))}},k.N.formatMessage(y.Z.labelsCvesButton,{cvesCount:x.length})))),f().createElement(d.Suspense,{fallback:f().createElement(d.Fragment,null)},f().createElement(u,null)))};R.propTypes={attributes:m().object,isLoading:m().bool};const x=R;var T=n(49642),L=n(15984),G=n(9557),I=n(91607),q=n(15861),H=n(93433),K=n(64687),U=n.n(K),V=n(72573),z=n(33739),Q=n(97779),J=n(90747),W=n(83905),Y=n(52579),X=n(7322),$=n(5747),ee=n(11220),te=n(13784),ne=n(58684),re=n(55485),ae=n(53074),le=n(93080),se=n(12738);function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oe=function(e){var t=e.advisoryName,n=(0,v.I0)(),r=(0,v.oR)(),l=f().useState(!1),s=(0,a.Z)(l,2),c=s[0],i=s[1],o=f().useState((function(){return function(){return null}})),u=(0,a.Z)(o,2),m=u[0],E=u[1],b=(0,p.useHistory)(),g=(0,I.ye)(te.VH.patch_set),h=(0,j.PZ)(b.location.search),O=(0,v.v9)((function(e){var t=e.entities;return(null==t?void 0:t.rows)||[]}),v.wU),S=(0,v.v9)((function(e){var t=e.entities;return(null==t?void 0:t.status)||{}})),Z=(0,v.v9)((function(e){var t=e.entities;return(null==t?void 0:t.total)||0})),P=(0,v.v9)((function(e){var t=e.AdvisorySystemsStore;return(null==t?void 0:t.queryParams)||{}})),_=(0,v.v9)((function(e){var t=e.entities;return(null==t?void 0:t.selectedRows)||[]})),N=(0,v.v9)((function(e){var t=e.AdvisorySystemsStore;return(null==t?void 0:t.metadata)||{}})),w=P.systemProfile,D=P.selectedTags,F=P.filter,M=P.search,A=P.page,B=P.perPage,C=P.sort;function R(e){n((0,G.pH)(e))}f().useEffect((function(){return R(h),function(){n((0,G.RV)()),n((0,G.Yf)())}}),[]);var x=(0,I.j5)(ie({search:M},F),R),T=(0,a.Z)(x,1)[0],L=(0,W.Z)(null==F?void 0:F.os,R),K={items:[(0,J.Z)(R,M,k.N.formatMessage(y.Z.labelsFiltersSystemsSearchTitle),k.N.formatMessage(y.Z.labelsFiltersSystemsSearchPlaceholder))].concat((0,H.Z)(L))},ce=(0,se.Fy)(F,M,T),oe=(0,d.useCallback)(function(){var e=(0,q.Z)(U().mark((function e(t){var n;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:n=e.sent,E((function(){return function(){return f().createElement(re.Z,{data:n,isRemediationOpen:!0,setRemediationOpen:i})}})),i(!c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[c]),ue=(0,le.r)(O,_,{endpoint:le.c.advisorySystems(t),queryParams:P,selectionDispatcher:G.i2}),me=_&&(0,j.Qy)(_).length,de=(0,I.U)(ee.cK,R,{id:t},b),fe=(0,I.AR)(t,P,{csv:ee.nb,json:ee.Se},n),ve=(0,I.Pz)(me,ue,{total_items:Z},O);return f().createElement(f().Fragment,null,c&&f().createElement(m,null)||null,(S.hasError||!1===(null==N?void 0:N.has_systems))&&f().createElement(Y.Z,{code:S.code,metadata:N})||f().createElement(z.Z,{isFullView:!0,autoRefresh:!0,initialLoading:!0,ignoreRefresh:!0,hideFilters:{all:!0,tags:!1},columns:function(e){return(0,se.gB)(e,g)},showTags:!0,customFilters:{patchParams:{search:M,filter:F,systemProfile:w,selectedTags:D}},paginationProps:{isDisabled:0===Z},onLoad:function(e){var t=e.mergeWithEntities;r.replaceReducer((0,Q.UY)(ie(ie({},X.E),t((0,$.Kq)((0,ne.Fs)(!1),$.G),(0,j.fm)({page:A,perPage:B,sort:C,search:M},h)))))},getEntities:de,actions:(0,ne.Sb)(oe),tableProps:{canSelectAll:!1,variant:V.TableVariant.compact,className:"patchCompactInventory",isStickyHeader:!0},filterConfig:K,activeFiltersConfig:ce,exportConfig:{isDisabled:0===Z,onSelect:fe},bulkSelect:ue&&ve,dedicatedAction:f().createElement(ae.Z,{remediationProvider:function(){return(0,j.MS)(t,(0,j.Q6)(_),te.oN.advisory)},isDisabled:0===(0,j.Qy)(_).length})}))};oe.propTypes={advisoryName:m().string};const ue=oe;var me=n(83215);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ve=function(e){var t=e.match,n=(0,v.I0)(),r=f().useState(t.params.advisoryId),u=(0,a.Z)(r,1)[0],m="".concat(u," - ").concat(k.N.formatMessage(y.Z.titlesAdvisories));(0,I.Iw)(m);var d=(0,v.v9)((function(e){return e.AdvisoryDetailStore})),p=(0,v.v9)((function(e){return e.AdvisoryDetailStore.status}));f().useEffect((function(){n((0,G.N2)({advisoryName:u}))}),[]),f().useEffect((function(){return function(){n((0,G.jl)()),n((0,G.Bt)()),n((0,me.L1)())}}),[]);var E=d.data.attributes;return f().createElement(f().Fragment,null,f().createElement(T.Z,{title:u,headerOUIA:"advisory-details",breadcrumbs:[{title:k.N.formatMessage(y.Z.titlesPatchAdvisories),to:"/advisories",isActive:!1},{title:u,isActive:!0}]},p.hasError?f().createElement(L.Z,null):f().createElement(x,{attributes:fe(fe({},E),{},{id:u}),isLoading:p.isLoading})),f().createElement(o.Z,null,f().createElement(l.K,{hasGutter:!0},f().createElement(s.v,null,f().createElement(i.D,null,f().createElement(c.xv,{component:c.qO.h2},k.N.formatMessage(y.Z.titlesAffectedSystems)))),f().createElement(s.v,null,f().createElement(ue,{advisoryName:u})))))};ve.propTypes={match:m().any};const pe=(0,p.withRouter)(ve)},55485:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(43297),a=n.n(r),l=n(45697),s=n.n(l),c=n(22663),i=function(e){var t=e.data,n=e.setRemediationOpen;return a().createElement(c.Z,{appName:"remediations",module:"./RemediationWizard",setOpen:n,fallback:a().createElement("span",null),data:t})};i.propTypes={data:s().object,setRemediationOpen:s().func};const o=i}}]);
//# sourceMappingURL=../sourcemaps/AdvisoryPage.7d608b2edb72c673d2f66ea299c55f9d.js.map