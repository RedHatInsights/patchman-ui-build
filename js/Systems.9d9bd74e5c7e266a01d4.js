(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1125:function(t,e,r){(t.exports=r(3)(!1)).push([t.i,".col-width-30{width:30%}.col-width-40{width:40%}\n",""])},1131:function(t,e,r){var n=r(1149),o=r(1150),a=r(672),i=r(1151);t.exports=function(t){return n(t)||o(t)||a(t)||i()}},1149:function(t,e,r){var n=r(673);t.exports=function(t){if(Array.isArray(t))return n(t)}},1150:function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},1151:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},1152:function(t,e,r){"use strict";r.d(e,"a",(function(){return b})),r.d(e,"b",(function(){return d}));var n=r(1131),o=r.n(n),a=r(28),i=r.n(a),c=r(15);function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){i()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var l={columns:[],rows:[],entities:[]};function f(t,e,r){if(r.loaded){var n=r.columns.filter((function(t){return"updated"===t.key}));return n=[u(u({},n[0]),{},{transforms:[c.sortable]})],u(u({},r),{},{columns:[].concat(o()(t||[]),o()(n||[])),rows:(a=r.rows,i=e,a.map((function(t){var e=i&&i.find((function(e){return e.id===t.id}));return u(u({},t),{},{updated:e&&e.attributes.last_upload||t.updated})})))})}var a,i;return r}function p(t,e,r){return r.loaded?u(u({},r),{},{columns:t}):r}var b=function(t,e){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"LOAD_ENTITIES_FULFILLED":return f(t,null==e?void 0:e.rows,r);default:return r}}},d=function(t,e){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"LOAD_ENTITIES_FULFILLED":return p(t,null==e||e.rows,r);default:return r}}}},1153:function(t,e,r){"use strict";r.d(e,"b",(function(){return i})),r.d(e,"a",(function(){return c})),r.d(e,"c",(function(){return s}));var n=r(15),o=r(70),a=r(22),i=(r(1154),[{key:"display_name",title:"Name",composed:["facts.os_release","display_name"],transforms:[n.sortable],props:{width:50}},{key:"packages_installed",title:"Packages",transforms:[n.sortable],props:{width:10}},{key:"applicable_advisories",title:"Applicable advisories",transforms:[n.sortable],props:{width:20},renderFunc:function(t){return Object(a.f)(t)}}]),c=[{key:"display_name",title:"Name",composed:["facts.os_release","display_name"],props:{width:50}},{key:"installed_evra",title:"Installed version",transforms:[n.sortable],props:{width:10}},{key:"available_evra",title:"Latest version",transforms:[n.sortable],props:{width:10}},{key:"upgradable",title:"Status",props:{width:20},renderFunc:function(t){return Object(a.h)(t)}}],s=function(t){return[{title:"Apply all applicable advisories",onClick:function(e,r,n){Object(o.k)({id:n.id,limit:1e4}).then((function(e){return t(Object(a.s)(e.data.map((function(t){return t.id})),n.id))}))}}]}},1154:function(t,e,r){var n=r(1125);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0},a=r(4)(n,o);n.locals&&(t.exports=n.locals),t.hot.accept(1125,(function(){var e=r(1125);if("string"==typeof e&&(e=[[t.i,e,""]]),!function(t,e){var r,n=0;for(r in t){if(!e||t[r]!==e[r])return!1;n++}for(r in e)n--;return 0===n}(n.locals,e.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");a(e)})),t.hot.dispose((function(){a()}))},1355:function(t,e,r){"use strict";r.r(e);var n=r(1131),o=r.n(n),a=r(295),i=r.n(a),c=r(28),s=r.n(c),u=r(483),l=r.n(u),f=r(47),p=r.n(f),b=r(15),d=r(481),y=r(296),m=r(1164),O=r(0),v=r.n(O),j=r(42),h=r(145),w=r(20),g=r(237),S=r(1128),k=r(236),E=r(486),P=r(94),D=r(1152),T=r(70),_=r(13),L=r(238),x=r(22),I=r(102),F=r(19),A=r(492),C=r(1153);function R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function B(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?R(Object(r),!0).forEach((function(e){s()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}e.default=function(){var t=F.a.formatMessage(w.a.titlesSystems);Object(I.a)(t);var e=Object(j.useDispatch)(),r=v.a.useState(),n=p()(r,2),a=n[0],c=n[1],s=v.a.useState((function(){return function(){return null}})),u=p()(s,2),f=u[0],O=u[1],R=Object(j.useSelector)((function(t){return t.SystemsListStore.rows})),M=v.a.useMemo((function(){return Object(L.f)(R)}),[R]),N=Object(j.useSelector)((function(t){return t.SystemsListStore.status})),U=Object(j.useSelector)((function(t){return t.SystemsListStore.metadata})),V=Object(j.useSelector)((function(t){return t.SystemsListStore.queryParams})),H=Object(j.useSelector)((function(t){var e=t.entities;return e&&e.columns})),J=V.filter,W=V.search,G=Object(I.c)(U,Y);Object(I.b)((function(){e(Object(P.x)(V))}),[V]);var q=function(){var t=l()(i.a.mark((function t(){var e,r,n,o,a,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(E.a)(),t.next=3,insights.loadInventory({ReactRedux:j,React:v.a,reactRouterDom:h,pfReactTable:{Table:b.Table,TableBody:b.TableBody,TableHeader:b.TableHeader,TableGridBreakpoint:b.TableGridBreakpoint,cellWidth:b.cellWidth,TableVariant:b.TableVariant,sortable:b.sortable,expandable:b.expandable,SortByDirection:b.SortByDirection},pfReact:m.reactCore});case 3:r=t.sent,n=r.inventoryConnector,o=r.mergeWithEntities,Object(E.c)(B({},o(Object(D.a)(C.b,e.getState().SystemsListStore)))),a=n(e),s=a.InventoryTable,c((function(){return s}));case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();v.a.useEffect((function(){q()}),[]);var z=Object(I.e)(U.limit,U.offset),K=p()(z,2),Q=K[0],X=K[1];function Y(t){e(Object(P.g)(t))}var Z=Object(I.g)(J,Y),$={items:[Object(g.a)(Y,W,F.a.formatMessage(w.a.labelsFiltersSystemsSearch))]},tt={filters:Object(x.c)(J,W),onDelete:Z},et=function(){var t=H&&H.filter((function(t){return"updated"===t.key}))[0];return t=B(B({},t),{},{key:"last_upload"}),[].concat(o()(C.b),[t])},rt=Object(I.i)(et(),Y),nt=v.a.useMemo((function(){return Object(x.g)(et(),U.sort,0)}),[U.sort]);return v.a.createElement(v.a.Fragment,null,v.a.createElement(S.a,{title:F.a.formatMessage(w.a.titlesPatchSystems),headerOUIA:"systems"}),v.a.createElement(f,null),v.a.createElement(d.Main,null,N===_.f?v.a.createElement(k.Unavailable,null):a&&v.a.createElement(a,{isFullView:!0,items:M,page:Q,total:U.total_items,perPage:X,isLoaded:N===_.g,onRefresh:G,exportConfig:{onSelect:function(t,e){var r=(new Date).toISOString().replace(/[T:]/g,"-").split(".")[0]+"-utc",n="systems-".concat(r);"csv"===e?Object(T.e)(V).then((function(t){return Object(y.downloadFile)(t,n,"csv")})):Object(T.f)(V).then((function(t){return Object(y.downloadFile)(JSON.stringify(t),n,"json")}))}},hasCheckbox:!1,actions:Object(C.c)((function(t){O((function(){return function(){return v.a.createElement(A.a,{data:t})}}))})),filterConfig:$,activeFiltersConfig:tt,tableProps:{areActionsDisabled:function(t){return t.applicable_advisories.every((function(t){return 0===t}))},onSort:rt,sortBy:nt,variant:b.TableVariant.compact}})))}}}]);
//# sourceMappingURL=Systems.9d9bd74e5c7e266a01d4.js.map