{"version":3,"sources":["webpack:///./src/SmartComponents/Advisories/Advisories.js"],"names":["Advisories","dispatch","useDispatch","advisories","useSelector","AdvisoryListStore","rows","expandedRows","queryParams","selectedRows","metadata","isLoading","React","useMemo","createAdvisoriesRows","useEffect","fetchApplicableAdvisories","onCollapse","useCallback","_","rowId","value","expandAdvisoryRow","getRowIdByIndexExpandable","onSelect","selectAdvisoryRow","onSort","useSortColumn","advisoriesColumns","apply","onSetPage","useSetPage","limit","onPerPageSelect","usePerPageSelect","params","changeAdvisoryListParams","Fragment","title","showTabs","columns"],"mappings":"0FAAA,0GAiGeA,UA7EI,WACf,IAAMC,EAAWC,wBACXC,EAAaC,uBACf,qBAAGC,kBAA0CC,QAE3CC,EAAeH,uBACjB,qBAAGC,kBAA0CE,gBAE3CC,EAAcJ,uBAChB,qBAAGC,kBAA0CG,eAE3CC,EAAeL,uBACjB,qBAAGC,kBAA0CI,gBAE3CC,EAAWN,uBACb,qBAAGC,kBAA0CK,YAE3CC,EAAYP,uBACd,qBAAGC,kBAA0CM,aAE3CL,EAAOM,IAAMC,SACf,kBAAMC,YAAqBX,EAAYI,EAAcE,KACrD,CAACN,EAAYI,EAAcE,IAG/BG,IAAMG,WAAU,WACZd,EAASe,YAA0BR,MACpC,CAACA,IAEJ,IAAMS,EAAaL,IAAMM,aAAY,SAACC,EAAGC,EAAOC,GAAX,OACjCpB,EACIqB,YAAkB,CACdF,MAAOG,YAA0BpB,EAAYiB,GAC7CC,cAKNG,EAAWZ,IAAMM,aAAY,SAACC,EAAGE,EAAOD,GAAX,OAC/BnB,EACIwB,YAAkB,CACdL,MAAOG,YAA0BpB,EAAYiB,GAC7CC,cAKNK,EAASC,YAAcC,IAAmBC,EAAO,GAEjDC,EAAYC,YAAWrB,EAASsB,MAAOH,GACvCI,EAAkBC,YAAiBL,GAEzC,SAASA,EAAMM,GACXlC,EAASmC,YAAyBD,IAGtC,OACI,kBAAC,IAAME,SAAP,KACI,kBAAC,IAAD,CAAQC,MAAO,kBAAmBC,UAAQ,IAC1C,kBAAC,OAAD,KACI,kBAAC,IAAD,CACIC,QAASZ,IACTtB,KAAMA,EACNI,SAAUA,EACVO,WAAYA,EACZO,SAAUA,EACVM,UAAWA,EACXG,gBAAiBA,EACjBP,OAAQA,EACRf,UAAWA,EACXkB,MAAOA","file":"js/Advisories.js","sourcesContent":["import { Main } from '@redhat-cloud-services/frontend-components/components/Main';\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport AdvisoriesTable from '../../PresentationalComponents/AdvisoriesTable/AdvisoriesTable';\nimport { advisoriesColumns } from '../../PresentationalComponents/AdvisoriesTable/AdvisoriesTableAssets';\nimport Header from '../../PresentationalComponents/Header/Header';\nimport {\n    changeAdvisoryListParams,\n    expandAdvisoryRow,\n    fetchApplicableAdvisories,\n    selectAdvisoryRow\n} from '../../store/Actions/Actions';\nimport { createAdvisoriesRows } from '../../Utilities/DataMappers';\nimport { getRowIdByIndexExpandable } from '../../Utilities/Helpers';\nimport {\n    usePerPageSelect,\n    useSetPage,\n    useSortColumn\n} from '../../Utilities/Hooks';\n\nconst Advisories = () => {\n    const dispatch = useDispatch();\n    const advisories = useSelector(\n        ({ AdvisoryListStore }) => AdvisoryListStore.rows\n    );\n    const expandedRows = useSelector(\n        ({ AdvisoryListStore }) => AdvisoryListStore.expandedRows\n    );\n    const queryParams = useSelector(\n        ({ AdvisoryListStore }) => AdvisoryListStore.queryParams\n    );\n    const selectedRows = useSelector(\n        ({ AdvisoryListStore }) => AdvisoryListStore.selectedRows\n    );\n    const metadata = useSelector(\n        ({ AdvisoryListStore }) => AdvisoryListStore.metadata\n    );\n    const isLoading = useSelector(\n        ({ AdvisoryListStore }) => AdvisoryListStore.isLoading\n    );\n    const rows = React.useMemo(\n        () => createAdvisoriesRows(advisories, expandedRows, selectedRows),\n        [advisories, expandedRows, selectedRows]\n    );\n\n    React.useEffect(() => {\n        dispatch(fetchApplicableAdvisories(queryParams));\n    }, [queryParams]);\n\n    const onCollapse = React.useCallback((_, rowId, value) =>\n        dispatch(\n            expandAdvisoryRow({\n                rowId: getRowIdByIndexExpandable(advisories, rowId),\n                value\n            })\n        )\n    );\n\n    const onSelect = React.useCallback((_, value, rowId) =>\n        dispatch(\n            selectAdvisoryRow({\n                rowId: getRowIdByIndexExpandable(advisories, rowId),\n                value\n            })\n        )\n    );\n\n    const onSort = useSortColumn(advisoriesColumns, apply, 2);\n\n    const onSetPage = useSetPage(metadata.limit, apply);\n    const onPerPageSelect = usePerPageSelect(apply);\n\n    function apply(params) {\n        dispatch(changeAdvisoryListParams(params));\n    }\n\n    return (\n        <React.Fragment>\n            <Header title={'System Patching'} showTabs />\n            <Main>\n                <AdvisoriesTable\n                    columns={advisoriesColumns}\n                    rows={rows}\n                    metadata={metadata}\n                    onCollapse={onCollapse}\n                    onSelect={onSelect}\n                    onSetPage={onSetPage}\n                    onPerPageSelect={onPerPageSelect}\n                    onSort={onSort}\n                    isLoading={isLoading}\n                    apply={apply}\n                />\n            </Main>\n        </React.Fragment>\n    );\n};\n\nexport default Advisories;\n"],"sourceRoot":""}