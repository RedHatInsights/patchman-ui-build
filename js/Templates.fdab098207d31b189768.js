"use strict";(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman||[]).push([[3004],{55795:(e,t,a)=>{t.sN={name:"OutlinedQuestionCircleIcon",height:512,width:512,svgPath:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z",yOffset:0,xOffset:0},t.iC=a(35183).createIcon(t.sN),t.ZP=t.iC},97648:(e,t,a)=>{a.d(t,{Z:()=>d});var n=a(29439),r=a(43297),o=a.n(r),l=a(45697),s=a.n(l),c=a(6202),i=a(32752),u=a(78826),m=a(30893),p=a(32132),f=function(e){var t=e.isModalOpen,a=e.setModalOpen,l=e.templateName,s=e.onConfirm,f=(0,r.useState)(!1),d=(0,n.Z)(f,2),h=d[0],b=d[1],g=function(){a(!1),b(!1)};return o().createElement(u.Modal,{title:p.N.formatMessage(m.Z.titlesTemplateDeleteModalTitle),titleIconVariant:"warning",isOpen:t,onClose:g,variant:"small",actions:[o().createElement(c.Button,{key:"confirm",variant:"danger",onClick:function(){g(),s()},isDisabled:!h},p.N.formatMessage(m.Z.labelsDelete)),o().createElement(c.Button,{key:"cancel",variant:"link",onClick:g},p.N.formatMessage(m.Z.labelsCancel))]},p.N.formatMessage(m.Z.titlesTemplateDeleteModalText,{templateName:l,b:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return o().createElement("b",null,t)}}),o().createElement(i.Checkbox,{className:"pf-u-mt-md",isChecked:h,checked:h,onChange:function(e){return b(e)},label:p.N.formatMessage(m.Z.titlesTemplateDeleteModalCheckbox),id:"template-delete-modal-checkbox"}))};f.propTypes={isModalOpen:s().bool,setModalOpen:s().func,templateName:s().string,onConfirm:s().func};const d=f},535:(e,t,a)=>{a.r(t),a.d(t,{default:()=>F});var n=a(4942),r=a(29439),o=a(14748),l=a(43297),s=a.n(l),c=a(28216),i=a(334),u=a(30893),m=a(49642),p=a(90747),f=a(38776),d=a(9557),h=a(11220),b=a(36248),g=a(5391),y=a(91607),v=a(32132),S=a(83215),Z=a(6202),C=a(76004),M=a(72573),O=a(60472),P=[{key:"name",title:"Name",transforms:[M.sortable]},{key:"systems",title:"Systems applied",transforms:[M.sortable]},{key:"last_edited",title:"Last edited",transforms:[M.sortable]},{key:"published",title:"Published",transforms:[M.sortable]},{key:"creator",title:"Created by",transforms:[M.sortable]}],N=function(){return s().createElement(C.Tooltip,{content:"For editing access, contact your administrator."},s().createElement(Z.Button,{isAriaDisabled:!0,variant:"plain","aria-label":"plain kebab"},s().createElement(O.default,null)))},E=a(74079),k=a(13784),_=a(79875),T=a(95249),w=a(93080),D=a(50470),B=a(55795),I=a(149),j=a(97648),A=a(14240);function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const F=function(){var e=v.N.formatMessage(u.Z.titlesTemplate);(0,y.Iw)(e);var t=(0,c.I0)(),a=(0,i.useHistory)(),n=s().useState(!0),M=(0,r.Z)(n,2),O=M[0],x=M[1],F=s().useState(!0),R=(0,r.Z)(F,2),L=R[0],W=R[1],q=s().useState(!1),U=(0,r.Z)(q,2),Y=U[0],$=U[1],H=s().useState(null),V=(0,r.Z)(H,2),G=V[0],K=V[1],Q=(0,c.v9)((function(e){return e.PatchSetsStore.rows})),X=(0,c.v9)((function(e){return e.PatchSetsStore.queryParams})),J=(0,c.v9)((function(e){return e.PatchSetsStore.selectedRows})),ee=(0,c.v9)((function(e){return e.PatchSetsStore.metadata})),te=(0,c.v9)((function(e){return e.PatchSetsStore.status})),ae=(0,l.useMemo)((function(){return(0,b.CN)(Q,J,X)}),[Q,J]),ne=(0,y.mu)();function re(e){t((0,d.br)(e))}var oe=function(){t((0,d.BY)(z(z({},X),{},{page:1,offset:0})))};(0,l.useEffect)((function(){return ne().then((function(e){var t;W(null==e||null===(t=e.smart_management)||void 0===t?void 0:t.is_entitled)})),function(){t((0,d.Im)()),t((0,S.L1)())}}),[]);var le=(0,_.Z)(J),se=le.patchSetState,ce=le.setPatchSetState,ie=le.openPatchSetEditModal;(0,l.useEffect)((function(){!0===se.shouldRefresh&&oe()}),[se.shouldRefresh]),(0,y.KW)((function(){O?(re((0,g.PZ)(a.location.search)),x(!1)):(a.push((0,g.R_)(X)),t((0,d.BY)(X)))}),[X,O]),(0,w.r)(ae,J,{endpoint:w.c.templates,queryParams:X,selectionDispatcher:d.GL});var ue=(0,y._f)(P,re,0),me=s().useMemo((function(){return(0,g.hO)(P,ee.sort,0)}),[ee.sort]),pe=(0,y.SL)(ee.limit,re),fe=(0,y._T)(re),de=(0,T.c$)(["patch:*:*","patch:template:write"]).hasAccess,he=function(e,t){return function(){return t?s().createElement(Z.Button,{key:"createButton",onClick:function(){return e({isPatchSetWizardOpen:!0})}},v.N.formatMessage(u.Z.labelsButtonCreateTemplate)):s().createElement(C.Tooltip,{content:"For editing access, contact your administrator."},s().createElement(Z.Button,{key:"createButton",isAriaDisabled:!0},v.N.formatMessage(u.Z.labelsButtonCreateTemplate)))}}(ce,de),be=function(e,t){return[{title:v.N.formatMessage(u.Z.labelsButtonEditTemplate),onClick:function(t,a,n){e(null==n?void 0:n.id)}},{title:v.N.formatMessage(u.Z.labelsButtonRemoveTemplate),onClick:function(e,t,a){!function(e){$(!0),K(e)}(a)}}]}(ie),ge={items:[(0,p.Z)(re,X.search,v.N.formatMessage(u.Z.labelsFiltersSearchTemplateTitle),v.N.formatMessage(u.Z.labelsFiltersSearchTemplatePlaceholder))]};return s().createElement(s().Fragment,null,s().createElement(j.Z,{templateName:null==G?void 0:G.displayName,isModalOpen:Y,setModalOpen:$,onConfirm:function(){(0,h.f_)(G.id).then((function(){t((0,S.wN)((0,k.D$)(G.displayName).success)),oe()})).catch((function(){t((0,S.wN)((0,k.D$)(G.displayName).error))}))}}),s().createElement(m.Z,{headerOUIA:"advisories",title:s().createElement("span",null,v.N.formatMessage(u.Z.titlesTemplate),s().createElement(I.Popover,{id:"template-header-title-popover","aria-describedby":"template-header-title-popover","aria-labelledby":"template-header-title-popover",hasAutoWidth:!0,maxWidth:"320px",position:"right",enableFlip:!0,headerContent:v.N.formatMessage(u.Z.templatePopoverHeader),bodyContent:v.N.formatMessage(u.Z.templatePopoverBody),footerContent:s().createElement("a",{href:k.Yb,target:"__blank",rel:"noopener noreferrer"},v.N.formatMessage(u.Z.linksReadMore)," ",s().createElement(D.default,null))},s().createElement(B.ZP,{color:"var(--pf-global--secondary-color--100)",className:"pf-u-ml-sm",style:{verticalAlign:"0",fontSize:16,cursor:"pointer"}})))}),se.isPatchSetWizardOpen&&s().createElement(E.Z,{systemsIDs:se.systemsIDs,setBaselineState:ce,patchSetID:se.patchSetID}),s().createElement(o.Z,null,L?0===ae.length?s().createElement(A.WX,{Button:he}):s().createElement(f.Z,{columns:P,compact:!0,onSetPage:pe,onPerPageSelect:fe,onSort:ue,selectedRows:!1,onSelect:!1,sortBy:me,apply:re,tableOUIA:"patch-set-table",paginationOUIA:"patch-set-pagination",store:{rows:ae,metadata:ee,status:te,queryParams:X},actionsConfig:(null==Q?void 0:Q.length)>0&&be,filterConfig:ge,searchChipLabel:v.N.formatMessage(u.Z.labelsFiltersSearchTemplateTitle),CreatePatchSetButton:he,actionsToggle:de?null:N}):s().createElement(A.DL,null)))}}}]);
//# sourceMappingURL=../sourcemaps/Templates.3f8a15cce18580501f30cdd53f304941.js.map