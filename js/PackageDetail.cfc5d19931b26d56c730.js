(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_patchman||[]).push([[155],{29359:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Q});var n=r(59713),a=r.n(n),c=r(63038),o=r.n(c),s=r(81159),i=r(34023),u=r(63540),l=r(20018),f=r(89583),m=r(45697),p=r.n(m),g=r(77865),b=r.n(g),y=r(87016),S=r(47194),d=r(18623),h=r(95466),v=r(49287),O=r(18038),P=r(92026),E=r(54252),k=function(e){var t=e.attributes,r=e.isLoading;return b().createElement(v.r,{hasGutter:!0,style:{minHeight:50}},b().createElement(O.P,{md:8,sm:12},b().createElement(E.ZP,{loading:r,variant:E.x.spinner,centered:!0},b().createElement(s.K,{hasGutter:!0},b().createElement(i.v,null),b().createElement(i.v,{style:{whiteSpace:"pre-line"}},(0,P.J1)(t.description))))))};k.propTypes={attributes:p().object,isLoading:p().bool};const j=k;var w=r(99068),_=r(21045),D=r(319),N=r.n(D),T=(r(6202),r(32895),r(59505),r(61829),r(72573)),Z=r(53433),F=r(75107),C=r(47640),M=r(83605),A=r(50371),L=r(71724),x=(r(58492),r(79143)),G=r(52798),H=r(45505),I=r(11550),W=(r(10047),r(51439));function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var B=function(e){var t=e.packageName,r=(0,y.useDispatch)(),n=!1,a=b().useState((function(){return function(){return null}})),c=o()(a,2),s=(c[0],c[1],(0,y.useSelector)((function(e){return e.PackageSystemsStore.rows}))),i=(0,y.useSelector)((function(e){return e.PackageSystemsStore.status})),u=(0,y.useSelector)((function(e){return e.PackageSystemsStore.selectedRows})),l=b().useMemo((function(){return(0,G.GF)(s,u)}),[s]),f=(0,y.useSelector)((function(e){return e.PackageSystemsStore.metadata})),m=(0,y.useSelector)((function(e){return e.PackageSystemsStore.queryParams})),p=(0,y.useSelector)((function(e){var t=e.entities;return t&&t.columns})),g=(0,H.W5)(f,j),S=m.filter,h=m.search;b().useEffect((function(){return function(){return r((0,A.wI)())}}),[]),(0,H.KW)((function(){r((0,A.gB)(R({id:t},m)))}),[m]);var v=(0,H.T8)(f.limit,f.offset),O=o()(v,2),E=O[0],k=O[1];function j(e){r((0,A.g5)(e))}var _=(0,H.j5)(S,j),D={items:[(0,F.Z)(j,h,I.N.formatMessage(d.Z.labelsFiltersSystemsSearch)),(0,C.Z)(j,S)]},K={filters:(0,P.mt)(S,h),onDelete:_},B=function(){var e=p&&p.filter((function(e){return"updated"===e.key}))[0];return e=R(R({},e),{},{key:"last_upload"}),[].concat(N()(W.Hd),[e])},V=(0,H._f)(B(),j,0),q=b().useMemo((function(){return(0,P.hO)(B(),f.sort,0)}),[f.sort]);return u&&(0,P.Qy)(u).length,b().createElement(b().Fragment,null,i===x.g_?b().createElement(w.F,null):b().createElement(Z.e_,{onLoad:function(e){var t=e.mergeWithEntities,r=(0,M.bh)();(0,M.z2)(R({},t((0,L.rS)(W.Hd,r.getState().PackageSystemsStore))))},items:l,page:E,total:f.total_items,perPage:k,onRefresh:g,isLoaded:i===x.Wd,tableProps:{canSelectAll:!1,onSort:V,sortBy:q,onSelect:false,variant:T.TableVariant.compact,className:"patchCompactInventory"},filterConfig:D,activeFiltersConfig:K,bulkSelect:n},n))};B.propTypes={packageName:p().string};const V=B;function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var J=function(e){var t=e.match,r=(0,y.useDispatch)(),n=b().useState(t.params.packageName),a=o()(n,1)[0],c="".concat(a," - ").concat(I.N.formatMessage(d.Z.titlesPackages));(0,H.Iw)(c);var m=(0,y.useSelector)((function(e){return e.PackageDetailStore})),p=(0,y.useSelector)((function(e){return e.PackageDetailStore.status}));b().useEffect((function(){r((0,A.Sb)({packageName:a}))}),[]),b().useEffect((function(){return function(){r((0,A.vh)())}}),[]);var g=m.data.attributes;return b().createElement(b().Fragment,null,b().createElement(h.Z,{title:a,headerOUIA:"package-details",breadcrumbs:[{title:I.N.formatMessage(d.Z.titlesPatchPackages),to:_.H.packages.to,isActive:!1},{title:a,isActive:!0}]},p===x.g_?b().createElement(w.F,null):b().createElement(j,{attributes:z(z({},g),{},{id:a}),isLoading:p===x.wl})),b().createElement(f.o,null,b().createElement(s.K,{hasGutter:!0},b().createElement(i.v,null,b().createElement(l.TextContent,null,b().createElement(u.Text,{component:u.TextVariants.h2},I.N.formatMessage(d.Z.titlesAffectedSystems)))),b().createElement(i.v,null,b().createElement(V,{packageName:a})))))};J.propTypes={match:p().any};const Q=(0,S.withRouter)(J)}}]);
//# sourceMappingURL=PackageDetail.cfc5d19931b26d56c730.js.map