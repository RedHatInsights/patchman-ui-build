{"version":3,"file":"js/Templates.4d98c1533734adfbc97a.js","mappings":"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","sources":["webpack:///./node_modules/@patternfly/react-icons/dist/js/icons/outlined-question-circle-icon.js","webpack:///./src/SmartComponents/Modals/DeleteSetModal.js","webpack:///./src/PresentationalComponents/Filters/CreatorFilter.js","webpack:///./src/SmartComponents/PatchSet/PatchSet.js","webpack:///./src/SmartComponents/PatchSet/PatchSetAssets.js","webpack:///./src/Utilities/usePatchSetState.js"],"sourcesContent":["\"use strict\"\nexports.__esModule = true;\nexports.OutlinedQuestionCircleIconConfig = {\n  name: 'OutlinedQuestionCircleIcon',\n  height: 512,\n  width: 512,\n  svgPath: 'M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z',\n  yOffset: 0,\n  xOffset: 0,\n};\nexports.OutlinedQuestionCircleIcon = require('../createIcon').createIcon(exports.OutlinedQuestionCircleIconConfig);\nexports[\"default\"] = exports.OutlinedQuestionCircleIcon;","import React, { useState } from 'react';\nimport propTypes from 'prop-types';\nimport { Button, Checkbox, Modal } from '@patternfly/react-core';\nimport messages from '../../Messages';\nimport { intl } from '../../Utilities/IntlProvider';\n\nconst DeleteSetModal = ({ isModalOpen, setModalOpen, templateName, onConfirm }) => {\n    const [isCheckboxChecked, setCheckboxChecked] = useState(false);\n\n    const onClose = () => {\n        setModalOpen(false);\n        setCheckboxChecked(false);\n    };\n\n    return (\n        <Modal\n            title={intl.formatMessage(messages.titlesTemplateDeleteModalTitle)}\n            titleIconVariant=\"warning\"\n            isOpen={isModalOpen}\n            onClose={onClose}\n            variant=\"small\"\n            actions={[\n                <Button key=\"confirm\" variant=\"danger\" onClick={() => {onClose(); onConfirm();}} isDisabled={!isCheckboxChecked}>\n                    {intl.formatMessage(messages.labelsDelete)}\n                </Button>,\n                <Button key=\"cancel\" variant=\"link\" onClick={onClose}>\n                    {intl.formatMessage(messages.labelsCancel)}\n                </Button>\n            ]}\n        >\n            {intl.formatMessage(messages.titlesTemplateDeleteModalText, { templateName, b: (...chunks) => <b>{chunks}</b> })}\n            <Checkbox\n                className=\"pf-u-mt-md\"\n                isChecked={isCheckboxChecked}\n                checked={isCheckboxChecked}\n                onChange={(value) => setCheckboxChecked(value)}\n                label={intl.formatMessage(messages.titlesTemplateDeleteModalCheckbox)}\n                id=\"template-delete-modal-checkbox\"\n            />\n        </Modal>\n    );\n};\n\nDeleteSetModal.propTypes = {\n    isModalOpen: propTypes.bool,\n    setModalOpen: propTypes.func,\n    templateName: propTypes.string,\n    onConfirm: propTypes.func\n};\n\nexport default DeleteSetModal;\n","import { conditionalFilterType } from '@redhat-cloud-services/frontend-components/ConditionalFilter';\nimport { intl } from '../../Utilities/IntlProvider';\nimport messages from '../../Messages';\n\nconst creatorFilter = (apply, currentFilter = {}, items) => {\n    const filterByCreator = value => {\n        value.length === 0\n            ? apply({ filter: { creator: undefined } })\n            : apply({ filter: { creator: value } });\n    };\n\n    return {\n        label: intl.formatMessage(messages.labelsFiltersCreator),\n        type: conditionalFilterType.checkbox,\n        filterValues: {\n            onChange: (event, value) => {\n                filterByCreator(value);\n            },\n            items: items?.filter(item => item !== null).map(item => ({ value: item, label: item })) ?? [],\n            value: currentFilter.creator,\n            placeholder: intl.formatMessage(messages.labelsFiltersCreatorPlaceholder)\n        }\n    };\n};\n\nexport default creatorFilter;\n","import { Main } from '@redhat-cloud-services/frontend-components/Main';\nimport React, { useEffect, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport messages from '../../Messages';\nimport Header from '../../PresentationalComponents/Header/Header';\nimport searchFilter from '../../PresentationalComponents/Filters/SearchFilter';\nimport creatorFilter from '../../PresentationalComponents/Filters/CreatorFilter';\nimport TableView from '../../PresentationalComponents/TableView/TableView';\nimport {\n    fetchPatchSetsAction, changePatchSetsParams,\n    selectPatchSetRow, clearPatchSetsAction\n} from '../../store/Actions/Actions';\nimport { deletePatchSet } from '../../Utilities/api';\nimport { createPatchSetRows } from '../../Utilities/DataMappers';\nimport { createSortBy, decodeQueryparams, encodeURLParams } from '../../Utilities/Helpers';\nimport {\n    setPageTitle, useDeepCompareEffect, useEntitlements, usePerPageSelect, useSetPage, useSortColumn\n} from '../../Utilities/Hooks';\nimport { intl } from '../../Utilities/IntlProvider';\nimport { clearNotifications, addNotification } from '@redhat-cloud-services/frontend-components-notifications/redux';\nimport {\n    patchSetColumns, CreatePatchSetButton as createPatchSetButton,\n    patchSetRowActions, CustomActionsToggle\n} from './PatchSetAssets';\nimport PatchSetWizard from '../PatchSetWizard/PatchSetWizard';\nimport { patchSetDeleteNotifications } from '../../Utilities/constants';\nimport usePatchSetState from '../../Utilities/usePatchSetState';\nimport { usePermissionsWithContext } from '@redhat-cloud-services/frontend-components-utilities/RBACHook';\nimport { useOnSelect, ID_API_ENDPOINTS } from '../../Utilities/useOnSelect';\nimport { OutlinedQuestionCircleIcon } from '@patternfly/react-icons';\nimport { Popover } from '@patternfly/react-core';\nimport DeleteSetModal from '../Modals/DeleteSetModal';\nimport { NoPatchSetList, NoSmartManagement } from '../../PresentationalComponents/Snippets/EmptyStates';\n\nconst PatchSet = () => {\n    const pageTitle = intl.formatMessage(messages.titlesTemplate);\n\n    const IS_SELECTION_ENABLED = false;\n\n    setPageTitle(pageTitle);\n\n    const dispatch = useDispatch();\n    const history = useHistory();\n    const [firstMount, setFirstMount] = React.useState(true);\n    const [hasSmartManagement, setSmartManagement] = React.useState(true);\n    const [isDeleteConfirmModalOpen, setDeleteConfirmModalOpen] = React.useState(false);\n    const [patchSetToDelete, setPatchSetToDelete] = React.useState(null);\n\n    const patchSets = useSelector(\n        ({ PatchSetsStore }) => PatchSetsStore.rows\n    );\n\n    const queryParams = useSelector(\n        ({ PatchSetsStore }) => PatchSetsStore.queryParams\n    );\n    const selectedRows = useSelector(\n        ({ PatchSetsStore }) => PatchSetsStore.selectedRows\n    );\n    const metadata = useSelector(\n        ({ PatchSetsStore }) => PatchSetsStore.metadata\n    );\n    const status = useSelector(\n        ({ PatchSetsStore }) => PatchSetsStore.status\n    );\n\n    const rows = useMemo(\n        () => createPatchSetRows(patchSets, selectedRows, queryParams),\n        [patchSets, selectedRows]\n    );\n\n    const getEntitlements = useEntitlements();\n\n    function apply(params) {\n        dispatch(changePatchSetsParams(params));\n    }\n\n    const refreshTable = () => {\n        dispatch(fetchPatchSetsAction({ ...queryParams, page: 1, offset: 0 }));\n    };\n\n    useEffect(() => {\n        getEntitlements().then((entitelements) => {\n            setSmartManagement(\n                entitelements?.smart_management?.is_entitled\n            );\n        });\n\n        return () => {\n            dispatch(clearPatchSetsAction());\n            dispatch(clearNotifications());\n        };\n    }, []);\n\n    const { patchSetState, setPatchSetState, openPatchSetEditModal } = usePatchSetState(selectedRows);\n\n    useEffect(() => {\n        if (patchSetState.shouldRefresh === true) {\n            refreshTable();\n        }\n    }, [patchSetState.shouldRefresh]);\n\n    useDeepCompareEffect(() => {\n        if (firstMount) {\n            apply(decodeQueryparams(history.location.search));\n            setFirstMount(false);\n        } else {\n            history.push(encodeURLParams(queryParams));\n            dispatch(fetchPatchSetsAction(queryParams));\n        }\n    }, [queryParams, firstMount]);\n\n    const onSelect = useOnSelect(\n        rows,\n        selectedRows,\n        {\n            endpoint: ID_API_ENDPOINTS.templates,\n            queryParams,\n            selectionDispatcher: selectPatchSetRow\n        }\n    );\n\n    const onSort = useSortColumn(patchSetColumns, apply, 0);\n    const sortBy = React.useMemo(\n        () => createSortBy(patchSetColumns, metadata.sort, 0),\n        [metadata.sort]\n    );\n\n    const onSetPage = useSetPage(metadata.limit, apply);\n    const onPerPageSelect = usePerPageSelect(apply);\n\n    const openPatchDeleteModal = (rowData) => {\n        setDeleteConfirmModalOpen(true);\n        setPatchSetToDelete(rowData);\n    };\n\n    const handlePatchSetDelete = () => {\n        deletePatchSet(patchSetToDelete.id).then(() => {\n            dispatch(addNotification(patchSetDeleteNotifications(patchSetToDelete.displayName).success));\n            refreshTable();\n        }).catch(() => {\n            dispatch(addNotification(patchSetDeleteNotifications(patchSetToDelete.displayName).error));\n        });\n    };\n\n    const { hasAccess } = usePermissionsWithContext([\n        'patch:*:*',\n        'patch:template:write'\n    ]);\n    const CreatePatchSetButton = createPatchSetButton(setPatchSetState, hasAccess);\n    const actionsConfig = patchSetRowActions(openPatchSetEditModal, openPatchDeleteModal);\n\n    //TODO: refactor search filter to be able to wrap this into useMemo\n    const filterConfig = {\n        items: [\n            searchFilter(apply, queryParams.search,\n                intl.formatMessage(messages.labelsFiltersSearchTemplateTitle),\n                intl.formatMessage(messages.labelsFiltersSearchTemplatePlaceholder)\n            ),\n            creatorFilter(apply, queryParams.filter, metadata.creators)\n        ]\n    };\n\n    return (\n        <React.Fragment>\n            <DeleteSetModal\n                templateName={patchSetToDelete?.displayName}\n                isModalOpen={isDeleteConfirmModalOpen}\n                setModalOpen={setDeleteConfirmModalOpen}\n                onConfirm={handlePatchSetDelete}\n            />\n            <Header\n                headerOUIA={'advisories'}\n                title={<span>\n                    {intl.formatMessage(messages.titlesTemplate)}\n                    <Popover\n                        id=\"template-header-title-popover\"\n                        aria-describedby=\"template-header-title-popover\"\n                        aria-labelledby=\"template-header-title-popover\"\n                        hasAutoWidth\n                        maxWidth=\"320px\"\n                        position=\"right\"\n                        enableFlip\n                        headerContent={\n                            intl.formatMessage(messages.templatePopoverHeader)\n                        }\n                        bodyContent={\n                            intl.formatMessage(messages.templatePopoverBody)\n                        }\n                        /*\n                        footerContent={\n                            <a href={TEMPLATES_DOCS_LINK} target=\"__blank\" rel=\"noopener noreferrer\">\n                                {intl.formatMessage(messages.linksLearnMore)} <ExternalLinkAltIcon />\n                            </a>\n                        }\n                        */\n                    >\n                        <OutlinedQuestionCircleIcon\n                            color=\"var(--pf-global--secondary-color--100)\"\n                            className=\"pf-u-ml-sm\"\n                            style={{ verticalAlign: '0', fontSize: 16, cursor: 'pointer' }}\n                        />\n                    </Popover>\n                </span>}\n            />\n            {patchSetState.isPatchSetWizardOpen &&\n                <PatchSetWizard\n                    systemsIDs={patchSetState.systemsIDs}\n                    setBaselineState={setPatchSetState}\n                    patchSetID={patchSetState.patchSetID}\n                />}\n            <Main>\n                {hasSmartManagement\n                    ? (rows.length === 0 && !status.isLoading)\n                        ? <NoPatchSetList Button={CreatePatchSetButton}/>\n                        : <TableView\n                            columns={patchSetColumns}\n                            compact\n                            onSetPage={onSetPage}\n                            onPerPageSelect={onPerPageSelect}\n                            onSort={onSort}\n                            selectedRows={IS_SELECTION_ENABLED && selectedRows}\n                            onSelect={IS_SELECTION_ENABLED && onSelect}\n                            sortBy={sortBy}\n                            apply={apply}\n                            tableOUIA={'patch-set-table'}\n                            paginationOUIA={'patch-set-pagination'}\n                            store={{ rows, metadata, status, queryParams }}\n                            actionsConfig={(patchSets?.length > 0) && actionsConfig}\n                            filterConfig={filterConfig}\n                            searchChipLabel={intl.formatMessage(messages.labelsFiltersSearchTemplateTitle)}\n                            ToolbarButton={CreatePatchSetButton}\n                            actionsToggle={!hasAccess ? CustomActionsToggle : null}\n                        />\n                    : <NoSmartManagement />}\n            </Main>\n        </React.Fragment>\n    );\n};\n\nexport default PatchSet;\n","import React from 'react';\nimport { Button, Tooltip } from '@patternfly/react-core';\nimport { sortable } from '@patternfly/react-table/dist/js';\nimport {\n    EllipsisVIcon\n} from '@patternfly/react-icons';\nimport { intl } from '../../Utilities/IntlProvider';\nimport messages from '../../Messages';\n\nexport const CreatePatchSetButton = (setPatchSetState, hasAccess) => () =>\n    !hasAccess ?\n        <Tooltip content='For editing access, contact your administrator.'>\n            <Button key='createButton' isAriaDisabled >\n                {intl.formatMessage(messages.labelsButtonCreateTemplate)}\n            </Button>\n        </Tooltip>\n        :\n        (<Button key='createButton' onClick={() => setPatchSetState({ isPatchSetWizardOpen: true })}>\n            {intl.formatMessage(messages.labelsButtonCreateTemplate)}\n        </Button>);\n\nexport const patchSetColumns = [\n    {\n        key: 'name',\n        title: 'Name',\n        transforms: [sortable]\n    },\n    {\n        key: 'systems',\n        title: 'Systems applied',\n        transforms: [sortable]\n    },\n    {\n        key: 'last_edited',\n        title: 'Last edited',\n        transforms: [sortable]\n    },\n    {\n        key: 'published',\n        title: 'Published',\n        transforms: [sortable]\n    },\n    {\n        key: 'creator',\n        title: 'Created by',\n        transforms: [sortable]\n    }\n];\n\nexport const patchSetRowActions = (openPatchSetEditModal, handlePatchSetDelete) => [\n    {\n        title: intl.formatMessage(messages.labelsButtonEditTemplate),\n        onClick: (_event, _rowId, rowData) => {\n            openPatchSetEditModal(rowData?.id);\n        }\n    },\n    {\n        title: intl.formatMessage(messages.labelsButtonRemoveTemplate),\n        onClick: (_event, _rowId, rowData) => {\n            handlePatchSetDelete(rowData);\n        }\n    }\n];\n\nexport const patchSetDetailRowActions = (handleSystemUnassign) => [\n    {\n        title: intl.formatMessage(messages.textUnassignSystemsShortTitle),\n        onClick: (_event, _rowId, rowData) => {\n            handleSystemUnassign(rowData);\n        }\n    }\n\n];\n\nexport const CustomActionsToggle = () => <Tooltip content='For editing access, contact your administrator.'>\n    <Button\n        isAriaDisabled\n        variant=\"plain\"\n        aria-label=\"plain kebab\"\n    >\n        <EllipsisVIcon />\n    </Button>\n</Tooltip>;\n","import { useState } from 'react';\nimport {\n    filterSelectedActiveSystemIDs\n} from './Helpers';\n\n/**\n* Manages unified state for patch set wizard and unassign modal.\n* @param {Object} [selectedRows] selected rows object to be removed.\n* @returns {patchSetState, setPatchSetState, openPatchSetAssignWizard, openUnassignSystemsModal, openPatchSetEditModal}\n*/\nconst usePatchSetState = (selectedRows) => {\n    const [patchSetState, setPatchSetState] = useState({\n        isPatchSetWizardOpen: false,\n        isUnassignSystemsModalOpen: false,\n        shouldRefresh: false,\n        systemsIDs: []\n    });\n\n    const openPatchSetAssignWizard = (systemID) => {\n        setPatchSetState({\n            isPatchSetWizardOpen: true,\n            systemsIDs: typeof systemID === 'string' && systemID !== ''\n                ? [systemID]\n                : filterSelectedActiveSystemIDs(selectedRows),\n            shouldRefresh: false\n        }\n        );\n    };\n\n    const openUnassignSystemsModal = (systemsIDs) => {\n        setPatchSetState({\n            isUnassignSystemsModalOpen: true,\n            systemsIDs,\n            shouldRefresh: false\n        });\n    };\n\n    const openPatchSetEditModal = (patchSetID) => {\n        setPatchSetState({ isPatchSetWizardOpen: true, patchSetID });\n    };\n\n    return { patchSetState, setPatchSetState, openPatchSetAssignWizard, openUnassignSystemsModal, openPatchSetEditModal };\n};\n\nexport default usePatchSetState;\n"],"names":["exports","name","height","width","svgPath","yOffset","xOffset","DeleteSetModal","isModalOpen","setModalOpen","templateName","onConfirm","useState","isCheckboxChecked","setCheckboxChecked","onClose","Modal","title","intl","messages","titleIconVariant","isOpen","variant","actions","Button","key","onClick","isDisabled","b","chunks","Checkbox","className","isChecked","checked","onChange","value","label","id","propTypes","apply","currentFilter","items","filterByCreator","length","filter","creator","undefined","type","conditionalFilterType","filterValues","event","item","map","placeholder","pageTitle","setPageTitle","dispatch","useDispatch","history","useHistory","React","firstMount","setFirstMount","hasSmartManagement","setSmartManagement","isDeleteConfirmModalOpen","setDeleteConfirmModalOpen","patchSetToDelete","setPatchSetToDelete","patchSets","useSelector","PatchSetsStore","rows","queryParams","selectedRows","metadata","status","useMemo","createPatchSetRows","getEntitlements","useEntitlements","params","changePatchSetsParams","refreshTable","fetchPatchSetsAction","page","offset","useEffect","then","entitelements","smart_management","is_entitled","clearPatchSetsAction","clearNotifications","usePatchSetState","patchSetState","setPatchSetState","openPatchSetEditModal","shouldRefresh","useDeepCompareEffect","decodeQueryparams","location","search","push","encodeURLParams","useOnSelect","endpoint","ID_API_ENDPOINTS","selectionDispatcher","selectPatchSetRow","onSort","useSortColumn","patchSetColumns","sortBy","createSortBy","sort","onSetPage","useSetPage","limit","onPerPageSelect","usePerPageSelect","hasAccess","usePermissionsWithContext","CreatePatchSetButton","createPatchSetButton","actionsConfig","patchSetRowActions","rowData","filterConfig","searchFilter","creatorFilter","creators","displayName","deletePatchSet","addNotification","patchSetDeleteNotifications","success","error","Header","headerOUIA","Popover","hasAutoWidth","maxWidth","position","enableFlip","headerContent","bodyContent","color","style","verticalAlign","fontSize","cursor","isPatchSetWizardOpen","PatchSetWizard","systemsIDs","setBaselineState","patchSetID","Main","isLoading","TableView","columns","compact","onSelect","tableOUIA","paginationOUIA","store","searchChipLabel","ToolbarButton","actionsToggle","CustomActionsToggle","Tooltip","content","isAriaDisabled","transforms","sortable","handlePatchSetDelete","_event","_rowId","patchSetDetailRowActions","handleSystemUnassign","isUnassignSystemsModalOpen","openPatchSetAssignWizard","systemID","filterSelectedActiveSystemIDs","openUnassignSystemsModal"],"sourceRoot":""}