{"version":3,"file":"js/6327.1665693130396.75560dc504b5ae098754.js","mappings":"0TAgEA,QA3D2B,WAA+B,IAA9BA,EAA8B,uDAAd,GAAIC,EAAU,uCAChDC,GAAWC,EAAAA,EAAAA,KAAY,gBAAGC,EAAH,EAAGA,SAAH,OAAkBA,aAAlB,EAAkBA,EAAUC,gBAA5B,IACvBC,GAAiBH,EAAAA,EAAAA,KAAY,gBAAGC,EAAH,EAAGA,SAAH,OAAkBA,aAAlB,EAAkBA,EAAUG,sBAA5B,IAEnC,GAAgDC,EAAAA,EAAAA,UAAS,IAAzD,eAAOH,EAAP,KAAyBI,EAAzB,KACA,GAA8DC,EAAAA,EAAAA,eAC1D,CACIC,QAAS,YACTC,MAAO,YACPC,OAAQ,sBAJhB,sBAASC,GAAT,aAAwD,CAAC,EAAzD,GAASA,sBAAuBC,EAAhC,EAAgCA,qBAQhCC,EAAAA,EAAAA,YAAU,gBACWC,IAAbf,QAA6Ce,IAAnBX,IAE1BY,EAAAA,EAAAA,MAAsBC,MAAK,YAAiB,IAAdC,EAAc,EAAdA,QAC1BX,GAAqBW,GAAW,IAAIC,KAAI,SAAAC,GACpC,MAA+BA,EAAMC,MAA7BC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,MAAOC,EAArB,EAAqBA,MACfC,EAAqB,GAAH,OAAMF,EAAN,YAAeC,GACvC,MAAO,CAAEE,MAAO,GAAF,OAAKJ,EAAL,YAAaG,GAAsBJ,MAAO,GAAF,OAAKI,GAC9D,IACJ,GAER,GAAE,KAEHX,EAAAA,EAAAA,YAAU,YACiB,IAAnBV,GACAG,EAAoBP,EAE3B,GAAE,CAACI,IAEJ,IAAMuB,GAAoC,KAAlB7B,EAAuB,GAAKA,EAAc8B,MAAM,MAEvET,KAAI,SAACU,GAAD,OAAaA,EAAQC,UAAU,EAA/B,IAEL,OAAO,OACCjB,EACE,CACEA,EACI,CACIkB,GAAI,eACJV,MAAOT,EAAsBe,GAC7BK,SAAU,SAACC,EAAOZ,GAEd,IAAMrB,EAAWkC,OAAOC,OAAOd,GAC9Be,SAAQ,SAACpC,GAAD,OAAckC,OAAOG,KAAKrC,EAA1B,IACRmB,KAAI,SAACU,GAAD,qBAAqBA,EAArB,IACJS,WACDvC,EAAM,CAAEwC,OAAQ,CAAEC,GAAIxC,IACzB,GAELG,IAGN,GAEb,C,oHChBD,QAxC2B,SAACJ,GAA8B,IAAvBD,EAAuB,uDAAP,CAAC,EAEnC2C,EAAiB3C,EAAxB4C,MAEAC,EAAWC,IAAAA,SACb,kBACIC,EAAAA,GAAAA,KAAiB,gBAAGxB,EAAH,EAAGA,MAAH,MAAuB,CACpCK,MADa,EAAUA,MAEvBL,MAAOA,EAAMiB,WAFA,GADrB,GAKA,IAGEQ,EACFL,IAEQM,MAAMC,QAAQP,IACPA,EAAatB,KAAI,SAAAE,GAAK,OAAIA,EAAMiB,UAAV,KACtB,CAACG,EAAaH,aAI3BW,EAAgB,SAAA5B,GAClBtB,EAAM,CAAEwC,OAAQ,CAAEG,MAAOrB,IAC5B,EAED,MAAO,CACHK,MAAOwB,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,oBAC1BC,KAAMC,EAAAA,EAAAA,SACNC,aAAc,CACVtB,SAAU,SAACC,EAAOZ,GACd4B,EAAc5B,EACjB,EACDkC,MAAOZ,EACPtB,MAAOyB,EACPU,YAAaN,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,gCAG3C,C,gGCjBD,QAtB+B,SAACpD,GAA8B,IAAvBD,EAAuB,uDAAP,CAAC,EAE1B2C,EAAiB3C,EAArC2D,mBAEAC,EAA2B,SAAArC,GAC7BtB,EAAM,CAAEwC,OAAQ,CAAEkB,mBAAoBpC,IACzC,EAED,MAAO,CACHK,MAAOwB,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,wBAC1BC,KAAMC,EAAAA,EAAAA,MACNC,aAAc,CACVtB,SAAU,SAACC,EAAOZ,GACdqC,EAAyBrC,EAC5B,EACDkC,MAAOI,EAAAA,GACPtC,MAAOoB,EACPe,YAAaN,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,oCAG3C,C,iJCjBKS,EAAoB,SAAC,GAA0B,IAAxBL,EAAwB,EAAxBA,MAAOM,EAAiB,EAAjBA,WAChC,OACI,kBAACC,EAAA,EAAD,KACKP,EAAMhB,OAAOwB,SAAS5C,KAAI,SAAA6C,GAAI,OAC3B,kBAACC,EAAA,EAAD,CAAgBC,IAAKF,EAAKG,MAAOC,SAAUJ,EAAKI,UAC1CJ,EAAKK,IAAM,kBAAC,EAAAC,KAAD,CAAMD,GAAIL,EAAKK,GACxB,qCAA6BR,EAA7B,eACA,iDAAyCG,EAAKG,QAChDH,EAAKG,QACHH,EAAKG,MANc,IAW1C,EAEDP,EAAkBW,UAAY,CAC1BhB,MAAOiB,IAAAA,QACHA,IAAAA,MAAgB,CACZJ,SAAUI,IAAAA,KACVH,GAAIG,IAAAA,OACJL,MAAOK,IAAAA,UAGfX,WAAYW,IAAAA,QAGhB,U,qCC5BMC,EAAa,SAAC,GAA4B,IAA1BC,EAA0B,EAA1BA,QAASb,EAAiB,EAAjBA,WAK3B,OACI,kBAACc,EAAA,GAAD,CACIC,SANe,SAAC3C,EAAO4C,GAC3BH,EAAQI,KAAKD,EAChB,EAKOE,UAAWL,EAAQM,SAASC,SAC5BC,UAAW,iBAEX,kBAACC,EAAA,EAAD,CACIC,SAAUC,EAAAA,EAAAA,WAAAA,GACVlB,MAAOkB,EAAAA,EAAAA,WAAAA,MACP,qCAA6BxB,EAA7B,QACA,mCAA2BA,EAA3B,gBAA6CwB,EAAAA,EAAAA,WAAAA,SAEjD,kBAACF,EAAA,EAAD,CACIC,SAAUC,EAAAA,EAAAA,QAAAA,GACVlB,MAAOkB,EAAAA,EAAAA,QAAAA,MACP,qCAA6BxB,EAA7B,QACA,mCAA2BA,EAA3B,gBAA6CwB,EAAAA,EAAAA,QAAAA,SAI5D,EAEDZ,EAAWF,UAAY,CACnBG,QAASH,IAAAA,OACTV,WAAYU,IAAAA,QAGhB,SAAee,EAAAA,EAAAA,YAAWb,GC9B1B,IAAMc,EAAS,SAAC,GAA2D,IAAzDpB,EAAyD,EAAzDA,MAAOqB,EAAkD,EAAlDA,SAAUC,EAAwC,EAAxCA,YAAaC,EAA2B,EAA3BA,SAAU7B,EAAiB,EAAjBA,WACtD,OACI,kBAAC,aAAD,KACI,kBAAC8B,EAAA,EAAD,CACI,qCAA6B9B,EAA7B,iBAEC4B,GAAe,kBAAC,EAAD,CAAmBlC,MAAOkC,EAAa5B,WAAYA,IACnE,kBAAC+B,EAAA,EAAD,CAAiBzB,MAAOA,IACvBuB,GAEJF,GAAY,kBAAC,EAAD,CAAY3B,WAAcA,IAGlD,EAED0B,EAAOhB,UAAY,CACfJ,MAAOK,IAAAA,OACPgB,SAAUhB,IAAAA,KACViB,YAAajB,IAAAA,MACbkB,SAAUlB,IAAAA,IACVX,WAAYW,IAAAA,QAGhB,S,sgCCpBA,IAAMqB,EAAmB,SAAC,GAA6C,IAA3CC,EAA2C,EAA3CA,WAAYC,EAA+B,EAA/BA,KAAMC,EAAyB,EAAzBA,QAASC,EAAgB,EAAhBA,WAInD,OACI,kBAACC,EAAA,EAAD,CAAMC,eAAgB,CAAEC,QAAS,+BAC7B,kBAACC,EAAA,EAAD,KACI,kBAACC,EAAAA,OAAD,CAAQC,QAAQ,QAAQ,aAAW,OAAOC,WAAqB,IAATT,EAAYU,QALzD,kBAAMX,EAAWC,EAAO,EAAxB,GAML,kBAAC,UAAD,QAGR,kBAACM,EAAA,EAAD,KACI,kBAACC,EAAAA,OAAD,CAAQC,QAAQ,QAAQ,aAAW,OAC/BC,WAAYP,EAAaF,EAAOC,EAChCS,QAbK,kBAAMX,EAAWC,EAAO,EAAxB,GAcL,kBAAC,UAAD,QAKnB,EAEKW,EAAqB,SAAC,GAAmD,IAAjDC,EAAiD,EAAjDA,oBAAqBC,EAA4B,EAA5BA,aAAcC,EAAc,EAAdA,QACvDC,GAAWC,EAAAA,EAAAA,MACXC,GAAcC,EAAAA,EAAAA,WACpB,GAA0B3G,EAAAA,EAAAA,WAAS,GAAnC,eAAO4G,EAAP,KAAeC,EAAf,KAEMC,GAAOnH,EAAAA,EAAAA,KAAY,qBAAGoH,eAAoCD,IAAvC,IACnBE,GAAcrH,EAAAA,EAAAA,KAAY,qBAAGoH,eAAoCC,WAAvC,IAC1BC,GAAStH,EAAAA,EAAAA,KAAY,qBAAGoH,eAAoCE,MAAvC,IACrBC,GAAWvH,EAAAA,EAAAA,KAAY,qBAAGoH,eAAoCG,QAAvC,KAE7B1G,EAAAA,EAAAA,YAAU,kBAAM,WACZgG,GAASW,EAAAA,EAAAA,MACZ,CAFS,GAEP,IAEH,IAAQC,GAAWJ,GAAe,CAAC,GAA3BI,OACFC,EAAqC,iBAAXD,GAAkC,KAAXA,EAAgBA,EAAS3D,QAAQ2D,IAExF5G,EAAAA,EAAAA,YAAU,WACNgG,GAASc,EAAAA,EAAAA,IAAqB,EAAD,KAAMN,GAAN,IAAmBO,OAC5CP,EAAYO,QAAWP,EAAYvB,KAAO,GAAKuB,EAAYtB,WAClE,GAAE,CAACsB,EAAYvB,KAAM4B,IAEtB,IAAMG,GAAeC,EAAAA,EAAAA,UAAQ,WACzB,OAAIR,EAAOS,UACA,CAAC,kBAACC,EAAAA,aAAD,CAAc/D,IAAI,WAAU,kBAACgE,EAAAA,QAAD,CAASC,KAAK,SAG/Cf,aAAP,EAAOA,EAAMjG,KAAI,SAAAiH,GAAG,OAAI,kBAACH,EAAAA,aAAD,CAAc/D,IAAKkE,EAAIrG,GAAIV,MAAO+G,EAAI9G,MAA1C,GACvB,GAAE,CAAC8F,EAAMG,EAAOS,YAMjB,GAAyB1H,EAAAA,EAAAA,WAAS,kBAC9B+H,KAAS,SAAAhH,GAAK,OALHiH,EAKa,CAAEZ,OAAQrG,QAJlCyF,GAASyB,EAAAA,EAAAA,IAAsBD,IADrB,IAACA,CAKG,GAA8B,IADd,IAA3BE,GAAP,eA2BA,OACI,kBAACC,EAAA,EAAD,CAAWC,QAAQ,qBAAqBhH,MAAOwB,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,oBAA8BwF,YAAU,GACtG,kBAACC,EAAAA,OAAD,CACIrC,QAASsC,EAAAA,cAAAA,OACT,aAAY3F,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,wCAC/ByB,SAxBS,SAACkE,EAAGC,GACrB5B,GAAQ,GACRR,EAAoBoC,GAEpB,IAC8B,IADxBC,EAAc5B,EAAK7E,QAAO,SAAA6F,GAAG,OAAIA,EAAI9G,OAASyH,CAAjB,IACR,IAAvBC,EAAYC,QACZjC,EAAYkC,OAAO,qBAAsB,CAAE5H,KAAI,UAAE0H,EAAY,UAAd,aAAE,EAAgB1H,KAAMuF,QAAAA,EAAS9E,GAAE,UAAEiH,EAAY,UAAd,aAAE,EAAgBjH,IAG3G,EAgBWoH,gBAAiBjG,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,wCACpCiG,4BAA6BlG,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,wCAChDkG,WAAYzC,EACZ0C,SAhCO,WACfnC,GAASD,EACZ,EA+BWA,OAAQA,EACRV,YAAY,EACZ+C,SAhBK,SAACC,EAAOC,GACrBjB,EAAeiB,EAClB,EAeWC,iBAAe,EACfxE,UAAU,sBACVyE,OACI,kBAAC9D,EAAD,CACIC,WAzBD,SAACC,GAChBe,GAASyB,EAAAA,EAAAA,IAAsB,EAAD,KAAMjB,GAAN,IAAmBvB,KAAAA,KACpD,EAwBmBA,KAAMuB,EAAYvB,KAClBC,QAASsB,EAAYtB,QACrBC,WAAYuB,EAASoC,eAI5B9B,GAIhB,EAEDjC,EAAiBtB,UAAY,CACzBuB,WAAYvB,IAAAA,KACZwB,KAAMxB,IAAAA,OACNyB,QAASzB,IAAAA,OACT0B,WAAY1B,IAAAA,QAGhBmC,EAAmBnC,UAAY,CAC3BoC,oBAAqBpC,IAAAA,KACrBqC,aAAcrC,IAAAA,MACdsC,QAAStC,IAAAA,OAEb,U,+CC1GA,QAxBsB,SAACsF,GAGnB,GAAIA,GAA8B,iBAAZA,GAAiD,OAAzBA,EAAQC,MAFxC,uDAGV,OAAO5G,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,wBAG9B,IAAM4G,EAAO,IAAIC,KAAKH,GAChBI,EAAYF,EAAKG,UAGjBC,EAAU,IAAIH,KAAK,KAAM,EAAG,GAElC,MAAyB,iBAAdC,GAA0BG,OAAOC,MAAMJ,GACvC/G,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,wBAG1B4G,EAAOI,EACAjH,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,2BAD9B,CAKH,ECtBM,IAAMmH,EAAsB,CAAC,CAChCpG,IAAK,eACLC,MAAO,OACPqF,MAAO,CACHe,MAAO,KAGf,CACIpG,MAAO,KACPD,IAAK,KACLsF,MAAO,CACHe,MAAO,KAGf,CACIrG,IAAK,gBACLC,MAAO,iBACPqF,MAAO,CACHe,MAAO,MAKFC,EAAsB,CAC/B,CACIlJ,KAAM,oBACNmJ,UAAW,qBAEf,CACInJ,KAAM,qBACNmJ,UAAWC,EAAAA,EAAAA,WACXC,QAAQ,IAIHC,EAAgB,CAAC,CAC1BtJ,KAAM,OACNmJ,UAAW,YACXI,SAAU,CAAC,CAAEzH,KAAM0H,EAAAA,EAAAA,aAGVC,EAAuB,CAAC,CACjCzJ,KAAM,cACNmJ,UAAW,qBAGFO,GAAkB,CAAC,CAC5B1J,KAAM,SACNmJ,UAAW,cACXI,SAAU,CACN,CAAEzH,KAAM0H,EAAAA,EAAAA,UACR,CAAE1H,KAAM,oBAIH6H,GAAiB,SAACC,GAC3B,IAAIC,EAAc,GAElB,OAAQD,GACJ,IAAK,SACDC,EAAcjI,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,2BACjC,MACJ,IAAK,OACDgI,EAAcjI,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,cACjC,MACJ,QACIgI,EAAcjI,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,eAGzC,OAAOgI,CACV,EAEYC,GAAS,SAACF,GACnB,MAAQ,CACJG,OAAQ,CACJ,CACIZ,UAAWC,EAAAA,EAAAA,OACXpJ,KAAM,mBACNgK,WAAW,EACXC,SAAS,EACTC,YAAY,EACZrH,MAAO8G,GAAeC,GACtBO,YAAavI,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,qBAChCkI,OAAQ,CACJ,CACI/J,KAAM,mBACN6C,MAAOjB,EAAAA,EAAAA,cAAkC,SAAfgI,EAAwB/H,EAAAA,EAAAA,aAAwBA,EAAAA,EAAAA,aAC1EkI,OAAQb,EACRkB,SAAU,WAEd,CACIpK,KAAM,UACN6C,MAAOjB,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,uBAC1BkI,OAAQ,CACJ,CACI/J,KAAM,UACNmJ,UAAW,kBAKnBiB,SAAU,UAEd,CACIpK,KAAM,SACN6C,MAAOjB,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,gBAC1BkI,OAAQ,CACJ,CACI/J,KAAM,SACNmJ,UAAW,uBAU1C,EAEYkB,GAAkB,CAC3B,mBAAoB,kBAAM,SAACC,GACvB,IAAM/E,GAAUgF,EAAAA,EAAAA,IAA8BD,GAE9C,YAAgB7K,IAAZ8F,GAGKA,EAAQoC,OAAS,OAFtB,EAKO/F,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,yBAEjC,CAXmB,EAYpB,gBAAiB,kBAAM2I,CAAN,GCvIdC,GAAsB,SAAC,GAAiB,IAAf/D,EAAe,EAAfA,UACpBgE,GAAe/E,EAAAA,EAAAA,WAAf+E,WAER,OAAOhE,EAAY,kBAACE,EAAAA,QAAD,CAASC,KAAK,OAC7B,kBAAC8D,EAAA,EAAD,CAAMC,WAAS,GACX,kBAACC,EAAA,EAAD,CAAUC,GAAI,GAAIC,GAAI,IACjBL,EAAWpB,IAEhB,kBAACuB,EAAA,EAAD,CAAUC,GAAI,GAAIC,GAAI,IACjBL,EAAWjB,IAEhB,kBAACoB,EAAA,EAAD,CAAUC,GAAI,EAAGC,GAAI,GAChBL,EAAWhB,KAI3B,EAEDe,GAAoBxH,UAAY,CAC5ByD,UAAWzD,IAAAA,MAEf,YCRA,IAAM+H,GAA0B,SAAC,GAA+B,IAA7BC,EAA6B,EAA7BA,WAAYC,EAAiB,EAAjBA,WAErCxF,GAAcC,EAAAA,EAAAA,WACdwF,GAA2BD,GAAqC,KAAvBD,aAAA,EAAAA,EAAYtD,UAAiB,EAE5E,GAAsD3I,EAAAA,EAAAA,WAAS,GAA/D,eAAOoM,EAAP,KAA4BC,EAA5B,KACA,GAA8CrM,EAAAA,EAAAA,WAAS,GAAvD,eAAOsM,EAAP,KAAwBC,EAAxB,KACA,GAAgDvM,EAAAA,EAAAA,UAAS,IAAzD,eAAOwM,EAAP,KAAyBnG,EAAzB,KAEA,GAA6B1G,EAAAA,EAAAA,KAAY,qBAAG8M,uBAAH,GAA0DC,EAAAA,IAA3FC,EAAR,EAAQA,SAAU1F,EAAlB,EAAkBA,OAEZ2F,EAAoB,WACtBL,GAAoBD,GACpBD,GAAwBD,EAC3B,EAYD,OAVA5L,EAAAA,EAAAA,YAAU,WACN,GAAI0L,EAAY,CACZ,IAAQlL,EAAmD2L,EAAnD3L,KAAMmK,EAA6CwB,EAA7CxB,YAAgC0B,EAAaF,EAAhCG,OAAUC,QAErCrG,EAAYkC,OAAO,OAAQ5H,GAC3B0F,EAAYkC,OAAO,cAAeuC,GAClCzE,EAAYkC,OAAO,UAAUoE,EAAAA,EAAAA,IAAiBH,GACjD,CACJ,GAAE,CAACF,IAGA,kBAACM,EAAA,EAAD,CAAOrB,WAAS,GACXO,GAA0B,kBAACe,EAAA,EAAD,CAAaC,MAAO,CAAEC,UAAW,UACxD,kBAACC,EAAA,GAAD,CAAMlD,UAAWmD,EAAAA,GAAAA,GACZ1K,EAAAA,EAAAA,cACGC,EAAAA,EAAAA,4BACA,CAAE0K,aAActB,EAAWtD,OAAQ6E,EAAG,sCAAIC,EAAJ,yBAAIA,EAAJ,uBAAe,2BAAIA,EAAnB,MAIlD,kBAACC,EAAA,EAAD,KACI,kBAACT,EAAA,EAAD,CAAOrB,WAAS,GACXO,GAA2B,oCAAE,kBAACuB,EAAA,EAAD,KAC1B,kBAACC,EAAA,EAAD,CACIC,UAAWxB,EACXpL,KAAK,QACLU,SAAUkL,EACVxL,MAAOwB,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,2BAC1BpB,GAAG,uBAGX,kBAACiM,EAAA,EAAD,KACKtB,EAAsB,kBAAC,EAAD,CACnB/F,oBAAqBA,EACrBC,aAAckG,EACdjG,QAAS0F,IACR,MAET,kBAACyB,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CACIC,UAAWtB,EACXtL,KAAK,QACLU,SAAUkL,EACVxL,MAAOwB,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,uBAC1BpB,GAAG,oBAES,KACpB,kBAACiM,EAAA,EAAD,KACKpB,EAAkB,kBAAC,GAAD,CACf5E,UAAWwE,GAAcjF,EAAOS,YAC/B,QAM5B,EAEDsE,GAAwB/H,UAAY,CAChCgI,WAAYhI,IAAAA,MACZiI,WAAYjI,IAAAA,QAEhB,Y,4BC3DA,SA5BkB,SAACiF,GAAU,MACjB2E,GAAUC,EAAAA,GAAAA,GAAY5E,GAAtB2E,MAEFhM,EAAM,WADQ8E,EAAAA,EAAAA,WACOoH,kBAAf,aAAG,EAAwBlM,OAEvC,GAAwB7B,EAAAA,EAAAA,UAAS6B,aAAD,EAACA,EAAQb,MAAzC,eAAOA,EAAP,KAAagN,EAAb,KAMA,OAJAxN,EAAAA,EAAAA,YAAU,WACNwN,EAAQnM,EAAOb,KAClB,GAAE,CAACa,EAAOb,OAGP,kBAACmH,EAAA,EAAD,CAAWC,QAAQ,OAAOhH,MAAOwB,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,mBAA6BwF,YAAU,GACvF,kBAAC4F,GAAAA,UAAD,CACInL,KAAK,OACLuF,YAAU,EACVtH,MAAOC,EACPU,SAAU,SAACwM,GACPL,EAAMnM,SAASwM,GACfF,EAAQE,EACX,EACD,aAAW,OACXC,WAAS,IAIxB,E,eCYD,SAnCoB,SAACjF,GAAU,MACnB2E,GAAUC,EAAAA,GAAAA,GAAY5E,GAAtB2E,MAEFhM,EAAM,WADQ8E,EAAAA,EAAAA,WACOoH,kBAAf,aAAG,EAAwBlM,OAEvC,GAA4B7B,EAAAA,EAAAA,UAAS6B,aAAD,EAACA,EAAQgL,QAA7C,eAAOA,EAAP,KAAeuB,EAAf,KAMA,OAJA5N,EAAAA,EAAAA,YAAU,WACN4N,EAAUvM,EAAOgL,OACpB,GAAE,CAAChL,EAAOgL,SAGP,kBAAC1E,EAAA,EAAD,CAAWC,QAAQ,SAAShH,MAAOwB,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,mBAA6BwF,YAAU,GACzF,kBAACzC,EAAA,EAAD,KACI,kBAACG,EAAA,EAAD,CAAU+F,GAAI,EAAGC,GAAI,GAChBnJ,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,mBAExB,kBAACkD,EAAA,EAAD,CAAU+F,GAAI,GAAIC,GAAI,IAClB,kBAACsC,GAAA,GAAD,CACItN,MAAO8L,EACPnL,SAAU,SAACwM,GACPL,EAAMnM,SAASwM,GACfE,EAAUF,EACb,EACDI,aAAc,CAAEC,SAAU,SAC1B,aAAW,SACXC,WAAY,CAAChD,GACbiD,kBAAmB7L,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,4BAM7D,ECZD,GA3ByB,SAACqG,GAAU,MACxB2E,GAAUC,EAAAA,GAAAA,GAAY5E,GAAtB2E,MAEFhM,EAAM,WADQ8E,EAAAA,EAAAA,WACOoH,kBAAf,aAAG,EAAwBlM,OAEvC,GAAsC7B,EAAAA,EAAAA,UAAS6B,aAAD,EAACA,EAAQsJ,aAAvD,eAAOA,EAAP,KAAoBuD,EAApB,KAMA,OAJAlO,EAAAA,EAAAA,YAAU,WACNkO,EAAe7M,EAAOsJ,YACzB,GAAE,CAACtJ,EAAOsJ,cAGP,kBAAChD,EAAA,EAAD,CAAWC,QAAQ,cAAchH,MAAOwB,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,oBACvD,kBAACoL,GAAAA,UAAD,CACInL,KAAK,OACLuF,YAAU,EACVtH,MAAOoK,EACPzJ,SAAU,SAACwM,GACPL,EAAMnM,SAASwM,GACfQ,EAAeR,EAClB,EACD,aAAW,gBAI1B,E,muBCXM,IAAMS,GAAgB,SAAC,GAAkC,QAAhC1C,WAAAA,OAAgC,MAAnB,GAAmB,EAAZ/C,GAAY,cACpD2E,GAAUC,EAAAA,GAAAA,GAAY5E,GAAtB2E,MAEAhM,GADY8E,EAAAA,EAAAA,WACWoH,WAAvBlM,OACF+M,GAAyBC,EAAAA,EAAAA,IAAwB5C,EAAYpK,aAAb,EAAaA,EAAQ0E,SAE3E,GAAgCvG,EAAAA,EAAAA,WAAS,GAAzC,eAAO0H,EAAP,KAAkBoH,EAAlB,KACA,GAA8B9O,EAAAA,EAAAA,UAAS,IAAvC,eAAO+O,EAAP,KAAgBC,EAAhB,KACA,GAA8BhP,EAAAA,EAAAA,UAAS,IAAvC,eAAOuG,EAAP,KAAgB0I,EAAhB,KACA,GAAwCjP,EAAAA,EAAAA,UAAS4O,GAAjD,eAAOM,EAAP,KAAqBC,EAArB,KACA,GAA8BnP,EAAAA,EAAAA,UAAS,CACnCoP,MAAO,GACP7H,OAAQ,EACR+B,YAAa,IAHjB,eAAOpC,EAAP,KAAiBmI,EAAjB,KAMA,GAAsCrP,EAAAA,EAAAA,UAAS,CAC3CyF,KAAM,EACNC,QAAS,GACTzD,OAAQ,CACJG,MAAO,EAAC,GAAM,MAJtB,eAAO4E,EAAP,KAAoBsI,EAApB,KAQQC,GAAoB5P,EAAAA,EAAAA,KAAY,qBAAG8M,uBAAH,GAA0DC,EAAAA,IAA1F6C,iBAER/O,EAAAA,EAAAA,YAAU,YACNgP,EAAAA,GAAAA,IAAa,SACNxI,GADK,IACQ/E,OAAQ,SAAK+E,EAAY/E,QAAnB,IAClBR,GAAIwK,EAAWtD,OAAS,EAApB,aAA8BsD,EAAWwD,KAAK,WAAShP,OAChEE,MAAK,SAAA+O,GACJT,GACIU,EAAAA,GAAAA,IACID,EAAOE,KADY,GAAC,OAEff,EAAAA,EAAAA,IAAwB,GAAD,gBAAKU,IAAL,QAAyBtD,MAAiBiD,KAG9EG,EAAUK,EAAOG,MACjBb,EAAWU,EAAOE,MAClBd,GAAW,EACd,GACJ,GAAE,CAAC9H,EAAY/E,OAAQ+E,KAExBxG,EAAAA,EAAAA,YAAU,WACNqN,EAAMnM,SAASwN,GAEfD,GACIU,EAAAA,GAAAA,IAAwBZ,EAASG,GAExC,GAAE,CAACA,KAEJ1O,EAAAA,EAAAA,YAAU,WACN2O,EAAgB,SAAKD,IAAiBL,EAAAA,EAAAA,IAAwBU,IACjE,GAAE,CAACA,IAEJ,IAAM9P,EAAQ,SAACuI,GACX8G,GAAW,GACXQ,GAAe,SAACQ,GAAD,UAAC,SACTA,GACA9H,GAFQ,IAGX/F,OAAQ,SAAK6N,EAAgB7N,QAAW+F,EAAO/F,SAHpC,GAKlB,EAEK8N,GAAiBC,EAAAA,GAAAA,GAAmBhJ,EAAY/E,OAAOC,GAAIzC,GAC3DwQ,GAASC,EAAAA,GAAAA,IAAclG,EAAqBvK,EAAO,GACnD0Q,EAAS7N,IAAAA,SACX,kBAAM8N,EAAAA,EAAAA,IAAapG,EAAqB9C,EAASmJ,KAAM,EAAvD,GACA,CAACnJ,EAASmJ,OAGRC,GAAYC,EAAAA,GAAAA,IAAWrJ,EAASkI,MAAO3P,GAEvC+Q,GAAkBC,EAAAA,GAAAA,IAAiBhR,GAenC6E,GAAWoM,EAAAA,GAAAA,IAAYnK,EAAS2I,GAbjB,kBACjBM,EAAAA,GAAAA,IAAa,SAAKxI,GAAN,IACR/E,OAAQ,SAAK+E,EAAY/E,QAAWgK,EAAWtD,OAAS,GAAK,CAAElH,GAAI,MAAF,OAAQwK,EAAWwD,KAAK,QAAYL,OAAQ,IAFhG,IAIF,SAACuB,GAChB,IAAMC,EAAgBD,EAASE,QAAO,SAACC,EAAQC,GAE3C,OADAD,EAAOC,EAAOtP,MAAMsP,EAAOtI,eAAkBhI,EACtCqQ,CACV,GAAE,CAAC,GAEJ3B,EAAgB,SAAKD,GAAiB0B,GACzC,IAID,OACI,kBAAC3D,EAAA,EAAD,CAAOrB,WAAS,GACZ,kBAAC8B,EAAA,EAAD,KACI,kBAACR,EAAA,EAAD,CAAaC,MAAO,CAAEC,UAAW,UAC7B,kBAACC,EAAA,GAAD,CAAMlD,UAAWmD,EAAAA,GAAAA,GACZ1K,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,8BAIhC,kBAAC6K,EAAA,EAAD,KACI,kBAACsD,GAAA,EAAD,CACIC,QAASjH,EACTkH,SAAO,EACPZ,UAAWA,EACXE,gBAAiBA,EACjBP,OAAQA,EACRf,aAAcA,EACd5K,SAAUA,EACV6L,OAAQA,EACR1Q,MAAOA,EACP0R,UAAW,kBACXC,eAAgB,uBAChBC,MAAO,CAAEvK,KAAMP,EAASW,SAAAA,EAAUD,OAAQ,CAAES,UAAAA,GAAaV,YAAAA,GACzDsK,aAAc,CACVrO,MAAO,EACHsO,EAAAA,GAAAA,GAAa9R,EAAOuH,EAAYI,OAC5BxE,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,iCACnBD,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,uBAEvB2O,EAAAA,GAAAA,GAAY/R,EAAOuH,EAAY/E,SAC/BwP,EAAAA,GAAAA,GAAuBhS,EAAOuH,EAAY/E,SANzC,gBAOE8N,KAGX2B,gBAAiB9O,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,iCACpC8O,eAAgBC,GAAAA,MAKnC,EAEDjD,GAAc1K,UAAY,CACtBgI,WAAYhI,IAAAA,OAGhB,Y,4BC7IM4N,GAAqB,SAACzQ,EAAO0Q,GAAR,OACvB,kBAAC,EAAAC,SAAD,KACI,kBAACC,GAAA,GAAD,CAAc7H,UAAW8H,GAAAA,GAAAA,IACpBrP,EAAAA,EAAAA,cAAmBC,EAAAA,EAASzB,IADjC,KAGA,kBAAC4Q,GAAA,GAAD,CAAc7H,UAAW8H,GAAAA,GAAAA,IACpBH,GANc,EA6C3B,SAlCuB,WACnB,IACQjQ,GADY8E,EAAAA,EAAAA,WACWoH,WAAvBlM,OACR,EAAsCA,EAAOqQ,oBAAsBrQ,EAA3Db,EAAR,EAAQA,KAAMmK,EAAd,EAAcA,YAAa0B,EAA3B,EAA2BA,OACnBtG,EAAY1E,EAAZ0E,QAER,OACI,kBAAC0G,EAAA,EAAD,CAAOrB,WAAS,GACZ,kBAAC8B,EAAA,EAAD,KACI,kBAACR,EAAA,EAAD,CAAaC,MAAO,CAAEC,UAAW,UAC7B,kBAACC,EAAA,GAAD,CAAMlD,UAAWmD,EAAAA,GAAAA,GACZ1K,EAAAA,EAAAA,cACGC,EAAAA,EAAAA,wBACA,CAAE2K,EAAG,sCAAIC,EAAJ,yBAAIA,EAAJ,uBAAe,2BAAIA,EAAnB,OAIrB,kBAACC,EAAA,EAAD,KACI,kBAACR,EAAA,EAAD,KACI,kBAACiF,GAAA,GAAD,CAAUhI,UAAWiI,GAAAA,GAAAA,IAChBP,GAAmB,oBAAqB7Q,GACxCmK,GAAe0G,GAAmB,oBAAqB1G,GACvD0B,GAAUgF,GAAmB,aAAchF,GAC3CgF,GACG,wBACAtL,GAAW3E,OAAOC,OAAO0E,GAAStE,QAAO,SAAA8O,GAAM,OAAIA,CAAJ,IAAYpI,WAOtF,E,0HClCK0J,GAAkB,SAAC,GAAuB,IAArBC,EAAqB,EAArBA,QAASC,EAAY,EAAZA,MACxBC,EAAkCD,EAAlCC,eAAgBC,EAAkBF,EAAlBE,OAAQC,EAAUH,EAAVG,MAC1BlM,GAAWC,EAAAA,EAAAA,MAUjB,OARIgM,GACAjM,GACImM,EAAAA,GAAAA,IRiH2C,CACnD9O,MAAO,mDACPsH,YQlHkCuH,EAAME,ORmHxC3M,QAAS,YQ7GL,kBAAC4M,GAAA,GAAD,CACI5M,QAAS6M,GAAAA,GAAAA,MACT,yBAAuB,sBAEvB,kBAACC,GAAA,EAAD,CACIC,MACIP,EACM,sCACCD,OAEG/R,EADA,uCAGdwS,KACIR,EACMS,GAAAA,QACAV,EACIW,GAAAA,GACAC,GAAAA,UAGlB,kBAACC,GAAAA,MAAD,CAAOC,aAAa,KAAKzL,KAAK,MACzB4K,EACK7P,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,yBACnB2P,EACI5P,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,6BACnBD,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,+BAEjC,kBAAC0Q,GAAA,EAAD,KACI,kBAAC5H,EAAA,EAAD,CAAMC,WAAS,GACT4G,GACE,oCAAE,kBAAC3G,EAAA,EAAD,KACE,kBAAC2H,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAgBxN,QAAQ,iBACnBrD,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,6BAGrB,kBAACgJ,EAAA,EAAD,KACP,kBAAC7F,EAAAA,OAAD,CAAQC,QAAQ,OAAOyN,UAAQ,EAACvN,QAASmM,GACpC1P,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,eACd,OAGf2P,IAAmBC,GAClB,kBAAC5G,EAAA,EAAD,KACI,kBAAC7F,EAAAA,OAAD,CAAQC,QAAQ,UAAUE,QAASmM,GAC9B1P,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,oBAI7B2P,GAAkBC,GACjB,oCAAE,kBAAC5G,EAAA,EAAD,KACE,kBAAC2H,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAgBxN,QAAQ,iBACnBrD,EAAAA,EAAAA,cACGC,EAAAA,EAAAA,cACA,CAAE8Q,EAAG,SAAClG,GAAD,OAAY,uBAAGmG,KAAK,8CAA8CnG,EAAlE,OAGV,kBAAC5B,EAAA,EAAD,KACP,kBAAC7F,EAAAA,OAAD,CAAQC,QAAQ,UAAUE,QAASmM,GAC9B1P,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,sBASnD,EAEDwP,GAAgBpO,UAAY,CACxBqO,QAASrO,IAAAA,KACTsO,MAAOtO,IAAAA,QAGX,Y,ykBCzFO,IAAM4P,GAAiB,SAAC,GAAiD,MAA/C5H,EAA+C,EAA/CA,WAAY6H,EAAmC,EAAnCA,iBAAkB5H,EAAiB,EAAjBA,WAErDtB,EAAaqB,EAAa,SAAYC,EAAa,OAAS,SAClE,GAAsClM,EAAAA,EAAAA,UAAS,CAC3C+T,WAAW,EACXC,WAAY,CAAC,EACbxB,gBAAgB,EAChBC,QAAQ,EACRwB,eAAe,IALnB,eAAOC,EAAP,KAAoBC,EAApB,KAQM3N,GAAWC,EAAAA,EAAAA,OAEjBjG,EAAAA,EAAAA,YAAU,WAMN,OALI0L,IACA1F,GAAS4N,EAAAA,EAAAA,IAAoBlI,IAC7B1F,GAAS6N,EAAAA,EAAAA,IAA2BnI,EAAY,CAAEkD,OAAQ,MAGvD,kBAAM5I,GAAS8N,EAAAA,EAAAA,MAAf,CACV,GAAE,IAEH,IAAMC,GAAWC,EAAAA,GAAAA,IAAeN,EAAaC,EAAgBjI,GAEvDuI,EAAoB,WACtB,IAAMR,GAAiBC,EAAYzB,QAAUyB,EAAYH,UAEzDD,EAAiB,CAAEY,sBAAsB,EAAOzI,WAAY,GAAIC,gBAAYzL,EAAWwT,cAAAA,IACvFE,EAAe,CAAEH,WAAY,CAAC,EAAGD,WAAW,GAC/C,EAEKY,EAAmB,CACrBC,UAAW,CACPzK,UAAW0K,IAEfC,iBAAkB,CACd3K,UAAW4K,IAEfC,YAAa,CACT7K,UAAW8K,IAEfC,kBAAmB,CACf/K,UAAW6B,GACXC,WAAYA,GAAc,GAC1BC,WAAAA,GAEJiJ,cAAe,CACXhL,UAAWwE,GACX1C,WAAYA,GAAc,IAE9BmJ,eAAgB,CACZjL,UAAWkL,GACXpJ,WAAYA,GAAc,KAIlC,OACI,kBAAC,EAAA8F,SAAD,MACMmC,EAAYH,WACV,kBAAC,IAAD,CACIjJ,OAAQA,GAAOF,GACf0K,aAAc,CAAEzT,QAAQ,GACxB0T,aAAc,SAACrM,GAAD,OACV,kBAAC,MAAD,UAAqBA,EAArB,CAA4BsM,kBAAkB,IADpC,EAGdC,gBAAe,mBACVrL,EAAAA,EAAAA,OAAwB,CACrBD,UAAWuL,EAAAA,EACX9Q,UAAW,YACX,yBAA0B,sBAJnB,SAMVwF,EAAAA,EAAAA,WAA4BuL,EAAAA,IANlB,SAOVvL,EAAAA,EAAAA,YAA6BiE,EAAAA,GAPnB,GAQRsG,GAEPtJ,gBAAiBA,GACjBkJ,SAAUA,EACVqB,SAAUnB,KAEd,kBAACoB,EAAAA,MAAD,CACIjP,QAAM,EACNX,QAAS,QACT6P,WAAW,EACXlR,UAAU,YACVmR,kBAAgB,EAChB,mBAAiB,wBACjB,kBAAgB,yBAEhB,kBAACC,EAAA,EAAD,CACIpR,UAAU,YACVf,MAAO8G,GAAeC,GACtBO,YAAavI,EAAAA,EAAAA,cAAmBC,EAAAA,EAAAA,qBAChCoT,MAAO,CACH,CACIjV,KAAM,WACNmJ,UACI,kBAAC,GAAD,CACImI,QAASmC,EACTlC,MAAO2B,IAGfgC,gBAAgB,IAGxB5D,QAASmC,KAMhC,EAEDZ,GAAe5P,UAAY,CACvB6P,iBAAkB7P,IAAAA,KAClBgI,WAAYhI,IAAAA,MACZiI,WAAYjI,IAAAA,QAGhB,UAAekS,EAAAA,EAAAA,MAAKtC,IAAgB,SAACuC,EAAWC,GAC5C,OAAOC,KAAKC,UAAUH,KAAeE,KAAKC,UAAUF,EACvD,G,oFCrGD,QAlCyB,SAACnH,GACtB,OAA0ClP,EAAAA,EAAAA,UAAS,CAC/C0U,sBAAsB,EACtB8B,4BAA4B,EAC5BvC,eAAe,EACfhI,WAAY,KAJhB,eAAOwK,EAAP,KAAsBC,EAAtB,KA8BA,MAAO,CAAED,cAAAA,EAAeC,iBAAAA,EAAkBC,yBAvBT,SAACC,GAC9BF,EAAiB,CACbhC,sBAAsB,EACtBzI,WAAgC,iBAAb2K,GAAsC,KAAbA,EACtC,CAACA,IACDrL,EAAAA,EAAAA,IAA8B2D,GACpC+E,eAAe,GAGtB,EAcmE4C,yBAZnC,SAAC5K,GAC9ByK,EAAiB,CACbF,4BAA4B,EAC5BvK,WAAAA,EACAgI,eAAe,GAEtB,EAM6F6C,sBAJhE,SAAC5K,GAC3BwK,EAAiB,CAAEhC,sBAAsB,EAAMxI,WAAAA,GAClD,EAGJ,C","sources":["webpack:///./src/PresentationalComponents/Filters/OsVersionFilter.js","webpack:///./src/PresentationalComponents/Filters/SystemStaleFilter.js","webpack:///./src/PresentationalComponents/Filters/SystemsUpdatableFilter.js","webpack:///./src/PresentationalComponents/Header/HeaderBreadcrumbs.js","webpack:///./src/PresentationalComponents/Header/HeaderTabs.js","webpack:///./src/PresentationalComponents/Header/Header.js","webpack:///./src/SmartComponents/PatchSetWizard/InputFields/SelectExistingSets.js","webpack:///./src/Utilities/dateValidator.js","webpack:///./src/SmartComponents/PatchSetWizard/WizardAssets.js","webpack:///./src/SmartComponents/PatchSetWizard/InputFields/ConfigurationFields.js","webpack:///./src/SmartComponents/PatchSetWizard/steps/ConfigurationStepFields.js","webpack:///./src/SmartComponents/PatchSetWizard/InputFields/NameField.js","webpack:///./src/SmartComponents/PatchSetWizard/InputFields/ToDateField.js","webpack:///./src/SmartComponents/PatchSetWizard/InputFields/DescriptionField.js","webpack:///./src/SmartComponents/PatchSetWizard/steps/ReviewSystems.js","webpack:///./src/SmartComponents/PatchSetWizard/steps/ReviewPatchSet.js","webpack:///./src/SmartComponents/PatchSetWizard/steps/RequestProgress.js","webpack:///./src/SmartComponents/PatchSetWizard/PatchSetWizard.js","webpack:///./src/Utilities/usePatchSetState.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useLoadModule } from '@scalprum/react-core';\nimport { getOperatingSystems } from '../../Utilities/api';\n\nconst useOsVersionFilter = (currentFilter = '', apply) => {\n    const versions = useSelector(({ entities }) => entities?.operatingSystems);\n    const versionsLoaded = useSelector(({ entities }) => entities?.operatingSystemsLoaded);\n\n    const [operatingSystems, setOperatingSystems] = useState([]);\n    const [{ toGroupSelectionValue, buildOSFilterConfig } = {}] = useLoadModule(\n        {\n            appName: 'inventory',\n            scope: 'inventory',\n            module: './OsFilterHelpers'\n        }\n    );\n\n    useEffect(() => {\n        if (versions === undefined || versionsLoaded === undefined) {\n            /* explicitly request OS versions from API */\n            getOperatingSystems().then(({ results }) => {\n                setOperatingSystems((results || []).map(entry => {\n                    const { name, major, minor } = entry.value;\n                    const versionStringified = `${major}.${minor}`;\n                    return { label: `${name} ${versionStringified}`, value: `${versionStringified}` };\n                }));\n            });\n        }\n    }, []);\n\n    useEffect(() => {\n        if (versionsLoaded === true) {\n            setOperatingSystems(versions);\n        }\n    }, [versionsLoaded]);\n\n    const osVersionValue = (currentFilter === '' ? [] : currentFilter.split(','))\n    // patchman uses \"RHEL \" prefix in values; need to remove\n    .map((version) => version.substring(5));\n\n    return [\n        ...(buildOSFilterConfig\n            ? [\n                buildOSFilterConfig(\n                    {\n                        id: 'rhel_version',\n                        value: toGroupSelectionValue(osVersionValue),\n                        onChange: (event, value) => {\n                            /* `versions` must be of type string, e.g., \"8.9,9.0\" */\n                            const versions = Object.values(value)\n                            .flatMap((versions) => Object.keys(versions))\n                            .map((version) => `RHEL ${version}`)\n                            .toString();\n                            apply({ filter: { os: versions } });\n                        }\n                    },\n                    operatingSystems\n                )\n            ]\n            : [])\n    ];\n};\n\nexport default useOsVersionFilter;\n","import { conditionalFilterType } from '@redhat-cloud-services/frontend-components/ConditionalFilter';\nimport React from 'react';\nimport { staleSystems } from '../../Utilities/constants';\nimport { intl } from '../../Utilities/IntlProvider';\nimport messages from '../../Messages';\n\nconst systemsStaleFilter = (apply, currentFilter = {}) => {\n\n    let { stale: currentValue } = currentFilter;\n\n    const staleMap = React.useMemo(\n        () =>\n            staleSystems.map(({ value, label }) => ({\n                label,\n                value: value.toString()\n            })),\n        []\n    );\n\n    const currentValueStringType = (\n        currentValue\n            && (\n                Array.isArray(currentValue)\n                    && currentValue.map(value => value.toString())\n                    || [currentValue.toString()]\n            )\n    );\n\n    const filterByStale = value => {\n        apply({ filter: { stale: value } });\n    };\n\n    return {\n        label: intl.formatMessage(messages.labelsFiltersStale),\n        type: conditionalFilterType.checkbox,\n        filterValues: {\n            onChange: (event, value) => {\n                filterByStale(value);\n            },\n            items: staleMap,\n            value: currentValueStringType,\n            placeholder: intl.formatMessage(messages.labelsFiltersStalePlaceholder)\n        }\n    };\n};\n\nexport default systemsStaleFilter;\n","import { conditionalFilterType } from '@redhat-cloud-services/frontend-components/ConditionalFilter';\nimport { packagesListUpdatableTypes } from '../../Utilities/constants';\nimport { intl } from '../../Utilities/IntlProvider';\nimport messages from '../../Messages';\n\nconst systemsUpdatableFilter = (apply, currentFilter = {}) => {\n\n    let { packages_updatable: currentValue } = currentFilter;\n\n    const filterByUpdatableSystems = value => {\n        apply({ filter: { packages_updatable: value } });\n    };\n\n    return {\n        label: intl.formatMessage(messages.labelsFiltersUpdatable),\n        type: conditionalFilterType.radio,\n        filterValues: {\n            onChange: (event, value) => {\n                filterByUpdatableSystems(value);\n            },\n            items: packagesListUpdatableTypes,\n            value: currentValue,\n            placeholder: intl.formatMessage(messages.labelsFiltersUpdatablePlaceholder)\n        }\n    };\n};\n\nexport default systemsUpdatableFilter;\n","import {\n    Breadcrumb,\n    BreadcrumbItem\n} from '@patternfly/react-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst HeaderBreadcrumbs = ({ items, headerOUIA }) => {\n    return (\n        <Breadcrumb>\n            {items.filter(Boolean).map(item => (\n                <BreadcrumbItem key={item.title} isActive={item.isActive}>\n                    {(item.to && <Link to={item.to}\n                        data-ouia-component-type={`${headerOUIA}-breadcrumb`}\n                        data-ouia-component-id={`breadcrumb-to-${item.title}`}\n                    >{item.title}</Link>) ||\n                        item.title}\n                </BreadcrumbItem>\n            ))}\n        </Breadcrumb>\n    );\n};\n\nHeaderBreadcrumbs.propTypes = {\n    items: PropTypes.arrayOf(\n        PropTypes.shape({\n            isActive: PropTypes.bool,\n            to: PropTypes.string,\n            title: PropTypes.string\n        })\n    ),\n    headerOUIA: PropTypes.string\n};\n\nexport default HeaderBreadcrumbs;\n","import { Tab, Tabs } from '@patternfly/react-core';\nimport propTypes from 'prop-types';\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { paths } from '../../Routes';\nimport './Header.scss';\n\nconst HeaderTabs = ({ history, headerOUIA }) => {\n    const handleRedirect = (event, tabString) => {\n        history.push(tabString);\n    };\n\n    return (\n        <Tabs\n            onSelect={handleRedirect}\n            activeKey={history.location.pathname}\n            className={'patchman-tabs'}\n        >\n            <Tab\n                eventKey={paths.advisories.to}\n                title={paths.advisories.title}\n                data-ouia-component-type={`${headerOUIA}-tab`}\n                data-ouia-component-id={`${headerOUIA}-tab-${paths.advisories.title}`}\n            />\n            <Tab\n                eventKey={paths.systems.to}\n                title={paths.systems.title}\n                data-ouia-component-type={`${headerOUIA}-tab`}\n                data-ouia-component-id={`${headerOUIA}-tab-${paths.systems.title}`}\n            />\n        </Tabs>\n    );\n};\n\nHeaderTabs.propTypes = {\n    history: propTypes.object,\n    headerOUIA: propTypes.string\n};\n\nexport default withRouter(HeaderTabs);\n","import {\n    PageHeader,\n    PageHeaderTitle\n} from '@redhat-cloud-services/frontend-components/PageHeader';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport HeaderBreadcrumbs from './HeaderBreadcrumbs';\nimport HeaderTabs from './HeaderTabs';\n\nconst Header = ({ title, showTabs, breadcrumbs, children, headerOUIA }) => {\n    return (\n        <React.Fragment>\n            <PageHeader\n                data-ouia-component-type={`${headerOUIA}-page-header`}\n            >\n                {breadcrumbs && <HeaderBreadcrumbs items={breadcrumbs} headerOUIA={headerOUIA} />}\n                <PageHeaderTitle title={title} />\n                {children}\n            </PageHeader>\n            {showTabs && <HeaderTabs headerOUIA = {headerOUIA}/>}\n        </React.Fragment>\n    );\n};\n\nHeader.propTypes = {\n    title: PropTypes.string,\n    showTabs: PropTypes.bool,\n    breadcrumbs: PropTypes.array,\n    children: PropTypes.any,\n    headerOUIA: PropTypes.string\n};\n\nexport default Header;\n","import '../../../App.scss';\nimport React, { useState, useMemo, useEffect } from 'react';\nimport propTypes from 'prop-types';\nimport debounce from 'lodash/debounce';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { AngleLeftIcon, AngleRightIcon } from '@patternfly/react-icons';\nimport { Select, SelectOption, SelectVariant, FormGroup, Spinner, Flex, FlexItem, Button } from '@patternfly/react-core';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport { fetchPatchSetsAction, changePatchSetsParams, clearPatchSetsAction } from '../../../store/Actions/Actions';\nimport { intl } from '../../../Utilities/IntlProvider';\nimport messages from '../../../Messages';\n\nconst SelectPagination = ({ changePage, page, perPage, totalItems }) =>{\n    const openNextPage = () => changePage(page + 1);\n    const openPrevPage = () => changePage(page - 1);\n\n    return (\n        <Flex justifyContent={{ default: 'justifyContentSpaceBetween' }}>\n            <FlexItem>\n                <Button variant=\"plain\" aria-label=\"prev\" isDisabled={page === 1} onClick={openPrevPage}>\n                    <AngleLeftIcon />\n                </Button>\n            </FlexItem>\n            <FlexItem>\n                <Button variant=\"plain\" aria-label=\"next\"\n                    isDisabled={totalItems < page * perPage}\n                    onClick={openNextPage}>\n                    <AngleRightIcon />\n                </Button>\n            </FlexItem>\n        </Flex>\n    );\n};\n\nconst SelectExistingSets = ({ setSelectedPatchSet, selectedSets, systems }) => {\n    const dispatch = useDispatch();\n    const formOptions = useFormApi();\n    const [isOpen, setOpen] = useState(true);\n\n    const rows = useSelector(({ PatchSetsStore }) => PatchSetsStore.rows);\n    const queryParams = useSelector(({ PatchSetsStore }) => PatchSetsStore.queryParams);\n    const status = useSelector(({ PatchSetsStore }) => PatchSetsStore.status);\n    const metadata = useSelector(({ PatchSetsStore }) => PatchSetsStore.metadata);\n\n    useEffect(() => () => {\n        dispatch(clearPatchSetsAction());\n    }, []);\n\n    const { search } = queryParams || {};\n    const searchDependency = typeof search === 'string' && search !== '' ? search : Boolean(search);\n\n    useEffect(() => {\n        dispatch(fetchPatchSetsAction({ ...queryParams, offset:\n            queryParams.offset + ((queryParams.page - 1) * queryParams.perPage) }));\n    }, [queryParams.page, searchDependency]);\n\n    const patchOptions = useMemo(() =>{\n        if (status.isLoading) {\n            return [<SelectOption key='loading'><Spinner size=\"md\"/></SelectOption>];\n        }\n\n        return rows?.map(set => <SelectOption key={set.id} value={set.name} />);\n    }, [rows, status.isLoading]);\n\n    const apply = (params) => {\n        dispatch(changePatchSetsParams(params));\n    };\n\n    const [searchAdvisory] = useState(() =>\n        debounce(value => apply({ search: value }), 700)\n    );\n\n    const handleOpen = () => {\n        setOpen(!isOpen);\n    };\n\n    const handleSelect = (_, selected) =>{\n        setOpen(false);\n        setSelectedPatchSet(selected);\n\n        const selectedSet = rows.filter(set => set.name === selected);\n        if (selectedSet.length === 1) {\n            formOptions.change('existing_patch_set', { name: selectedSet[0]?.name, systems, id: selectedSet[0]?.id });\n        }\n\n    };\n\n    const changePage = (page) => {\n        dispatch(changePatchSetsParams({ ...queryParams, page }));\n    };\n\n    const onFilter = (props, searchValue) => {\n        searchAdvisory(searchValue);\n    };\n\n    return (\n        <FormGroup fieldId='existing_patch_set' label={intl.formatMessage(messages.textTemplateChoose)} isRequired>\n            <Select\n                variant={SelectVariant.single}\n                aria-label={intl.formatMessage(messages.labelsFiltersSearchTemplatePlaceholder)}\n                onSelect={handleSelect}\n                placeholderText={intl.formatMessage(messages.labelsFiltersSearchTemplatePlaceholder)}\n                inlineFilterPlaceholderText={intl.formatMessage(messages.labelsFiltersSearchTemplatePlaceholder)}\n                selections={selectedSets}\n                onToggle={handleOpen}\n                isOpen={isOpen}\n                isDisabled={false}\n                onFilter={onFilter}\n                hasInlineFilter\n                className='patch-existing-sets'\n                footer={\n                    <SelectPagination\n                        changePage={changePage}\n                        page={queryParams.page}\n                        perPage={queryParams.perPage}\n                        totalItems={metadata.total_items}\n                    />\n                }\n            >\n                {patchOptions}\n            </Select>\n        </FormGroup >\n    );\n};\n\nSelectPagination.propTypes = {\n    changePage: propTypes.func,\n    page: propTypes.number,\n    perPage: propTypes.number,\n    totalItems: propTypes.number\n};\n\nSelectExistingSets.propTypes = {\n    setSelectedPatchSet: propTypes.func,\n    selectedSets: propTypes.array,\n    systems: propTypes.array\n};\nexport default SelectExistingSets;\n","import { intl } from './IntlProvider';\nimport messages from '../Messages';\n\n/*\nvalidates date of a type YYYY-MM-DD with starting limit 1990-01-01.\nregex is used to comply the Patternfly date format.\n*/\nconst dateValidator = (dateStr) => {\n    const regex = /^(\\d{4})-(0[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])$/;\n\n    if (dateStr && typeof dateStr === 'string' && dateStr.match(regex) === null) {\n        return intl.formatMessage(messages.labelsErrorInvalidDate);\n    }\n\n    const date = new Date(dateStr);\n    const timestamp = date.getTime();\n\n    //Month had to be set to equal 0 to get the first month of the year.\n    const minDate = new Date(1990, 0, 1);\n\n    if (typeof timestamp !== 'number' || Number.isNaN(timestamp)) {\n        return intl.formatMessage(messages.labelsErrorInvalidDate);\n    }\n\n    if (date < minDate) {\n        return intl.formatMessage(messages.labelsErrorDateLimit);\n    }\n\n    return;\n};\n\nexport default dateValidator;\n","import componentTypes from '@data-driven-forms/react-form-renderer/component-types';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/validator-types';\nimport { intl } from '../../Utilities/IntlProvider';\nimport messages from '../../Messages';\nimport { filterSelectedActiveSystemIDs } from '../../Utilities/Helpers';\nimport dateValidator from '../../Utilities/dateValidator';\n\nexport const reviewSystemColumns = [{\n    key: 'display_name',\n    title: 'Name',\n    props: {\n        width: 50\n    }\n},\n{\n    title: 'OS',\n    key: 'os',\n    props: {\n        width: 25\n    }\n},\n{\n    key: 'baseline_name',\n    title: 'Patch template',\n    props: {\n        width: 25\n    }\n}\n];\n\nexport const configurationFields = [\n    {\n        name: 'configurationStep',\n        component: 'configurationStep'\n    },\n    {\n        name: 'existing_patch_set',\n        component: componentTypes.TEXT_FIELD,\n        hidden: true\n    }\n];\n\nexport const nameComponent = [{\n    name: 'name',\n    component: 'nameField',\n    validate: [{ type: validatorTypes.REQUIRED }]\n}];\n\nexport const descriptionComponent = [{\n    name: 'description',\n    component: 'descriptionField'\n}];\n\nexport const toDateComponent = [{\n    name: 'toDate',\n    component: 'toDateField',\n    validate: [\n        { type: validatorTypes.REQUIRED },\n        { type: 'validate-date' }\n    ]\n}];\n\nexport const getWizardTitle = (wizardType) => {\n    let wizardTitle = '';\n\n    switch (wizardType) {\n        case 'assign':\n            wizardTitle = intl.formatMessage(messages.templateTitleAssignSystem);\n            break;\n        case 'edit':\n            wizardTitle = intl.formatMessage(messages.templateEdit);\n            break;\n        default:\n            wizardTitle = intl.formatMessage(messages.templateTitle);\n    }\n\n    return wizardTitle;\n};\n\nexport const schema = (wizardType) =>{\n    return ({\n        fields: [\n            {\n                component: componentTypes.WIZARD,\n                name: 'patch-set-wizard',\n                isDynamic: true,\n                inModal: true,\n                showTitles: true,\n                title: getWizardTitle(wizardType),\n                description: intl.formatMessage(messages.templateDescription),\n                fields: [\n                    {\n                        name: 'patch-set-config',\n                        title: intl.formatMessage(wizardType === 'edit' ? messages.templateEdit : messages.templateNew),\n                        fields: configurationFields,\n                        nextStep: 'systems'\n                    },\n                    {\n                        name: 'systems',\n                        title: intl.formatMessage(messages.templateSelectSystems),\n                        fields: [\n                            {\n                                name: 'systems',\n                                component: 'reviewSystems'\n                                //We can use this later in case UX wantes to prevent patch template s without zero systems\n                                //validate: [{ type: 'validate-systems' }]\n                            }\n                        ],\n                        nextStep: 'review'\n                    },\n                    {\n                        name: 'review',\n                        title: intl.formatMessage(messages.templateReview),\n                        fields: [\n                            {\n                                name: 'review',\n                                component: 'reviewPatchSet'\n                            }\n                        ]\n                    }\n\n                ]\n\n            }\n        ]\n    });\n};\n\nexport const validatorMapper = {\n    'validate-systems': () => (formValueSystems) => {\n        const systems = filterSelectedActiveSystemIDs(formValueSystems);\n\n        if (systems === undefined) {\n            return;\n        }\n        else if (systems.length > 0) {\n            return;\n        } else {\n            return intl.formatMessage(messages.templateNoSystemSelected);\n        }\n    },\n    'validate-date': () => dateValidator\n};\n\nexport const apiFailedNotification = (description) => ({\n    title: 'There was an error while processing your request',\n    description,\n    variant: 'danger'\n});\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport { Grid, GridItem, Spinner } from '@patternfly/react-core';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport { nameComponent, descriptionComponent, toDateComponent } from '../WizardAssets';\n\nconst  ConfigurationFields = ({ isLoading }) =>{\n    const { renderForm } = useFormApi();\n\n    return isLoading ? <Spinner size='md' /> : (\n        <Grid hasGutter>\n            <GridItem lg={12} md={12}>\n                {renderForm(nameComponent)}\n            </GridItem>\n            <GridItem lg={12} md={12}>\n                {renderForm(descriptionComponent)}\n            </GridItem>\n            <GridItem lg={6} md={6}>\n                {renderForm(toDateComponent)}\n            </GridItem>\n        </Grid>\n    );\n};\n\nConfigurationFields.propTypes = {\n    isLoading: propTypes.bool\n};\nexport default ConfigurationFields;\n","import React, { useState, useEffect } from 'react';\nimport propTypes from 'prop-types';\nimport { useSelector, shallowEqual } from 'react-redux';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport {\n    Text,\n    TextContent,\n    Stack,\n    StackItem,\n    Radio,\n    TextVariants\n} from '@patternfly/react-core';\nimport { intl } from '../../../Utilities/IntlProvider';\nimport messages from '../../../Messages';\nimport SelectExistingSets from '../InputFields/SelectExistingSets';\nimport ConfigurationFields from '../InputFields/ConfigurationFields';\n\nimport { convertIsoToDate } from '../../../Utilities/Helpers';\n\nconst ConfigurationStepFields = ({ systemsIDs, patchSetID }) => {\n\n    const formOptions = useFormApi();\n    const shouldShowRadioButtons = (!patchSetID && systemsIDs?.length !== 0) || false;\n\n    const [shouldApplyExisting, setShouldApplyExisting] = useState(false);\n    const [shouldCreateNew, setShouldCreateNew] = useState(true);\n    const [selectedPatchSet, setSelectedPatchSet] = useState([]);\n\n    const { patchSet, status } = useSelector(({ SpecificPatchSetReducer }) => SpecificPatchSetReducer, shallowEqual);\n\n    const handleRadioChange = () => {\n        setShouldCreateNew(!shouldCreateNew);\n        setShouldApplyExisting(!shouldApplyExisting);\n    };\n\n    useEffect(() => {\n        if (patchSetID) {\n            const { name, description, config: { to_time: toDate } } = patchSet;\n\n            formOptions.change('name', name);\n            formOptions.change('description', description);\n            formOptions.change('toDate', convertIsoToDate(toDate));\n        }\n    }, [patchSet]);\n\n    return (\n        <Stack hasGutter>\n            {shouldShowRadioButtons && <TextContent style={{ marginTop: '-15px' }}>\n                <Text component={TextVariants.p}>\n                    {intl.formatMessage(\n                        messages.textTemplateSelectedSystems,\n                        { systemsCount: systemsIDs.length, b: (...chunks) => <b>{chunks}</b> }\n                    )}\n                </Text>\n            </TextContent>}\n            <StackItem>\n                <Stack hasGutter>\n                    {shouldShowRadioButtons && (<><StackItem>\n                        <Radio\n                            isChecked={shouldApplyExisting}\n                            name=\"radio\"\n                            onChange={handleRadioChange}\n                            label={intl.formatMessage(messages.textTemplateAddToExisting)}\n                            id=\"existing-template\"\n                        />\n                    </StackItem>\n                    <StackItem>\n                        {shouldApplyExisting ? <SelectExistingSets\n                            setSelectedPatchSet={setSelectedPatchSet}\n                            selectedSets={selectedPatchSet}\n                            systems={systemsIDs}\n                        /> : null}\n                    </StackItem>\n                    <StackItem>\n                        <Radio\n                            isChecked={shouldCreateNew}\n                            name=\"radio\"\n                            onChange={handleRadioChange}\n                            label={intl.formatMessage(messages.textTemplateCreateNew)}\n                            id=\"new-template\"\n                        />\n                    </StackItem></>) || null}\n                    <StackItem>\n                        {shouldCreateNew ? <ConfigurationFields\n                            isLoading={patchSetID && status.isLoading}\n                        /> : null}\n                    </StackItem>\n                </Stack>\n            </StackItem>\n        </Stack>\n    );\n};\n\nConfigurationStepFields.propTypes = {\n    systemsIDs: propTypes.array,\n    patchSetID: propTypes.string\n};\nexport default ConfigurationStepFields;\n","import React, { useState, useEffect } from 'react';\nimport {\n    FormGroup,\n    TextInput\n} from '@patternfly/react-core';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport useFieldApi from '@data-driven-forms/react-form-renderer/use-field-api';\nimport { intl } from '../../../Utilities/IntlProvider';\nimport messages from '../../../Messages';\n\nconst NameField = (props) => {\n    const { input } = useFieldApi(props);\n    const formOptions = useFormApi();\n    const values = formOptions.getState()?.values;\n\n    const [name, setName] = useState(values?.name);\n\n    useEffect(() => {\n        setName(values.name);\n    }, [values.name]);\n\n    return (\n        <FormGroup fieldId=\"name\" label={intl.formatMessage(messages.labelsColumnsName)} isRequired>\n            <TextInput\n                type=\"text\"\n                isRequired\n                value={name}\n                onChange={(val) => {\n                    input.onChange(val);\n                    setName(val);\n                }}\n                aria-label=\"name\"\n                autoFocus\n            />\n        </FormGroup>\n    );\n};\n\nexport default NameField;\n","import React, { useState, useEffect } from 'react';\nimport {\n    FormGroup,\n    DatePicker,\n    Flex,\n    FlexItem\n} from '@patternfly/react-core';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport useFieldApi from '@data-driven-forms/react-form-renderer/use-field-api';\nimport dateValidator from '../../../Utilities/dateValidator';\nimport { intl } from '../../../Utilities/IntlProvider';\nimport messages from '../../../Messages';\n\nconst ToDateField = (props) => {\n    const { input } = useFieldApi(props);\n    const formOptions = useFormApi();\n    const values = formOptions.getState()?.values;\n\n    const [toDate, setToDate] = useState(values?.toDate);\n\n    useEffect(() => {\n        setToDate(values.toDate);\n    }, [values.toDate]);\n\n    return (\n        <FormGroup fieldId=\"toDate\" label={intl.formatMessage(messages.templateDateField)} isRequired>\n            <Flex>\n                <FlexItem lg={2} md={2}>\n                    {intl.formatMessage(messages.templateDateUpto)}\n                </FlexItem>\n                <FlexItem lg={10} md={10}>\n                    <DatePicker\n                        value={toDate}\n                        onChange={(val) => {\n                            input.onChange(val);\n                            setToDate(val);\n                        }}\n                        popoverProps={{ position: 'right' }}\n                        aria-label=\"toDate\"\n                        validators={[dateValidator]}\n                        invalidFormatText={intl.formatMessage(messages.labelsErrorInvalidDate)}\n                    />\n                </FlexItem>\n            </Flex>\n        </FormGroup>\n    );\n};\n\nexport default ToDateField;\n","import React, { useState, useEffect } from 'react';\nimport { FormGroup, TextInput } from '@patternfly/react-core';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport useFieldApi from '@data-driven-forms/react-form-renderer/use-field-api';\nimport { intl } from '../../../Utilities/IntlProvider';\nimport messages from '../../../Messages';\n\nconst DescriptionField = (props) => {\n    const { input } = useFieldApi(props);\n    const formOptions = useFormApi();\n    const values = formOptions.getState()?.values;\n\n    const [description, setDescription] = useState(values?.description);\n\n    useEffect(() => {\n        setDescription(values.description);\n    }, [values.description]);\n\n    return (\n        <FormGroup fieldId=\"description\" label={intl.formatMessage(messages.labelsDescription)}>\n            <TextInput\n                type=\"text\"\n                isRequired\n                value={description}\n                onChange={(val) => {\n                    input.onChange(val);\n                    setDescription(val);\n                }}\n                aria-label=\"description\"\n            />\n        </FormGroup>\n    );\n};\n\nexport default DescriptionField;\n","import React, { useEffect, useState } from 'react';\nimport propTypes from 'prop-types';\nimport useFieldApi from '@data-driven-forms/react-form-renderer/use-field-api';\nimport searchFilter from '../../../PresentationalComponents/Filters/SearchFilter';\nimport { Text, TextContent, Stack, StackItem, TextVariants } from '@patternfly/react-core';\nimport { useSelector, shallowEqual } from 'react-redux';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\n\nimport { createSortBy, buildSelectedSystemsObj } from '../../../Utilities/Helpers';\nimport { createSystemsRowsReview } from '../../../Utilities/DataMappers';\nimport { useOnSelect, usePerPageSelect, useSetPage, useSortColumn } from '../../../Utilities/Hooks';\nimport TableView from '../../../PresentationalComponents/TableView/TableView';\nimport staleFilter from '../../../PresentationalComponents/Filters/SystemStaleFilter';\nimport systemsUpdatableFilter from '../../../PresentationalComponents/Filters/SystemsUpdatableFilter';\nimport { fetchSystems } from '../../../Utilities/api';\nimport { reviewSystemColumns } from '../WizardAssets';\nimport messages from '../../../Messages';\nimport { intl } from '../../../Utilities/IntlProvider';\nimport { systemsListDefaultFilters } from '../../../Utilities/constants';\nimport useOsVersionFilter from '../../../PresentationalComponents/Filters/OsVersionFilter';\n\nexport const ReviewSystems = ({ systemsIDs = [], ...props }) => {\n    const { input } = useFieldApi(props);\n    const formOptions = useFormApi();\n    const { values } = formOptions.getState();\n    const defaultSelectedSystems = buildSelectedSystemsObj(systemsIDs, values?.systems);\n\n    const [isLoading, setLoading] = useState(true);\n    const [rawData, setRawData] = useState([]);\n    const [systems, setSystems] = useState([]);\n    const [selectedRows, setSelectedRows] = useState(defaultSelectedSystems);\n    const [metadata, setMetada] = useState({\n        limit: 20,\n        offset: 0,\n        total_items: 0\n    });\n\n    const [queryParams, setQueryParams] = useState({\n        page: 1,\n        perPage: 20,\n        filter: {\n            stale: [true, false]\n        }\n    });\n\n    const { assignedSystems } = useSelector(({ SpecificPatchSetReducer }) => SpecificPatchSetReducer, shallowEqual);\n\n    useEffect(() => {\n        fetchSystems({\n            ...queryParams, filter: { ...queryParams.filter,\n                id: systemsIDs.length > 0 ? `in:${systemsIDs.join(',')}` : undefined }\n        }).then(result => {\n            setSystems(\n                createSystemsRowsReview(\n                    result.data,\n                    { ...buildSelectedSystemsObj([...assignedSystems, ...systemsIDs]), ...selectedRows }\n                )\n            );\n            setMetada(result.meta);\n            setRawData(result.data);\n            setLoading(false);\n        });\n    }, [queryParams.filter, queryParams]);\n\n    useEffect(() => {\n        input.onChange(selectedRows);\n\n        setSystems(\n            createSystemsRowsReview(rawData, selectedRows)\n        );\n    }, [selectedRows]);\n\n    useEffect(() => {\n        setSelectedRows({ ...selectedRows, ...buildSelectedSystemsObj(assignedSystems) });\n    }, [assignedSystems]);\n\n    const apply = (params) => {\n        setLoading(true);\n        setQueryParams((prevQueryParams) => ({\n            ...prevQueryParams,\n            ...params,\n            filter: { ...prevQueryParams.filter, ...params.filter }\n        }));\n    };\n\n    const osFilterConfig = useOsVersionFilter(queryParams.filter.os, apply);\n    const onSort = useSortColumn(reviewSystemColumns, apply, 1);\n    const sortBy = React.useMemo(\n        () => createSortBy(reviewSystemColumns, metadata.sort, 1),\n        [metadata.sort]\n    );\n\n    const onSetPage = useSetPage(metadata.limit, apply);\n\n    const onPerPageSelect = usePerPageSelect(apply);\n\n    const fetchAllData = () =>\n        fetchSystems({ ...queryParams,\n            filter: { ...queryParams.filter, ...systemsIDs.length > 0 && { id: `in:${systemsIDs.join(',')}` } }, limit: -1 });\n\n    const selectRows = (toSelect) => {\n        const newSelections = toSelect.reduce((object, system) => {\n            object[system.id] = system.selected ? true : undefined;\n            return object;\n        }, {});\n\n        setSelectedRows({ ...selectedRows, ...newSelections });\n    };\n\n    const onSelect = useOnSelect(systems, selectedRows, fetchAllData, selectRows);\n\n    return (\n        <Stack hasGutter>\n            <StackItem>\n                <TextContent style={{ marginTop: '-15px' }}>\n                    <Text component={TextVariants.p}>\n                        {intl.formatMessage(messages.textTemplateReviewSystems)}\n                    </Text>\n                </TextContent>\n            </StackItem>\n            <StackItem>\n                <TableView\n                    columns={reviewSystemColumns}\n                    compact\n                    onSetPage={onSetPage}\n                    onPerPageSelect={onPerPageSelect}\n                    onSort={onSort}\n                    selectedRows={selectedRows}\n                    onSelect={onSelect}\n                    sortBy={sortBy}\n                    apply={apply}\n                    tableOUIA={'patch-set-table'}\n                    paginationOUIA={'patch-set-pagination'}\n                    store={{ rows: systems, metadata, status: { isLoading }, queryParams }}\n                    filterConfig={{\n                        items: [\n                            searchFilter(apply, queryParams.search,\n                                intl.formatMessage(messages.labelsFiltersSystemsSearchTitle),\n                                intl.formatMessage(messages.labelsFiltersSearch)\n                            ),\n                            staleFilter(apply, queryParams.filter),\n                            systemsUpdatableFilter(apply, queryParams.filter),\n                            ...osFilterConfig\n                        ]\n                    }}\n                    searchChipLabel={intl.formatMessage(messages.labelsFiltersSystemsSearchTitle)}\n                    defaultFilters={systemsListDefaultFilters}\n                />\n            </StackItem>\n        </Stack>\n    );\n};\n\nReviewSystems.propTypes = {\n    systemsIDs: propTypes.array\n};\n\nexport default ReviewSystems;\n","import React, { Fragment } from 'react';\nimport {\n    Text,\n    TextContent,\n    Stack,\n    StackItem,\n    TextVariants,\n    TextList,\n    TextListVariants,\n    TextListItem,\n    TextListItemVariants\n} from '@patternfly/react-core';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport { intl } from '../../../Utilities/IntlProvider';\nimport messages from '../../../Messages';\n\nconst renderTextListItem = (label, text) => (\n    <Fragment>\n        <TextListItem component={TextListItemVariants.dt}>\n            {intl.formatMessage(messages[label])}:\n        </TextListItem>\n        <TextListItem component={TextListItemVariants.dd}>\n            {text}\n        </TextListItem>\n    </Fragment>\n);\n\nconst ReviewPatchSet = () => {\n    const formOptions = useFormApi();\n    const { values } = formOptions.getState();\n    const { name, description, toDate } = values.existing_patch_set || values;\n    const { systems } = values;\n\n    return (\n        <Stack hasGutter>\n            <StackItem>\n                <TextContent style={{ marginTop: '-15px' }}>\n                    <Text component={TextVariants.p}>\n                        {intl.formatMessage(\n                            messages.textPatchTemplateReview,\n                            { b: (...chunks) => <b>{chunks}</b> })}\n                    </Text>\n                </TextContent>\n            </StackItem>\n            <StackItem>\n                <TextContent>\n                    <TextList component={TextListVariants.dl}>\n                        {renderTextListItem('labelsColumnsName', name)}\n                        {description && renderTextListItem('labelsDescription', description)}\n                        {toDate && renderTextListItem('labelsDate', toDate)}\n                        {renderTextListItem(\n                            'labelsSelectedSystems',\n                            systems && Object.values(systems).filter(system => system).length\n                        )}\n                    </TextList>\n                </TextContent>\n            </StackItem>\n        </Stack>\n    );\n};\n\nexport default ReviewPatchSet;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport {\n    Title,\n    EmptyState,\n    EmptyStateVariant,\n    EmptyStateIcon,\n    EmptyStateBody,\n    Grid,\n    GridItem,\n    HelperText,\n    HelperTextItem,\n    Button\n} from '@patternfly/react-core';\nimport {\n    CheckCircleIcon,\n    ExclamationCircleIcon,\n    InProgressIcon\n} from '@patternfly/react-icons';\nimport { intl } from '../../../Utilities/IntlProvider';\nimport messages from '../../../Messages';\nimport { useDispatch } from 'react-redux';\nimport { apiFailedNotification } from '../WizardAssets';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/redux';\n\nconst RequestProgress = ({ onClose, state }) => {\n    const { requestPending, failed, error } = state;\n    const dispatch = useDispatch();\n\n    if (failed) {\n        dispatch(\n            addNotification(\n                apiFailedNotification(error.detail)\n            )\n        );\n    }\n\n    return (\n        <EmptyState\n            variant={EmptyStateVariant.large}\n            data-component-ouia-id=\"patch-set-progress\"\n        >\n            <EmptyStateIcon\n                color={\n                    failed\n                        ? 'var(--pf-global--danger-color--100)'\n                        : !requestPending\n                            ? 'var(--pf-global--success-color--100)'\n                            : undefined\n                }\n                icon={\n                    failed\n                        ? ExclamationCircleIcon\n                        : requestPending\n                            ? InProgressIcon\n                            : CheckCircleIcon\n                }\n            />\n            <Title headingLevel=\"h1\" size=\"lg\">\n                {failed\n                    ? intl.formatMessage(messages.textErrorSomethingWrong)\n                    : requestPending\n                        ? intl.formatMessage(messages.textConfigurationInProgress)\n                        : intl.formatMessage(messages.textPatchTemplateSuccessfuly)}\n            </Title>\n            <EmptyStateBody>\n                <Grid hasGutter>\n                    {(requestPending) && (\n                        <><GridItem>\n                            <HelperText>\n                                <HelperTextItem variant=\"indeterminate\">\n                                    {intl.formatMessage(messages.textPatchTemplatePending)}\n                                </HelperTextItem>\n                            </HelperText>\n                        </GridItem><GridItem>\n                            <Button variant=\"link\" isInline onClick={onClose}>\n                                {intl.formatMessage(messages.labelsCancel)}\n                            </Button>{' '}\n                        </GridItem></>\n                    )}\n                    {(!requestPending && !failed) && (\n                        <GridItem>\n                            <Button variant=\"primary\" onClick={onClose}>\n                                {intl.formatMessage(messages.textReturnToApp)}\n                            </Button>\n                        </GridItem>\n                    )}\n                    {(!requestPending && failed) && (\n                        <><GridItem>\n                            <HelperText>\n                                <HelperTextItem variant=\"indeterminate\">\n                                    {intl.formatMessage(\n                                        messages.templateError,\n                                        { a: (chunks) => <a href=\"https://www.redhat.com/en/services/support\">{chunks}</a> })}\n                                </HelperTextItem>\n                            </HelperText>\n                        </GridItem><GridItem>\n                            <Button variant=\"primary\" onClick={onClose}>\n                                {intl.formatMessage(messages.textReturnToApp)}\n                            </Button>\n                        </GridItem></>\n                    )}\n                </Grid>\n\n            </EmptyStateBody>\n        </EmptyState>\n    );\n};\n\nRequestProgress.propTypes = {\n    onClose: propTypes.func,\n    state: propTypes.object\n};\n\nexport default RequestProgress;\n","\nimport React, { Fragment, useState, memo, useEffect } from 'react';\nimport propTypes from 'prop-types';\nimport FormRenderer from '@data-driven-forms/react-form-renderer/form-renderer';\nimport Pf4FormTemplate from '@data-driven-forms/pf4-component-mapper/form-template';\nimport componentTypes from '@data-driven-forms/react-form-renderer/component-types';\nimport WizardMapper from '@data-driven-forms/pf4-component-mapper/wizard';\nimport TextField from '@data-driven-forms/pf4-component-mapper/text-field';\nimport DatePicker from '@data-driven-forms/pf4-component-mapper/date-picker';\nimport { Modal, Wizard } from '@patternfly/react-core';\nimport { useDispatch } from 'react-redux';\n\nimport ConfigurationStepFields from './steps/ConfigurationStepFields';\nimport NameField from './InputFields/NameField';\nimport ToDateField from './InputFields/ToDateField';\nimport DescriptionField from './InputFields/DescriptionField';\nimport ReviewSystems from './steps/ReviewSystems';\nimport ReviewPatchSet from './steps/ReviewPatchSet';\nimport { schema, validatorMapper, getWizardTitle } from './WizardAssets';\nimport RequestProgress from './steps/RequestProgress';\nimport { usePatchSetApi } from '../../Utilities/Hooks';\nimport { intl } from '../../Utilities/IntlProvider';\nimport messages from '../../Messages';\nimport { fetchPatchSetAction, clearPatchSetAction, fetchPatchSetSystemsAction } from '../../store/Actions/Actions';\n\nexport const PatchSetWizard = ({ systemsIDs, setBaselineState, patchSetID }) => {\n    //if system ids exist, those are being assigned. Likewise if patchSetID exists, it is being edited\n    const wizardType = systemsIDs ? 'assign' : (patchSetID ? 'edit' : 'create');\n    const [wizardState, setWizardState] = useState({\n        submitted: false,\n        formValues: {},\n        requestPending: true,\n        failed: false,\n        shouldRefresh: false\n    });\n\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        if (patchSetID) {\n            dispatch(fetchPatchSetAction(patchSetID));\n            dispatch(fetchPatchSetSystemsAction(patchSetID, { limit: -1 }));\n        }\n\n        return () => dispatch(clearPatchSetAction());\n    }, []);\n\n    const onSubmit = usePatchSetApi(wizardState, setWizardState, patchSetID);\n\n    const handleWizardClose = () => {\n        const shouldRefresh = !wizardState.failed && wizardState.submitted;\n\n        setBaselineState({ isPatchSetWizardOpen: false, systemsIDs: [], patchSetID: undefined, shouldRefresh });\n        setWizardState({ formValues: {}, submitted: false });\n    };\n\n    const mapperExtensions = {\n        nameField: {\n            component: NameField\n        },\n        descriptionField: {\n            component: DescriptionField\n        },\n        toDateField: {\n            component: ToDateField\n        },\n        configurationStep: {\n            component: ConfigurationStepFields,\n            systemsIDs: systemsIDs || [],\n            patchSetID\n        },\n        reviewSystems: {\n            component: ReviewSystems,\n            systemsIDs: systemsIDs || []\n        },\n        reviewPatchSet: {\n            component: ReviewPatchSet,\n            systemsIDs: systemsIDs || []\n        }\n    };\n\n    return (\n        <Fragment>\n            {!wizardState.submitted &&  (\n                <FormRenderer\n                    schema={schema(wizardType)}\n                    subscription={{ values: true }}\n                    FormTemplate={(props) => (\n                        <Pf4FormTemplate {...props} showFormControls={false} />\n                    )}\n                    componentMapper={{\n                        [componentTypes.WIZARD]: {\n                            component: WizardMapper,\n                            className: 'patch-set',\n                            'data-ouia-component-id': 'patch-set-wizard'\n                        },\n                        [componentTypes.TEXT_FIELD]: TextField,\n                        [componentTypes.DATE_PICKER]: DatePicker,\n                        ...mapperExtensions\n                    }}\n                    validatorMapper={validatorMapper}\n                    onSubmit={onSubmit}\n                    onCancel={handleWizardClose} />\n            ) || (\n                <Modal\n                    isOpen\n                    variant={'large'}\n                    showClose={false}\n                    className=\"patch-set\"\n                    hasNoBodyWrapper\n                    aria-describedby=\"patch-set-description\"\n                    aria-labelledby=\"patch-set-modal-title\"\n                >\n                    <Wizard\n                        className=\"patch-set\"\n                        title={getWizardTitle(wizardType)}\n                        description={intl.formatMessage(messages.templateDescription)}\n                        steps={[\n                            {\n                                name: 'progress',\n                                component: (\n                                    <RequestProgress\n                                        onClose={handleWizardClose}\n                                        state={wizardState}\n                                    />\n                                ),\n                                isFinishedStep: true\n                            }\n                        ]}\n                        onClose={handleWizardClose}\n                    />\n                </Modal>\n            )}\n        </Fragment>\n    );\n};\n\nPatchSetWizard.propTypes = {\n    setBaselineState: propTypes.func,\n    systemsIDs: propTypes.array,\n    patchSetID: propTypes.string\n};\n\nexport default memo(PatchSetWizard, (prevProps, nextProps) => {\n    return JSON.stringify(prevProps) === JSON.stringify(nextProps);\n});\n","import { useState } from 'react';\nimport {\n    filterSelectedActiveSystemIDs\n} from './Helpers';\n\n/**\n* Manages unified state for patch set wizard and unassign modal.\n* @param {Object} [selectedRows] selected rows object to be removed.\n* @returns {patchSetState, setPatchSetState, openPatchSetAssignWizard, openUnassignSystemsModal, openPatchSetEditModal}\n*/\nconst usePatchSetState = (selectedRows) => {\n    const [patchSetState, setPatchSetState] = useState({\n        isPatchSetWizardOpen: false,\n        isUnassignSystemsModalOpen: false,\n        shouldRefresh: false,\n        systemsIDs: []\n    });\n\n    const openPatchSetAssignWizard = (systemID) => {\n        setPatchSetState({\n            isPatchSetWizardOpen: true,\n            systemsIDs: typeof systemID === 'string' && systemID !== ''\n                ? [systemID]\n                : filterSelectedActiveSystemIDs(selectedRows),\n            shouldRefresh: false\n        }\n        );\n    };\n\n    const openUnassignSystemsModal = (systemsIDs) => {\n        setPatchSetState({\n            isUnassignSystemsModalOpen: true,\n            systemsIDs,\n            shouldRefresh: false\n        });\n    };\n\n    const openPatchSetEditModal = (patchSetID) => {\n        setPatchSetState({ isPatchSetWizardOpen: true, patchSetID });\n    };\n\n    return { patchSetState, setPatchSetState, openPatchSetAssignWizard, openUnassignSystemsModal, openPatchSetEditModal };\n};\n\nexport default usePatchSetState;\n"],"names":["currentFilter","apply","versions","useSelector","entities","operatingSystems","versionsLoaded","operatingSystemsLoaded","useState","setOperatingSystems","useLoadModule","appName","scope","module","toGroupSelectionValue","buildOSFilterConfig","useEffect","undefined","getOperatingSystems","then","results","map","entry","value","name","major","minor","versionStringified","label","osVersionValue","split","version","substring","id","onChange","event","Object","values","flatMap","keys","toString","filter","os","currentValue","stale","staleMap","React","staleSystems","currentValueStringType","Array","isArray","filterByStale","intl","messages","type","conditionalFilterType","filterValues","items","placeholder","packages_updatable","filterByUpdatableSystems","packagesListUpdatableTypes","HeaderBreadcrumbs","headerOUIA","Breadcrumb","Boolean","item","BreadcrumbItem","key","title","isActive","to","Link","propTypes","PropTypes","HeaderTabs","history","Tabs","onSelect","tabString","push","activeKey","location","pathname","className","Tab","eventKey","paths","withRouter","Header","showTabs","breadcrumbs","children","PageHeader","PageHeaderTitle","SelectPagination","changePage","page","perPage","totalItems","Flex","justifyContent","default","FlexItem","Button","variant","isDisabled","onClick","SelectExistingSets","setSelectedPatchSet","selectedSets","systems","dispatch","useDispatch","formOptions","useFormApi","isOpen","setOpen","rows","PatchSetsStore","queryParams","status","metadata","clearPatchSetsAction","search","searchDependency","fetchPatchSetsAction","offset","patchOptions","useMemo","isLoading","SelectOption","Spinner","size","set","debounce","params","changePatchSetsParams","searchAdvisory","FormGroup","fieldId","isRequired","Select","SelectVariant","_","selected","selectedSet","length","change","placeholderText","inlineFilterPlaceholderText","selections","onToggle","onFilter","props","searchValue","hasInlineFilter","footer","total_items","dateStr","match","date","Date","timestamp","getTime","minDate","Number","isNaN","reviewSystemColumns","width","configurationFields","component","componentTypes","hidden","nameComponent","validate","validatorTypes","descriptionComponent","toDateComponent","getWizardTitle","wizardType","wizardTitle","schema","fields","isDynamic","inModal","showTitles","description","nextStep","validatorMapper","formValueSystems","filterSelectedActiveSystemIDs","dateValidator","ConfigurationFields","renderForm","Grid","hasGutter","GridItem","lg","md","ConfigurationStepFields","systemsIDs","patchSetID","shouldShowRadioButtons","shouldApplyExisting","setShouldApplyExisting","shouldCreateNew","setShouldCreateNew","selectedPatchSet","SpecificPatchSetReducer","shallowEqual","patchSet","handleRadioChange","toDate","config","to_time","convertIsoToDate","Stack","TextContent","style","marginTop","Text","TextVariants","systemsCount","b","chunks","StackItem","Radio","isChecked","input","useFieldApi","getState","setName","TextInput","val","autoFocus","setToDate","DatePicker","popoverProps","position","validators","invalidFormatText","setDescription","ReviewSystems","defaultSelectedSystems","buildSelectedSystemsObj","setLoading","rawData","setRawData","setSystems","selectedRows","setSelectedRows","limit","setMetada","setQueryParams","assignedSystems","fetchSystems","join","result","createSystemsRowsReview","data","meta","prevQueryParams","osFilterConfig","useOsVersionFilter","onSort","useSortColumn","sortBy","createSortBy","sort","onSetPage","useSetPage","onPerPageSelect","usePerPageSelect","useOnSelect","toSelect","newSelections","reduce","object","system","TableView","columns","compact","tableOUIA","paginationOUIA","store","filterConfig","searchFilter","staleFilter","systemsUpdatableFilter","searchChipLabel","defaultFilters","systemsListDefaultFilters","renderTextListItem","text","Fragment","TextListItem","TextListItemVariants","existing_patch_set","TextList","TextListVariants","RequestProgress","onClose","state","requestPending","failed","error","addNotification","detail","EmptyState","EmptyStateVariant","EmptyStateIcon","color","icon","ExclamationCircleIcon","InProgressIcon","CheckCircleIcon","Title","headingLevel","EmptyStateBody","HelperText","HelperTextItem","isInline","a","href","PatchSetWizard","setBaselineState","submitted","formValues","shouldRefresh","wizardState","setWizardState","fetchPatchSetAction","fetchPatchSetSystemsAction","clearPatchSetAction","onSubmit","usePatchSetApi","handleWizardClose","isPatchSetWizardOpen","mapperExtensions","nameField","NameField","descriptionField","DescriptionField","toDateField","ToDateField","configurationStep","reviewSystems","reviewPatchSet","ReviewPatchSet","subscription","FormTemplate","showFormControls","componentMapper","WizardMapper","TextField","onCancel","Modal","showClose","hasNoBodyWrapper","Wizard","steps","isFinishedStep","memo","prevProps","nextProps","JSON","stringify","isUnassignSystemsModalOpen","patchSetState","setPatchSetState","openPatchSetAssignWizard","systemID","openUnassignSystemsModal","openPatchSetEditModal"],"sourceRoot":""}