{"version":3,"sources":["webpack:///./src/store/Reducers/InventoryEntitiesReducer.js"],"names":["initialState","rows","entities","selectedRows","page","perPage","metadata","limit","offset","total_items","modifyInventory","columns","state","loaded","lastSeenColumn","filter","key","createSystemsRows","modifyPackageSystems","createPackageSystemsRows","inventoryEntitiesReducer","inventoryModifier","action","newState","type","selectRows","ActionTypes"],"mappings":"g3BAMA,IAAMA,EAAe,CACjBC,KAAM,GACNC,SAAU,GACVC,aAAc,GACdC,KAAM,EACNC,QAAS,GACTC,SAAU,CACNC,MAAO,GACPC,OAAQ,EACRC,YAAa,IAKRC,EAAkB,SAACC,EAASC,GACrC,GAAIA,EAAMC,OAAQ,CACd,IAAIC,EAAiBF,EAAMD,QAAQI,QAAO,kBAAqB,YAArB,EAAGC,OAG7C,OAFAF,EAAiB,CAAC,EAAD,KAAMA,EAAe,IAArB,IAAyBE,IAAK,iBAE/C,OACOJ,GADP,IAEID,QAAS,GAAF,eACAA,GAAW,KADX,OAEAG,GAAkB,KAEzBb,MAAMgB,QAAkBL,EAAMX,KAAMW,EAAMT,gBAIlD,OAAOS,GAGEM,EAAuB,SAACP,EAASC,GAC1C,OAAIA,EAAMC,OACN,OACOD,GADP,IAEID,UACAV,MAAMkB,QAAyBP,EAAMX,KAAMW,EAAMT,gBAIlDS,GAGEQ,EAA2B,SAACT,EAASU,GAAV,OAAgC,WAAkC,IAAjCT,EAAiC,uDAAzBZ,EAAcsB,EAAW,uCAClGC,EAAW,EAAH,GAAQX,GACpB,OAAQU,EAAOE,MACX,IAAK,0BACD,OAAOH,EAAkBV,EAASY,GAEtC,IAAK,gBACD,OAAOE,QAAWF,EAAUD,GAEhC,KAAKI,KACD,OAAO1B,EAEX,QACI,OAAOY","file":"js/747.ff1a3e6c82dc9cfcfbc7.js","sourcesContent":["import { createSystemsRows } from '../../Utilities/DataMappers';\nimport { createPackageSystemsRows } from '../../Utilities/DataMappers';\nimport { selectRows } from './HelperReducers';\nimport * as ActionTypes from '../ActionTypes';\n\n// Initial State. It should not include page and perPage to persist them dynamically\nconst initialState = {\n    rows: [],\n    entities: [],\n    selectedRows: {},\n    page: 1,\n    perPage: 20,\n    metadata: {\n        limit: 20,\n        offset: 0,\n        total_items: 0\n    }\n};\n// Reducer\n\nexport const modifyInventory = (columns, state) => {\n    if (state.loaded) {\n        let lastSeenColumn = state.columns.filter(({ key }) => key === 'updated');\n        lastSeenColumn = [{ ...lastSeenColumn[0], key: 'last_upload' }];\n\n        return {\n            ...state,\n            columns: [\n                ...columns || [],\n                ...lastSeenColumn || []\n            ],\n            rows: createSystemsRows(state.rows, state.selectedRows)\n        };\n    }\n\n    return state;\n};\n\nexport const modifyPackageSystems = (columns, state) => {\n    if (state.loaded) {\n        return {\n            ...state,\n            columns,\n            rows: createPackageSystemsRows(state.rows, state.selectedRows)\n        };\n    }\n\n    return state;\n};\n\nexport const inventoryEntitiesReducer = (columns, inventoryModifier) => (state = initialState, action) => {\n    let newState = { ...state };\n    switch (action.type) {\n        case 'LOAD_ENTITIES_FULFILLED':\n            return inventoryModifier(columns, newState);\n\n        case 'SELECT_ENTITY':\n            return selectRows(newState, action);\n\n        case ActionTypes.CLEAR_INVENTORY_REDUCER:\n            return initialState;\n\n        default:\n            return state;\n    }\n};\n"],"sourceRoot":""}