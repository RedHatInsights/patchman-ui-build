{"version":3,"file":"js/InventoryDetail.8988238d9bb11c3c5f2a.js","mappings":"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","sources":["webpack:///./node_modules/@redhat-cloud-services/frontend-components/esm/Inventory/DetailWrapper.js","webpack:///./node_modules/@redhat-cloud-services/frontend-components/esm/Inventory/InventoryDetailHead.js","webpack:///./src/SmartComponents/SystemDetail/InventoryDetail.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { Suspense } from 'react';\nimport PropTypes from 'prop-types';\nimport { ScalprumComponent } from '@scalprum/react-core';\nimport { useStore } from 'react-redux';\nimport { Bullseye } from \"@patternfly/react-core/dist/dynamic/layouts/Bullseye\";\nimport { Spinner } from \"@patternfly/react-core/dist/dynamic/components/Spinner\";\nimport InventoryLoadError from './InventoryLoadError';\nimport classNames from 'classnames';\nimport WithHistory from './WithHistory';\nvar BaseDetailWrapper = function (props) {\n    var store = useStore();\n    var Cmp = props.component;\n    return (_jsx(Cmp, { className: classNames(props.className, 'inventory'), children: _jsx(Suspense, { fallback: props.fallback, children: _jsx(ScalprumComponent, __assign({ history: props.history, store: store, appName: \"inventory\", module: \"./DetailWrapper\", scope: \"inventory\", ErrorComponent: _jsx(InventoryLoadError, __assign({ component: \"InventoryDetailHead\" }, props)), ref: props.innerRef }, props)) }) }));\n};\nBaseDetailWrapper.propTypes = {\n    fallback: PropTypes.node,\n    innerRef: PropTypes.object,\n    component: PropTypes.string,\n    className: PropTypes.string,\n    history: PropTypes.object,\n};\nvar DetailWrapper = React.forwardRef(function (props, ref) { return _jsx(BaseDetailWrapper, __assign({ innerRef: ref }, props)); });\nDetailWrapper.propTypes = {\n    fallback: PropTypes.node,\n    component: PropTypes.string,\n    className: PropTypes.string,\n};\nDetailWrapper.defaultProps = {\n    fallback: (_jsx(Bullseye, { className: \"pf-v5-u-p-lg\", children: _jsx(Spinner, { size: \"xl\" }) })),\n    component: 'section',\n};\nvar CompatiblityWrapper = function (props, ref) { return _jsx(WithHistory, __assign({ innerRef: ref, Component: DetailWrapper }, props)); };\nexport default React.forwardRef(CompatiblityWrapper);\n//# sourceMappingURL=DetailWrapper.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { Suspense } from 'react';\nimport PropTypes from 'prop-types';\nimport { ScalprumComponent } from '@scalprum/react-core';\nimport { useStore } from 'react-redux';\nimport { Bullseye } from \"@patternfly/react-core/dist/dynamic/layouts/Bullseye\";\nimport { Spinner } from \"@patternfly/react-core/dist/dynamic/components/Spinner\";\nimport InventoryLoadError from './InventoryLoadError';\nimport classNames from 'classnames';\nimport WithHistory from './WithHistory';\nvar BaseInventoryDetailHead = function (props) {\n    var store = useStore();\n    var Cmp = props.component;\n    return (_jsx(Cmp, { className: classNames(props.className, 'inventory'), children: _jsx(Suspense, { fallback: props.fallback, children: _jsx(ScalprumComponent, __assign({ history: props.history, store: store, appName: \"inventory\", module: \"./InventoryDetailHead\", scope: \"inventory\", ErrorComponent: _jsx(InventoryLoadError, __assign({ component: \"InventoryDetailHead\" }, props)), ref: props.innerRef }, props)) }) }));\n};\nBaseInventoryDetailHead.propTypes = {\n    fallback: PropTypes.node,\n    innerRef: PropTypes.object,\n    component: PropTypes.string,\n    className: PropTypes.string,\n    history: PropTypes.object,\n};\nvar InventoryDetailHead = React.forwardRef(function (props, ref) { return _jsx(BaseInventoryDetailHead, __assign({ innerProps: ref }, props)); });\nInventoryDetailHead.propTypes = {\n    fallback: PropTypes.node,\n    component: PropTypes.string,\n    className: PropTypes.string,\n};\nInventoryDetailHead.defaultProps = {\n    fallback: (_jsx(Bullseye, { className: \"pf-v5-u-p-lg\", children: _jsx(Spinner, { size: \"xl\" }) })),\n    component: 'section',\n};\nvar CompatiblityWrapper = function (props, ref) { return _jsx(WithHistory, __assign({ innerRef: ref, Component: InventoryDetailHead }, props)); };\nexport default React.forwardRef(CompatiblityWrapper);\n//# sourceMappingURL=InventoryDetailHead.js.map","import React, { Fragment, useEffect } from 'react';\nimport { Main } from '@redhat-cloud-services/frontend-components/Main';\nimport { useSelector, useDispatch, useStore } from 'react-redux';\nimport { combineReducers } from 'redux';\nimport Header from '../../PresentationalComponents/Header/Header';\nimport { defaultReducers } from '../../store';\nimport { SystemDetailStore } from '../../store/Reducers/SystemDetailStore';\nimport { intl } from '../../Utilities/IntlProvider';\nimport messages from '../../Messages';\nimport { InventoryDetailHead, DetailWrapper } from '@redhat-cloud-services/frontend-components/Inventory';\nimport { Alert, Grid, GridItem, TextContent, Text } from '@patternfly/react-core';\nimport { fetchSystemDetailsAction } from '../../store/Actions/Actions';\nimport { clearNotifications } from '@redhat-cloud-services/frontend-components-notifications/redux';;\nimport PatchSetWrapper from '../../PresentationalComponents/PatchSetWrapper/PatchSetWrapper';\nimport { usePatchSetState } from '../../Utilities/hooks';\nimport { useParams } from 'react-router-dom';\nimport SystemDetail from './SystemDetail';\nimport { useChrome } from '@redhat-cloud-services/frontend-components/useChrome';\nimport { DEFAULT_PATCH_TITLE } from '../../Utilities/constants';\nimport { InsightsLink } from '@redhat-cloud-services/frontend-components/InsightsLink';\nimport { usePermissionsWithContext } from '@redhat-cloud-services/frontend-components-utilities/RBACHook';\n\nconst InventoryDetail = () => {\n    const { inventoryId } = useParams();\n    const store = useStore();\n    const dispatch = useDispatch();\n\n    const { hasThirdPartyRepo, satelliteManaged, patchSetName, patchSetId } = useSelector(\n        ({ SystemDetailStore }) => SystemDetailStore\n    );\n\n    const { display_name: displayName } = useSelector(\n        ({ entityDetails }) => entityDetails?.entity ?? {}\n    );\n\n    const { patchSetState, setPatchSetState, openAssignSystemsModal, openUnassignSystemsModal } = usePatchSetState();\n\n    useEffect(() => {\n        dispatch(fetchSystemDetailsAction(inventoryId));\n\n        return () => {\n            dispatch(clearNotifications());\n        };\n    }, []);\n\n    useEffect(() => {\n        if (patchSetState.shouldRefresh) {\n            dispatch(fetchSystemDetailsAction(inventoryId));\n        }\n    }, [patchSetState.shouldRefresh]);\n\n    const chrome = useChrome();\n    useEffect(() => {\n        displayName && chrome.updateDocumentTitle(`${displayName} - ${intl.formatMessage(messages.titlesSystems)}\n        ${DEFAULT_PATCH_TITLE}`);\n    }, [chrome, displayName]);\n\n    const { hasAccess: hasTemplateAccess } = usePermissionsWithContext([\n        'patch:*:*',\n        'patch:template:write'\n    ]);\n\n    return (\n        <DetailWrapper\n            onLoad={({ mergeWithDetail }) => {\n                store.replaceReducer(combineReducers({\n                    ...defaultReducers,\n                    ...mergeWithDetail(SystemDetailStore)\n                }));\n            }}\n            inventoryId={inventoryId}\n        >\n            <PatchSetWrapper patchSetState={patchSetState} setPatchSetState={setPatchSetState} />\n            <Header\n                title=\"\"\n                headerOUIA={'inventory-details'}\n                breadcrumbs={[\n                    {\n                        title: intl.formatMessage(messages.titlesPatchSystems),\n                        to: '/systems',\n                        isActive: false\n                    },\n                    displayName && {\n                        title: displayName,\n                        isActive: true\n                    }\n                ]}\n            >\n                <InventoryDetailHead\n                    hideBack\n                    showTags\n                    inventoryId={inventoryId}\n                    actions={[\n                        {\n                            title: intl.formatMessage(messages.titlesTemplateAssign),\n                            key: 'assign-to-template',\n                            isDisabled: !hasTemplateAccess || satelliteManaged,\n                            onClick: () => openAssignSystemsModal({ [inventoryId]: true })\n                        },\n                        {\n                            title: intl.formatMessage(messages.titlesTemplateRemoveMultipleButton),\n                            key: 'remove-from-template',\n                            isDisabled: !hasTemplateAccess || !patchSetName || satelliteManaged,\n                            onClick: () => openUnassignSystemsModal([inventoryId])\n                        }]}\n                    //FIXME: remove this prop after inventory detail gets rid of activeApps in redux\n                    appList={[]}\n                >\n                    <Grid>\n                        {patchSetName && <GridItem>\n                            <TextContent>\n                                <Text>\n                                    {intl.formatMessage(messages.labelsColumnsTemplate)}:\n                                    <InsightsLink to={`/templates/${patchSetId}`} className=\"pf-v5-u-ml-xs\">\n                                        {patchSetName}\n                                    </InsightsLink>\n                                </Text>\n                            </TextContent>\n                        </GridItem>}\n                        <GridItem>\n                            {satelliteManaged\n                                ? <Fragment>\n                                    <Alert\n                                        className='pf-v5-u-mt-md'\n                                        isInline\n                                        variant=\"info\"\n                                        title=\"This system has content managed by Satellite. Installable updates are\n                                            current as of the last time the system checked-in with Red Hat Insights.\"\n                                    />\n                                    <Alert\n                                        className='pf-v5-u-mt-md'\n                                        isInline\n                                        variant=\"warning\"\n                                        title=\"This system has content managed by Satellite. For accurate reporting of\n                                            installable updates, check in to Red Hat Insights with the --build-packagecache\n                                            option.\"\n                                    >\n                                        <a\n                                            href=\"https://access.redhat.com/solutions/7041171\"\n                                            target=\"__blank\"\n                                            rel=\"noopener noreferrer\"\n                                        >\n                                            Read more\n                                        </a>\n                                    </Alert>\n                                </Fragment>\n                                : hasThirdPartyRepo && <Alert\n                                    className='pf-v5-u-mt-md'\n                                    isInline\n                                    variant=\"info\"\n                                    title=\"This system has content that is managed by repositories other than the Red Hat CDN\"\n                                />\n                            }\n                        </GridItem>\n                    </Grid>\n                </InventoryDetailHead>\n            </Header>\n            <Main>\n                <SystemDetail\n                    inventoryId={inventoryId}\n                    shouldRefresh={patchSetState.shouldRefresh}\n                />\n            </Main>\n        </DetailWrapper>);\n};\n\nexport default InventoryDetail;\n"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","BaseDetailWrapper","props","store","Cmp","component","className","children","Suspense","fallback","ScalprumComponent","history","appName","module","scope","ErrorComponent","InventoryLoadError","ref","innerRef","propTypes","DetailWrapper","defaultProps","Bullseye","Spinner","size","WithHistory","Component","BaseInventoryDetailHead","InventoryDetailHead","innerProps","inventoryId","useParams","useStore","dispatch","useDispatch","_useSelector","useSelector","_ref","SystemDetailStore","hasThirdPartyRepo","satelliteManaged","patchSetName","patchSetId","displayName","_ref2","_entityDetails$entity","entityDetails","entity","display_name","_usePatchSetState","usePatchSetState","patchSetState","setPatchSetState","openAssignSystemsModal","openUnassignSystemsModal","useEffect","fetchSystemDetailsAction","clearNotifications","shouldRefresh","chrome","useChrome","updateDocumentTitle","concat","intl","formatMessage","messages","titlesSystems","DEFAULT_PATCH_TITLE","hasTemplateAccess","usePermissionsWithContext","hasAccess","React","onLoad","_ref3","mergeWithDetail","replaceReducer","combineReducers","_objectSpread","defaultReducers","PatchSetWrapper","Header","title","headerOUIA","breadcrumbs","titlesPatchSystems","to","isActive","hideBack","showTags","actions","titlesTemplateAssign","key","isDisabled","onClick","_defineProperty","titlesTemplateRemoveMultipleButton","appList","Grid","GridItem","TextContent","Text","labelsColumnsTemplate","InsightsLink","Fragment","Alert","isInline","variant","href","target","rel","Main","SystemDetail"],"sourceRoot":""}